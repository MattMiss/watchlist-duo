(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function E_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Sd={exports:{}},Da={},Ad={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg;function IE(){if(Dg)return xe;Dg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function A(L){return L===null||typeof L!="object"?null:(L=T&&L[T]||L["@@iterator"],typeof L=="function"?L:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,z={};function D(L,Q,me){this.props=L,this.context=Q,this.refs=z,this.updater=me||F}D.prototype.isReactComponent={},D.prototype.setState=function(L,Q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Q,"setState")},D.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function ee(){}ee.prototype=D.prototype;function W(L,Q,me){this.props=L,this.context=Q,this.refs=z,this.updater=me||F}var X=W.prototype=new ee;X.constructor=W,U(X,D.prototype),X.isPureReactComponent=!0;var ne=Array.isArray,pe=Object.prototype.hasOwnProperty,de={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function I(L,Q,me){var Pe,ke={},Le=null,Be=null;if(Q!=null)for(Pe in Q.ref!==void 0&&(Be=Q.ref),Q.key!==void 0&&(Le=""+Q.key),Q)pe.call(Q,Pe)&&!P.hasOwnProperty(Pe)&&(ke[Pe]=Q[Pe]);var $e=arguments.length-2;if($e===1)ke.children=me;else if(1<$e){for(var Ke=Array($e),It=0;It<$e;It++)Ke[It]=arguments[It+2];ke.children=Ke}if(L&&L.defaultProps)for(Pe in $e=L.defaultProps,$e)ke[Pe]===void 0&&(ke[Pe]=$e[Pe]);return{$$typeof:n,type:L,key:Le,ref:Be,props:ke,_owner:de.current}}function R(L,Q){return{$$typeof:n,type:L.type,key:Q,ref:L.ref,props:L.props,_owner:L._owner}}function x(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function b(L){var Q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(me){return Q[me]})}var O=/\/+/g;function C(L,Q){return typeof L=="object"&&L!==null&&L.key!=null?b(""+L.key):Q.toString(36)}function tt(L,Q,me,Pe,ke){var Le=typeof L;(Le==="undefined"||Le==="boolean")&&(L=null);var Be=!1;if(L===null)Be=!0;else switch(Le){case"string":case"number":Be=!0;break;case"object":switch(L.$$typeof){case n:case e:Be=!0}}if(Be)return Be=L,ke=ke(Be),L=Pe===""?"."+C(Be,0):Pe,ne(ke)?(me="",L!=null&&(me=L.replace(O,"$&/")+"/"),tt(ke,Q,me,"",function(It){return It})):ke!=null&&(x(ke)&&(ke=R(ke,me+(!ke.key||Be&&Be.key===ke.key?"":(""+ke.key).replace(O,"$&/")+"/")+L)),Q.push(ke)),1;if(Be=0,Pe=Pe===""?".":Pe+":",ne(L))for(var $e=0;$e<L.length;$e++){Le=L[$e];var Ke=Pe+C(Le,$e);Be+=tt(Le,Q,me,Ke,ke)}else if(Ke=A(L),typeof Ke=="function")for(L=Ke.call(L),$e=0;!(Le=L.next()).done;)Le=Le.value,Ke=Pe+C(Le,$e++),Be+=tt(Le,Q,me,Ke,ke);else if(Le==="object")throw Q=String(L),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Be}function pt(L,Q,me){if(L==null)return L;var Pe=[],ke=0;return tt(L,Pe,"","",function(Le){return Q.call(me,Le,ke++)}),Pe}function mt(L){if(L._status===-1){var Q=L._result;Q=Q(),Q.then(function(me){(L._status===0||L._status===-1)&&(L._status=1,L._result=me)},function(me){(L._status===0||L._status===-1)&&(L._status=2,L._result=me)}),L._status===-1&&(L._status=0,L._result=Q)}if(L._status===1)return L._result.default;throw L._result}var je={current:null},re={transition:null},_e={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:re,ReactCurrentOwner:de};function oe(){throw Error("act(...) is not supported in production builds of React.")}return xe.Children={map:pt,forEach:function(L,Q,me){pt(L,function(){Q.apply(this,arguments)},me)},count:function(L){var Q=0;return pt(L,function(){Q++}),Q},toArray:function(L){return pt(L,function(Q){return Q})||[]},only:function(L){if(!x(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},xe.Component=D,xe.Fragment=t,xe.Profiler=o,xe.PureComponent=W,xe.StrictMode=i,xe.Suspense=m,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,xe.act=oe,xe.cloneElement=function(L,Q,me){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Pe=U({},L.props),ke=L.key,Le=L.ref,Be=L._owner;if(Q!=null){if(Q.ref!==void 0&&(Le=Q.ref,Be=de.current),Q.key!==void 0&&(ke=""+Q.key),L.type&&L.type.defaultProps)var $e=L.type.defaultProps;for(Ke in Q)pe.call(Q,Ke)&&!P.hasOwnProperty(Ke)&&(Pe[Ke]=Q[Ke]===void 0&&$e!==void 0?$e[Ke]:Q[Ke])}var Ke=arguments.length-2;if(Ke===1)Pe.children=me;else if(1<Ke){$e=Array(Ke);for(var It=0;It<Ke;It++)$e[It]=arguments[It+2];Pe.children=$e}return{$$typeof:n,type:L.type,key:ke,ref:Le,props:Pe,_owner:Be}},xe.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:l,_context:L},L.Consumer=L},xe.createElement=I,xe.createFactory=function(L){var Q=I.bind(null,L);return Q.type=L,Q},xe.createRef=function(){return{current:null}},xe.forwardRef=function(L){return{$$typeof:f,render:L}},xe.isValidElement=x,xe.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:mt}},xe.memo=function(L,Q){return{$$typeof:y,type:L,compare:Q===void 0?null:Q}},xe.startTransition=function(L){var Q=re.transition;re.transition={};try{L()}finally{re.transition=Q}},xe.unstable_act=oe,xe.useCallback=function(L,Q){return je.current.useCallback(L,Q)},xe.useContext=function(L){return je.current.useContext(L)},xe.useDebugValue=function(){},xe.useDeferredValue=function(L){return je.current.useDeferredValue(L)},xe.useEffect=function(L,Q){return je.current.useEffect(L,Q)},xe.useId=function(){return je.current.useId()},xe.useImperativeHandle=function(L,Q,me){return je.current.useImperativeHandle(L,Q,me)},xe.useInsertionEffect=function(L,Q){return je.current.useInsertionEffect(L,Q)},xe.useLayoutEffect=function(L,Q){return je.current.useLayoutEffect(L,Q)},xe.useMemo=function(L,Q){return je.current.useMemo(L,Q)},xe.useReducer=function(L,Q,me){return je.current.useReducer(L,Q,me)},xe.useRef=function(L){return je.current.useRef(L)},xe.useState=function(L){return je.current.useState(L)},xe.useSyncExternalStore=function(L,Q,me){return je.current.useSyncExternalStore(L,Q,me)},xe.useTransition=function(){return je.current.useTransition()},xe.version="18.3.1",xe}var Og;function Cf(){return Og||(Og=1,Ad.exports=IE()),Ad.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg;function SE(){if(Lg)return Da;Lg=1;var n=Cf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(f,m,y){var v,T={},A=null,F=null;y!==void 0&&(A=""+y),m.key!==void 0&&(A=""+m.key),m.ref!==void 0&&(F=m.ref);for(v in m)i.call(m,v)&&!l.hasOwnProperty(v)&&(T[v]=m[v]);if(f&&f.defaultProps)for(v in m=f.defaultProps,m)T[v]===void 0&&(T[v]=m[v]);return{$$typeof:e,type:f,key:A,ref:F,props:T,_owner:o.current}}return Da.Fragment=t,Da.jsx=c,Da.jsxs=c,Da}var Vg;function AE(){return Vg||(Vg=1,Sd.exports=SE()),Sd.exports}var H=AE(),ge=Cf();const Ue=E_(ge);var Ou={},Rd={exports:{}},sn={},Cd={exports:{}},Pd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function RE(){return Mg||(Mg=1,function(n){function e(re,_e){var oe=re.length;re.push(_e);e:for(;0<oe;){var L=oe-1>>>1,Q=re[L];if(0<o(Q,_e))re[L]=_e,re[oe]=Q,oe=L;else break e}}function t(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var _e=re[0],oe=re.pop();if(oe!==_e){re[0]=oe;e:for(var L=0,Q=re.length,me=Q>>>1;L<me;){var Pe=2*(L+1)-1,ke=re[Pe],Le=Pe+1,Be=re[Le];if(0>o(ke,oe))Le<Q&&0>o(Be,ke)?(re[L]=Be,re[Le]=oe,L=Le):(re[L]=ke,re[Pe]=oe,L=Pe);else if(Le<Q&&0>o(Be,oe))re[L]=Be,re[Le]=oe,L=Le;else break e}}return _e}function o(re,_e){var oe=re.sortIndex-_e.sortIndex;return oe!==0?oe:re.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var m=[],y=[],v=1,T=null,A=3,F=!1,U=!1,z=!1,D=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function X(re){for(var _e=t(y);_e!==null;){if(_e.callback===null)i(y);else if(_e.startTime<=re)i(y),_e.sortIndex=_e.expirationTime,e(m,_e);else break;_e=t(y)}}function ne(re){if(z=!1,X(re),!U)if(t(m)!==null)U=!0,mt(pe);else{var _e=t(y);_e!==null&&je(ne,_e.startTime-re)}}function pe(re,_e){U=!1,z&&(z=!1,ee(I),I=-1),F=!0;var oe=A;try{for(X(_e),T=t(m);T!==null&&(!(T.expirationTime>_e)||re&&!b());){var L=T.callback;if(typeof L=="function"){T.callback=null,A=T.priorityLevel;var Q=L(T.expirationTime<=_e);_e=n.unstable_now(),typeof Q=="function"?T.callback=Q:T===t(m)&&i(m),X(_e)}else i(m);T=t(m)}if(T!==null)var me=!0;else{var Pe=t(y);Pe!==null&&je(ne,Pe.startTime-_e),me=!1}return me}finally{T=null,A=oe,F=!1}}var de=!1,P=null,I=-1,R=5,x=-1;function b(){return!(n.unstable_now()-x<R)}function O(){if(P!==null){var re=n.unstable_now();x=re;var _e=!0;try{_e=P(!0,re)}finally{_e?C():(de=!1,P=null)}}else de=!1}var C;if(typeof W=="function")C=function(){W(O)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,pt=tt.port2;tt.port1.onmessage=O,C=function(){pt.postMessage(null)}}else C=function(){D(O,0)};function mt(re){P=re,de||(de=!0,C())}function je(re,_e){I=D(function(){re(n.unstable_now())},_e)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){U||F||(U=!0,mt(pe))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(re){switch(A){case 1:case 2:case 3:var _e=3;break;default:_e=A}var oe=A;A=_e;try{return re()}finally{A=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,_e){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var oe=A;A=re;try{return _e()}finally{A=oe}},n.unstable_scheduleCallback=function(re,_e,oe){var L=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?L+oe:L):oe=L,re){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=oe+Q,re={id:v++,callback:_e,priorityLevel:re,startTime:oe,expirationTime:Q,sortIndex:-1},oe>L?(re.sortIndex=oe,e(y,re),t(m)===null&&re===t(y)&&(z?(ee(I),I=-1):z=!0,je(ne,oe-L))):(re.sortIndex=Q,e(m,re),U||F||(U=!0,mt(pe))),re},n.unstable_shouldYield=b,n.unstable_wrapCallback=function(re){var _e=A;return function(){var oe=A;A=_e;try{return re.apply(this,arguments)}finally{A=oe}}}}(Pd)),Pd}var Fg;function CE(){return Fg||(Fg=1,Cd.exports=RE()),Cd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug;function PE(){if(Ug)return sn;Ug=1;var n=Cf(),e=CE();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},T={};function A(r){return m.call(T,r)?!0:m.call(v,r)?!1:y.test(r)?T[r]=!0:(v[r]=!0,!1)}function F(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function U(r,s,a,h){if(s===null||typeof s>"u"||F(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function z(r,s,a,h,d,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){D[r]=new z(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];D[s]=new z(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){D[r]=new z(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){D[r]=new z(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){D[r]=new z(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){D[r]=new z(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){D[r]=new z(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){D[r]=new z(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){D[r]=new z(r,5,!1,r.toLowerCase(),null,!1,!1)});var ee=/[\-:]([a-z])/g;function W(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(ee,W);D[s]=new z(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(ee,W);D[s]=new z(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(ee,W);D[s]=new z(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){D[r]=new z(r,1,!1,r.toLowerCase(),null,!1,!1)}),D.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){D[r]=new z(r,1,!1,r.toLowerCase(),null,!0,!0)});function X(r,s,a,h){var d=D.hasOwnProperty(s)?D[s]:null;(d!==null?d.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(U(s,a,d,h)&&(a=null),h||d===null?A(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,h=d.attributeNamespace,a===null?r.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var ne=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pe=Symbol.for("react.element"),de=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),b=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),pt=Symbol.for("react.memo"),mt=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),re=Symbol.iterator;function _e(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,L;function Q(r){if(L===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+r}var me=!1;function Pe(r,s){if(!r||me)return"";me=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(B){var h=B}Reflect.construct(r,[],s)}else{try{s.call()}catch(B){h=B}r.call(s.prototype)}else{try{throw Error()}catch(B){h=B}r()}}catch(B){if(B&&h&&typeof B.stack=="string"){for(var d=B.stack.split(`
`),g=h.stack.split(`
`),w=d.length-1,S=g.length-1;1<=w&&0<=S&&d[w]!==g[S];)S--;for(;1<=w&&0<=S;w--,S--)if(d[w]!==g[S]){if(w!==1||S!==1)do if(w--,S--,0>S||d[w]!==g[S]){var k=`
`+d[w].replace(" at new "," at ");return r.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",r.displayName)),k}while(1<=w&&0<=S);break}}}finally{me=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Q(r):""}function ke(r){switch(r.tag){case 5:return Q(r.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return r=Pe(r.type,!1),r;case 11:return r=Pe(r.type.render,!1),r;case 1:return r=Pe(r.type,!0),r;default:return""}}function Le(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case de:return"Portal";case R:return"Profiler";case I:return"StrictMode";case C:return"Suspense";case tt:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case b:return(r.displayName||"Context")+".Consumer";case x:return(r._context.displayName||"Context")+".Provider";case O:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case pt:return s=r.displayName||null,s!==null?s:Le(r.type)||"Memo";case mt:s=r._payload,r=r._init;try{return Le(r(s))}catch{}}return null}function Be(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function $e(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ke(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function It(r){var s=Ke(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(w){h=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function dr(r){r._valueTracker||(r._valueTracker=It(r))}function ws(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=Ke(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function Br(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function xi(r,s){var a=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Es(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=$e(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Uo(r,s){s=s.checked,s!=null&&X(r,"checked",s,!1)}function jo(r,s){Uo(r,s);var a=$e(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ts(r,s.type,a):s.hasOwnProperty("defaultValue")&&Ts(r,s.type,$e(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function vl(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Ts(r,s,a){(s!=="number"||Br(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var fr=Array.isArray;function pr(r,s,a,h){if(r=r.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=s.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&h&&(r[a].defaultSelected=!0)}else{for(a=""+$e(a),s=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,h&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function zo(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Is(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(fr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:$e(a)}}function Ss(r,s){var a=$e(s.value),h=$e(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function Bo(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function gt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?gt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var mr,$o=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,d){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,d)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(mr=mr||document.createElement("div"),mr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function $r(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bi=["Webkit","ms","Moz","O"];Object.keys(Ni).forEach(function(r){bi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Ni[s]=Ni[r]})});function qo(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Ni.hasOwnProperty(r)&&Ni[r]?(""+s).trim():s+"px"}function Ho(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,d=qo(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,d):r[a]=d}}var Wo=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ko(r,s){if(s){if(Wo[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Go(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Di=null;function As(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Rs=null,vn=null,Gn=null;function Cs(r){if(r=_a(r)){if(typeof Rs!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Ql(s),Rs(r.stateNode,r.type,s))}}function Qn(r){vn?Gn?Gn.push(r):Gn=[r]:vn=r}function Qo(){if(vn){var r=vn,s=Gn;if(Gn=vn=null,Cs(r),s)for(r=0;r<s.length;r++)Cs(s[r])}}function Oi(r,s){return r(s)}function Xo(){}var gr=!1;function Yo(r,s,a){if(gr)return r(s,a);gr=!0;try{return Oi(r,s,a)}finally{gr=!1,(vn!==null||Gn!==null)&&(Xo(),Qo())}}function at(r,s){var a=r.stateNode;if(a===null)return null;var h=Ql(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Ps=!1;if(f)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{Ps=!1}function Li(r,s,a,h,d,g,w,S,k){var B=Array.prototype.slice.call(arguments,3);try{s.apply(a,B)}catch(J){this.onError(J)}}var Vi=!1,ks=null,Nn=!1,Jo=null,Jc={onError:function(r){Vi=!0,ks=r}};function xs(r,s,a,h,d,g,w,S,k){Vi=!1,ks=null,Li.apply(Jc,arguments)}function wl(r,s,a,h,d,g,w,S,k){if(xs.apply(this,arguments),Vi){if(Vi){var B=ks;Vi=!1,ks=null}else throw Error(t(198));Nn||(Nn=!0,Jo=B)}}function bn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Mi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Dn(r){if(bn(r)!==r)throw Error(t(188))}function El(r){var s=r.alternate;if(!s){if(s=bn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(h=d.return,h!==null){a=h;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return Dn(d),r;if(g===h)return Dn(d),s;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=d,h=g;else{for(var w=!1,S=d.child;S;){if(S===a){w=!0,a=d,h=g;break}if(S===h){w=!0,h=d,a=g;break}S=S.sibling}if(!w){for(S=g.child;S;){if(S===a){w=!0,a=g,h=d;break}if(S===h){w=!0,h=g,a=d;break}S=S.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function Zo(r){return r=El(r),r!==null?Ns(r):null}function Ns(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Ns(r);if(s!==null)return s;r=r.sibling}return null}var bs=e.unstable_scheduleCallback,ea=e.unstable_cancelCallback,Tl=e.unstable_shouldYield,Zc=e.unstable_requestPaint,Ge=e.unstable_now,Il=e.unstable_getCurrentPriorityLevel,Fi=e.unstable_ImmediatePriority,qr=e.unstable_UserBlockingPriority,wn=e.unstable_NormalPriority,ta=e.unstable_LowPriority,Sl=e.unstable_IdlePriority,Ui=null,cn=null;function Al(r){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Ui,r,void 0,(r.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:Cl,na=Math.log,Rl=Math.LN2;function Cl(r){return r>>>=0,r===0?32:31-(na(r)/Rl|0)|0}var Ds=64,Os=4194304;function Hr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ji(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,d=r.suspendedLanes,g=r.pingedLanes,w=a&268435455;if(w!==0){var S=w&~d;S!==0?h=Hr(S):(g&=w,g!==0&&(h=Hr(g)))}else w=a&~d,w!==0?h=Hr(w):g!==0&&(h=Hr(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&d)&&(d=h&-h,g=s&-s,d>=g||d===16&&(g&4194240)!==0))return s;if(h&4&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-Wt(s),d=1<<a,h|=r[a],s&=~d;return h}function eh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yr(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-Wt(g),S=1<<w,k=d[w];k===-1?(!(S&a)||S&h)&&(d[w]=eh(S,s)):k<=s&&(r.expiredLanes|=S),g&=~S}}function hn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function zi(){var r=Ds;return Ds<<=1,!(Ds&4194240)&&(Ds=64),r}function Wr(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Kr(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Wt(s),r[s]=a}function We(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-Wt(a),g=1<<d;s[d]=0,h[d]=-1,r[d]=-1,a&=~g}}function Gr(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-Wt(a),d=1<<h;d&s|r[h]&s&&(r[h]|=s),a&=~d}}var De=0;function Qr(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Pl,Ls,kl,xl,Nl,ra=!1,Xn=[],xt=null,On=null,Ln=null,Xr=new Map,En=new Map,Yn=[],th="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bl(r,s){switch(r){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":Xr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":En.delete(s.pointerId)}}function Yt(r,s,a,h,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[d]},s!==null&&(s=_a(s),s!==null&&Ls(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function nh(r,s,a,h,d){switch(s){case"focusin":return xt=Yt(xt,r,s,a,h,d),!0;case"dragenter":return On=Yt(On,r,s,a,h,d),!0;case"mouseover":return Ln=Yt(Ln,r,s,a,h,d),!0;case"pointerover":var g=d.pointerId;return Xr.set(g,Yt(Xr.get(g)||null,r,s,a,h,d)),!0;case"gotpointercapture":return g=d.pointerId,En.set(g,Yt(En.get(g)||null,r,s,a,h,d)),!0}return!1}function Dl(r){var s=Wi(r.target);if(s!==null){var a=bn(s);if(a!==null){if(s=a.tag,s===13){if(s=Mi(a),s!==null){r.blockedOn=s,Nl(r.priority,function(){kl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function _r(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Vs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Di=h,a.target.dispatchEvent(h),Di=null}else return s=_a(a),s!==null&&Ls(s),r.blockedOn=a,!1;s.shift()}return!0}function Bi(r,s,a){_r(r)&&a.delete(s)}function Ol(){ra=!1,xt!==null&&_r(xt)&&(xt=null),On!==null&&_r(On)&&(On=null),Ln!==null&&_r(Ln)&&(Ln=null),Xr.forEach(Bi),En.forEach(Bi)}function Vn(r,s){r.blockedOn===s&&(r.blockedOn=null,ra||(ra=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ol)))}function Mn(r){function s(d){return Vn(d,r)}if(0<Xn.length){Vn(Xn[0],r);for(var a=1;a<Xn.length;a++){var h=Xn[a];h.blockedOn===r&&(h.blockedOn=null)}}for(xt!==null&&Vn(xt,r),On!==null&&Vn(On,r),Ln!==null&&Vn(Ln,r),Xr.forEach(s),En.forEach(s),a=0;a<Yn.length;a++)h=Yn[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<Yn.length&&(a=Yn[0],a.blockedOn===null);)Dl(a),a.blockedOn===null&&Yn.shift()}var vr=ne.ReactCurrentBatchConfig,Yr=!0;function Ze(r,s,a,h){var d=De,g=vr.transition;vr.transition=null;try{De=1,ia(r,s,a,h)}finally{De=d,vr.transition=g}}function rh(r,s,a,h){var d=De,g=vr.transition;vr.transition=null;try{De=4,ia(r,s,a,h)}finally{De=d,vr.transition=g}}function ia(r,s,a,h){if(Yr){var d=Vs(r,s,a,h);if(d===null)ph(r,s,h,$i,a),bl(r,h);else if(nh(d,r,s,a,h))h.stopPropagation();else if(bl(r,h),s&4&&-1<th.indexOf(r)){for(;d!==null;){var g=_a(d);if(g!==null&&Pl(g),g=Vs(r,s,a,h),g===null&&ph(r,s,h,$i,a),g===d)break;d=g}d!==null&&h.stopPropagation()}else ph(r,s,h,null,a)}}var $i=null;function Vs(r,s,a,h){if($i=null,r=As(h),r=Wi(r),r!==null)if(s=bn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Mi(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return $i=r,null}function sa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Il()){case Fi:return 1;case qr:return 4;case wn:case ta:return 16;case Sl:return 536870912;default:return 16}default:return 16}}var dn=null,Ms=null,Jt=null;function oa(){if(Jt)return Jt;var r,s=Ms,a=s.length,h,d="value"in dn?dn.value:dn.textContent,g=d.length;for(r=0;r<a&&s[r]===d[r];r++);var w=a-r;for(h=1;h<=w&&s[a-h]===d[g-h];h++);return Jt=d.slice(r,1<h?1-h:void 0)}function Fs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Jn(){return!0}function aa(){return!1}function Nt(r){function s(a,h,d,g,w){this._reactName=a,this._targetInst=d,this.type=h,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(a=r[S],this[S]=a?a(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Jn:aa,this.isPropagationStopped=aa,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),s}var Fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Us=Nt(Fn),Zn=oe({},Fn,{view:0,detail:0}),ih=Nt(Zn),js,wr,Jr,qi=oe({},Zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Jr&&(Jr&&r.type==="mousemove"?(js=r.screenX-Jr.screenX,wr=r.screenY-Jr.screenY):wr=js=0,Jr=r),js)},movementY:function(r){return"movementY"in r?r.movementY:wr}}),zs=Nt(qi),la=oe({},qi,{dataTransfer:0}),Ll=Nt(la),Bs=oe({},Zn,{relatedTarget:0}),$s=Nt(Bs),Vl=oe({},Fn,{animationName:0,elapsedTime:0,pseudoElement:0}),Er=Nt(Vl),Ml=oe({},Fn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Fl=Nt(Ml),Ul=oe({},Fn,{data:0}),ua=Nt(Ul),qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=jl[r])?!!s[r]:!1}function er(){return zl}var u=oe({},Zn,{key:function(r){if(r.key){var s=qs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Fs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Kt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(r){return r.type==="keypress"?Fs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Fs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),p=Nt(u),_=oe({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Nt(_),V=oe({},Zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),$=Nt(V),ie=oe({},Fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=Nt(ie),_t=oe({},qi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=Nt(_t),St=[9,13,27,32],ct=f&&"CompositionEvent"in window,Tn=null;f&&"documentMode"in document&&(Tn=document.documentMode);var fn=f&&"TextEvent"in window&&!Tn,Hi=f&&(!ct||Tn&&8<Tn&&11>=Tn),Hs=" ",Cp=!1;function Pp(r,s){switch(r){case"keyup":return St.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ws=!1;function ww(r,s){switch(r){case"compositionend":return kp(s);case"keypress":return s.which!==32?null:(Cp=!0,Hs);case"textInput":return r=s.data,r===Hs&&Cp?null:r;default:return null}}function Ew(r,s){if(Ws)return r==="compositionend"||!ct&&Pp(r,s)?(r=oa(),Jt=Ms=dn=null,Ws=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Hi&&s.locale!=="ko"?null:s.data;default:return null}}var Tw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Tw[r.type]:s==="textarea"}function Np(r,s,a,h){Qn(h),s=Wl(s,"onChange"),0<s.length&&(a=new Us("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var ca=null,ha=null;function Iw(r){Qp(r,0)}function Bl(r){var s=Ys(r);if(ws(s))return r}function Sw(r,s){if(r==="change")return s}var bp=!1;if(f){var sh;if(f){var oh="oninput"in document;if(!oh){var Dp=document.createElement("div");Dp.setAttribute("oninput","return;"),oh=typeof Dp.oninput=="function"}sh=oh}else sh=!1;bp=sh&&(!document.documentMode||9<document.documentMode)}function Op(){ca&&(ca.detachEvent("onpropertychange",Lp),ha=ca=null)}function Lp(r){if(r.propertyName==="value"&&Bl(ha)){var s=[];Np(s,ha,r,As(r)),Yo(Iw,s)}}function Aw(r,s,a){r==="focusin"?(Op(),ca=s,ha=a,ca.attachEvent("onpropertychange",Lp)):r==="focusout"&&Op()}function Rw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Bl(ha)}function Cw(r,s){if(r==="click")return Bl(s)}function Pw(r,s){if(r==="input"||r==="change")return Bl(s)}function kw(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Un=typeof Object.is=="function"?Object.is:kw;function da(r,s){if(Un(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var d=a[h];if(!m.call(s,d)||!Un(r[d],s[d]))return!1}return!0}function Vp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Mp(r,s){var a=Vp(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vp(a)}}function Fp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Fp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Up(){for(var r=window,s=Br();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Br(r.document)}return s}function ah(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function xw(r){var s=Up(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Fp(a.ownerDocument.documentElement,a)){if(h!==null&&ah(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,g=Math.min(h.start,d);h=h.end===void 0?g:Math.min(h.end,d),!r.extend&&g>h&&(d=h,h=g,g=d),d=Mp(a,g);var w=Mp(a,h);d&&w&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Nw=f&&"documentMode"in document&&11>=document.documentMode,Ks=null,lh=null,fa=null,uh=!1;function jp(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uh||Ks==null||Ks!==Br(h)||(h=Ks,"selectionStart"in h&&ah(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),fa&&da(fa,h)||(fa=h,h=Wl(lh,"onSelect"),0<h.length&&(s=new Us("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=Ks)))}function $l(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Gs={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionend:$l("Transition","TransitionEnd")},ch={},zp={};f&&(zp=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function ql(r){if(ch[r])return ch[r];if(!Gs[r])return r;var s=Gs[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in zp)return ch[r]=s[a];return r}var Bp=ql("animationend"),$p=ql("animationiteration"),qp=ql("animationstart"),Hp=ql("transitionend"),Wp=new Map,Kp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(r,s){Wp.set(r,s),l(s,[r])}for(var hh=0;hh<Kp.length;hh++){var dh=Kp[hh],bw=dh.toLowerCase(),Dw=dh[0].toUpperCase()+dh.slice(1);Zr(bw,"on"+Dw)}Zr(Bp,"onAnimationEnd"),Zr($p,"onAnimationIteration"),Zr(qp,"onAnimationStart"),Zr("dblclick","onDoubleClick"),Zr("focusin","onFocus"),Zr("focusout","onBlur"),Zr(Hp,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ow=new Set("cancel close invalid load scroll toggle".split(" ").concat(pa));function Gp(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,wl(h,s,void 0,r),r.currentTarget=null}function Qp(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],d=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var w=h.length-1;0<=w;w--){var S=h[w],k=S.instance,B=S.currentTarget;if(S=S.listener,k!==g&&d.isPropagationStopped())break e;Gp(d,S,B),g=k}else for(w=0;w<h.length;w++){if(S=h[w],k=S.instance,B=S.currentTarget,S=S.listener,k!==g&&d.isPropagationStopped())break e;Gp(d,S,B),g=k}}}if(Nn)throw r=Jo,Nn=!1,Jo=null,r}function Xe(r,s){var a=s[wh];a===void 0&&(a=s[wh]=new Set);var h=r+"__bubble";a.has(h)||(Xp(s,r,2,!1),a.add(h))}function fh(r,s,a){var h=0;s&&(h|=4),Xp(a,r,h,s)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function ma(r){if(!r[Hl]){r[Hl]=!0,i.forEach(function(a){a!=="selectionchange"&&(Ow.has(a)||fh(a,!1,r),fh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Hl]||(s[Hl]=!0,fh("selectionchange",!1,s))}}function Xp(r,s,a,h){switch(sa(s)){case 1:var d=Ze;break;case 4:d=rh;break;default:d=ia}a=d.bind(null,s,a,r),d=void 0,!Ps||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),h?d!==void 0?r.addEventListener(s,a,{capture:!0,passive:d}):r.addEventListener(s,a,!0):d!==void 0?r.addEventListener(s,a,{passive:d}):r.addEventListener(s,a,!1)}function ph(r,s,a,h,d){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var S=h.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(w===4)for(w=h.return;w!==null;){var k=w.tag;if((k===3||k===4)&&(k=w.stateNode.containerInfo,k===d||k.nodeType===8&&k.parentNode===d))return;w=w.return}for(;S!==null;){if(w=Wi(S),w===null)return;if(k=w.tag,k===5||k===6){h=g=w;continue e}S=S.parentNode}}h=h.return}Yo(function(){var B=g,J=As(a),Z=[];e:{var Y=Wp.get(r);if(Y!==void 0){var se=Us,ce=r;switch(r){case"keypress":if(Fs(a)===0)break e;case"keydown":case"keyup":se=p;break;case"focusin":ce="focus",se=$s;break;case"focusout":ce="blur",se=$s;break;case"beforeblur":case"afterblur":se=$s;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=zs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Ll;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=$;break;case Bp:case $p:case qp:se=Er;break;case Hp:se=He;break;case"scroll":se=ih;break;case"wheel":se=Ve;break;case"copy":case"cut":case"paste":se=Fl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=E}var he=(s&4)!==0,lt=!he&&r==="scroll",M=he?Y!==null?Y+"Capture":null:Y;he=[];for(var N=B,j;N!==null;){j=N;var te=j.stateNode;if(j.tag===5&&te!==null&&(j=te,M!==null&&(te=at(N,M),te!=null&&he.push(ga(N,te,j)))),lt)break;N=N.return}0<he.length&&(Y=new se(Y,ce,null,a,J),Z.push({event:Y,listeners:he}))}}if(!(s&7)){e:{if(Y=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",Y&&a!==Di&&(ce=a.relatedTarget||a.fromElement)&&(Wi(ce)||ce[Tr]))break e;if((se||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,se?(ce=a.relatedTarget||a.toElement,se=B,ce=ce?Wi(ce):null,ce!==null&&(lt=bn(ce),ce!==lt||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(se=null,ce=B),se!==ce)){if(he=zs,te="onMouseLeave",M="onMouseEnter",N="mouse",(r==="pointerout"||r==="pointerover")&&(he=E,te="onPointerLeave",M="onPointerEnter",N="pointer"),lt=se==null?Y:Ys(se),j=ce==null?Y:Ys(ce),Y=new he(te,N+"leave",se,a,J),Y.target=lt,Y.relatedTarget=j,te=null,Wi(J)===B&&(he=new he(M,N+"enter",ce,a,J),he.target=j,he.relatedTarget=lt,te=he),lt=te,se&&ce)t:{for(he=se,M=ce,N=0,j=he;j;j=Qs(j))N++;for(j=0,te=M;te;te=Qs(te))j++;for(;0<N-j;)he=Qs(he),N--;for(;0<j-N;)M=Qs(M),j--;for(;N--;){if(he===M||M!==null&&he===M.alternate)break t;he=Qs(he),M=Qs(M)}he=null}else he=null;se!==null&&Yp(Z,Y,se,he,!1),ce!==null&&lt!==null&&Yp(Z,lt,ce,he,!0)}}e:{if(Y=B?Ys(B):window,se=Y.nodeName&&Y.nodeName.toLowerCase(),se==="select"||se==="input"&&Y.type==="file")var fe=Sw;else if(xp(Y))if(bp)fe=Pw;else{fe=Rw;var ve=Aw}else(se=Y.nodeName)&&se.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(fe=Cw);if(fe&&(fe=fe(r,B))){Np(Z,fe,a,J);break e}ve&&ve(r,Y,B),r==="focusout"&&(ve=Y._wrapperState)&&ve.controlled&&Y.type==="number"&&Ts(Y,"number",Y.value)}switch(ve=B?Ys(B):window,r){case"focusin":(xp(ve)||ve.contentEditable==="true")&&(Ks=ve,lh=B,fa=null);break;case"focusout":fa=lh=Ks=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,jp(Z,a,J);break;case"selectionchange":if(Nw)break;case"keydown":case"keyup":jp(Z,a,J)}var we;if(ct)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ws?Pp(r,a)&&(Ee="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(Hi&&a.locale!=="ko"&&(Ws||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ws&&(we=oa()):(dn=J,Ms="value"in dn?dn.value:dn.textContent,Ws=!0)),ve=Wl(B,Ee),0<ve.length&&(Ee=new ua(Ee,r,null,a,J),Z.push({event:Ee,listeners:ve}),we?Ee.data=we:(we=kp(a),we!==null&&(Ee.data=we)))),(we=fn?ww(r,a):Ew(r,a))&&(B=Wl(B,"onBeforeInput"),0<B.length&&(J=new ua("onBeforeInput","beforeinput",null,a,J),Z.push({event:J,listeners:B}),J.data=we))}Qp(Z,s)})}function ga(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Wl(r,s){for(var a=s+"Capture",h=[];r!==null;){var d=r,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=at(r,a),g!=null&&h.unshift(ga(r,g,d)),g=at(r,s),g!=null&&h.push(ga(r,g,d))),r=r.return}return h}function Qs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Yp(r,s,a,h,d){for(var g=s._reactName,w=[];a!==null&&a!==h;){var S=a,k=S.alternate,B=S.stateNode;if(k!==null&&k===h)break;S.tag===5&&B!==null&&(S=B,d?(k=at(a,g),k!=null&&w.unshift(ga(a,k,S))):d||(k=at(a,g),k!=null&&w.push(ga(a,k,S)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var Lw=/\r\n?/g,Vw=/\u0000|\uFFFD/g;function Jp(r){return(typeof r=="string"?r:""+r).replace(Lw,`
`).replace(Vw,"")}function Kl(r,s,a){if(s=Jp(s),Jp(r)!==s&&a)throw Error(t(425))}function Gl(){}var mh=null,gh=null;function yh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var _h=typeof setTimeout=="function"?setTimeout:void 0,Mw=typeof clearTimeout=="function"?clearTimeout:void 0,Zp=typeof Promise=="function"?Promise:void 0,Fw=typeof queueMicrotask=="function"?queueMicrotask:typeof Zp<"u"?function(r){return Zp.resolve(null).then(r).catch(Uw)}:_h;function Uw(r){setTimeout(function(){throw r})}function vh(r,s){var a=s,h=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(h===0){r.removeChild(d),Mn(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=d}while(a);Mn(s)}function ei(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function em(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Xs=Math.random().toString(36).slice(2),tr="__reactFiber$"+Xs,ya="__reactProps$"+Xs,Tr="__reactContainer$"+Xs,wh="__reactEvents$"+Xs,jw="__reactListeners$"+Xs,zw="__reactHandles$"+Xs;function Wi(r){var s=r[tr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Tr]||a[tr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=em(r);r!==null;){if(a=r[tr])return a;r=em(r)}return s}r=a,a=r.parentNode}return null}function _a(r){return r=r[tr]||r[Tr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ys(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Ql(r){return r[ya]||null}var Eh=[],Js=-1;function ti(r){return{current:r}}function Ye(r){0>Js||(r.current=Eh[Js],Eh[Js]=null,Js--)}function Qe(r,s){Js++,Eh[Js]=r.current,r.current=s}var ni={},Mt=ti(ni),Zt=ti(!1),Ki=ni;function Zs(r,s){var a=r.type.contextTypes;if(!a)return ni;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function en(r){return r=r.childContextTypes,r!=null}function Xl(){Ye(Zt),Ye(Mt)}function tm(r,s,a){if(Mt.current!==ni)throw Error(t(168));Qe(Mt,s),Qe(Zt,a)}function nm(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var d in h)if(!(d in s))throw Error(t(108,Be(r)||"Unknown",d));return oe({},a,h)}function Yl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ni,Ki=Mt.current,Qe(Mt,r),Qe(Zt,Zt.current),!0}function rm(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=nm(r,s,Ki),h.__reactInternalMemoizedMergedChildContext=r,Ye(Zt),Ye(Mt),Qe(Mt,r)):Ye(Zt),Qe(Zt,a)}var Ir=null,Jl=!1,Th=!1;function im(r){Ir===null?Ir=[r]:Ir.push(r)}function Bw(r){Jl=!0,im(r)}function ri(){if(!Th&&Ir!==null){Th=!0;var r=0,s=De;try{var a=Ir;for(De=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Ir=null,Jl=!1}catch(d){throw Ir!==null&&(Ir=Ir.slice(r+1)),bs(Fi,ri),d}finally{De=s,Th=!1}}return null}var eo=[],to=0,Zl=null,eu=0,In=[],Sn=0,Gi=null,Sr=1,Ar="";function Qi(r,s){eo[to++]=eu,eo[to++]=Zl,Zl=r,eu=s}function sm(r,s,a){In[Sn++]=Sr,In[Sn++]=Ar,In[Sn++]=Gi,Gi=r;var h=Sr;r=Ar;var d=32-Wt(h)-1;h&=~(1<<d),a+=1;var g=32-Wt(s)+d;if(30<g){var w=d-d%5;g=(h&(1<<w)-1).toString(32),h>>=w,d-=w,Sr=1<<32-Wt(s)+d|a<<d|h,Ar=g+r}else Sr=1<<g|a<<d|h,Ar=r}function Ih(r){r.return!==null&&(Qi(r,1),sm(r,1,0))}function Sh(r){for(;r===Zl;)Zl=eo[--to],eo[to]=null,eu=eo[--to],eo[to]=null;for(;r===Gi;)Gi=In[--Sn],In[Sn]=null,Ar=In[--Sn],In[Sn]=null,Sr=In[--Sn],In[Sn]=null}var pn=null,mn=null,et=!1,jn=null;function om(r,s){var a=Pn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function am(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,pn=r,mn=ei(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,pn=r,mn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Gi!==null?{id:Sr,overflow:Ar}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Pn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,pn=r,mn=null,!0):!1;default:return!1}}function Ah(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Rh(r){if(et){var s=mn;if(s){var a=s;if(!am(r,s)){if(Ah(r))throw Error(t(418));s=ei(a.nextSibling);var h=pn;s&&am(r,s)?om(h,a):(r.flags=r.flags&-4097|2,et=!1,pn=r)}}else{if(Ah(r))throw Error(t(418));r.flags=r.flags&-4097|2,et=!1,pn=r}}}function lm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;pn=r}function tu(r){if(r!==pn)return!1;if(!et)return lm(r),et=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!yh(r.type,r.memoizedProps)),s&&(s=mn)){if(Ah(r))throw um(),Error(t(418));for(;s;)om(r,s),s=ei(s.nextSibling)}if(lm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){mn=ei(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}mn=null}}else mn=pn?ei(r.stateNode.nextSibling):null;return!0}function um(){for(var r=mn;r;)r=ei(r.nextSibling)}function no(){mn=pn=null,et=!1}function Ch(r){jn===null?jn=[r]:jn.push(r)}var $w=ne.ReactCurrentBatchConfig;function va(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var d=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var S=d.refs;w===null?delete S[g]:S[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function nu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function cm(r){var s=r._init;return s(r._payload)}function hm(r){function s(M,N){if(r){var j=M.deletions;j===null?(M.deletions=[N],M.flags|=16):j.push(N)}}function a(M,N){if(!r)return null;for(;N!==null;)s(M,N),N=N.sibling;return null}function h(M,N){for(M=new Map;N!==null;)N.key!==null?M.set(N.key,N):M.set(N.index,N),N=N.sibling;return M}function d(M,N){return M=hi(M,N),M.index=0,M.sibling=null,M}function g(M,N,j){return M.index=j,r?(j=M.alternate,j!==null?(j=j.index,j<N?(M.flags|=2,N):j):(M.flags|=2,N)):(M.flags|=1048576,N)}function w(M){return r&&M.alternate===null&&(M.flags|=2),M}function S(M,N,j,te){return N===null||N.tag!==6?(N=_d(j,M.mode,te),N.return=M,N):(N=d(N,j),N.return=M,N)}function k(M,N,j,te){var fe=j.type;return fe===P?J(M,N,j.props.children,te,j.key):N!==null&&(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===mt&&cm(fe)===N.type)?(te=d(N,j.props),te.ref=va(M,N,j),te.return=M,te):(te=Ru(j.type,j.key,j.props,null,M.mode,te),te.ref=va(M,N,j),te.return=M,te)}function B(M,N,j,te){return N===null||N.tag!==4||N.stateNode.containerInfo!==j.containerInfo||N.stateNode.implementation!==j.implementation?(N=vd(j,M.mode,te),N.return=M,N):(N=d(N,j.children||[]),N.return=M,N)}function J(M,N,j,te,fe){return N===null||N.tag!==7?(N=rs(j,M.mode,te,fe),N.return=M,N):(N=d(N,j),N.return=M,N)}function Z(M,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return N=_d(""+N,M.mode,j),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case pe:return j=Ru(N.type,N.key,N.props,null,M.mode,j),j.ref=va(M,null,N),j.return=M,j;case de:return N=vd(N,M.mode,j),N.return=M,N;case mt:var te=N._init;return Z(M,te(N._payload),j)}if(fr(N)||_e(N))return N=rs(N,M.mode,j,null),N.return=M,N;nu(M,N)}return null}function Y(M,N,j,te){var fe=N!==null?N.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return fe!==null?null:S(M,N,""+j,te);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case pe:return j.key===fe?k(M,N,j,te):null;case de:return j.key===fe?B(M,N,j,te):null;case mt:return fe=j._init,Y(M,N,fe(j._payload),te)}if(fr(j)||_e(j))return fe!==null?null:J(M,N,j,te,null);nu(M,j)}return null}function se(M,N,j,te,fe){if(typeof te=="string"&&te!==""||typeof te=="number")return M=M.get(j)||null,S(N,M,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case pe:return M=M.get(te.key===null?j:te.key)||null,k(N,M,te,fe);case de:return M=M.get(te.key===null?j:te.key)||null,B(N,M,te,fe);case mt:var ve=te._init;return se(M,N,j,ve(te._payload),fe)}if(fr(te)||_e(te))return M=M.get(j)||null,J(N,M,te,fe,null);nu(N,te)}return null}function ce(M,N,j,te){for(var fe=null,ve=null,we=N,Ee=N=0,Ct=null;we!==null&&Ee<j.length;Ee++){we.index>Ee?(Ct=we,we=null):Ct=we.sibling;var ze=Y(M,we,j[Ee],te);if(ze===null){we===null&&(we=Ct);break}r&&we&&ze.alternate===null&&s(M,we),N=g(ze,N,Ee),ve===null?fe=ze:ve.sibling=ze,ve=ze,we=Ct}if(Ee===j.length)return a(M,we),et&&Qi(M,Ee),fe;if(we===null){for(;Ee<j.length;Ee++)we=Z(M,j[Ee],te),we!==null&&(N=g(we,N,Ee),ve===null?fe=we:ve.sibling=we,ve=we);return et&&Qi(M,Ee),fe}for(we=h(M,we);Ee<j.length;Ee++)Ct=se(we,M,Ee,j[Ee],te),Ct!==null&&(r&&Ct.alternate!==null&&we.delete(Ct.key===null?Ee:Ct.key),N=g(Ct,N,Ee),ve===null?fe=Ct:ve.sibling=Ct,ve=Ct);return r&&we.forEach(function(di){return s(M,di)}),et&&Qi(M,Ee),fe}function he(M,N,j,te){var fe=_e(j);if(typeof fe!="function")throw Error(t(150));if(j=fe.call(j),j==null)throw Error(t(151));for(var ve=fe=null,we=N,Ee=N=0,Ct=null,ze=j.next();we!==null&&!ze.done;Ee++,ze=j.next()){we.index>Ee?(Ct=we,we=null):Ct=we.sibling;var di=Y(M,we,ze.value,te);if(di===null){we===null&&(we=Ct);break}r&&we&&di.alternate===null&&s(M,we),N=g(di,N,Ee),ve===null?fe=di:ve.sibling=di,ve=di,we=Ct}if(ze.done)return a(M,we),et&&Qi(M,Ee),fe;if(we===null){for(;!ze.done;Ee++,ze=j.next())ze=Z(M,ze.value,te),ze!==null&&(N=g(ze,N,Ee),ve===null?fe=ze:ve.sibling=ze,ve=ze);return et&&Qi(M,Ee),fe}for(we=h(M,we);!ze.done;Ee++,ze=j.next())ze=se(we,M,Ee,ze.value,te),ze!==null&&(r&&ze.alternate!==null&&we.delete(ze.key===null?Ee:ze.key),N=g(ze,N,Ee),ve===null?fe=ze:ve.sibling=ze,ve=ze);return r&&we.forEach(function(TE){return s(M,TE)}),et&&Qi(M,Ee),fe}function lt(M,N,j,te){if(typeof j=="object"&&j!==null&&j.type===P&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case pe:e:{for(var fe=j.key,ve=N;ve!==null;){if(ve.key===fe){if(fe=j.type,fe===P){if(ve.tag===7){a(M,ve.sibling),N=d(ve,j.props.children),N.return=M,M=N;break e}}else if(ve.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===mt&&cm(fe)===ve.type){a(M,ve.sibling),N=d(ve,j.props),N.ref=va(M,ve,j),N.return=M,M=N;break e}a(M,ve);break}else s(M,ve);ve=ve.sibling}j.type===P?(N=rs(j.props.children,M.mode,te,j.key),N.return=M,M=N):(te=Ru(j.type,j.key,j.props,null,M.mode,te),te.ref=va(M,N,j),te.return=M,M=te)}return w(M);case de:e:{for(ve=j.key;N!==null;){if(N.key===ve)if(N.tag===4&&N.stateNode.containerInfo===j.containerInfo&&N.stateNode.implementation===j.implementation){a(M,N.sibling),N=d(N,j.children||[]),N.return=M,M=N;break e}else{a(M,N);break}else s(M,N);N=N.sibling}N=vd(j,M.mode,te),N.return=M,M=N}return w(M);case mt:return ve=j._init,lt(M,N,ve(j._payload),te)}if(fr(j))return ce(M,N,j,te);if(_e(j))return he(M,N,j,te);nu(M,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,N!==null&&N.tag===6?(a(M,N.sibling),N=d(N,j),N.return=M,M=N):(a(M,N),N=_d(j,M.mode,te),N.return=M,M=N),w(M)):a(M,N)}return lt}var ro=hm(!0),dm=hm(!1),ru=ti(null),iu=null,io=null,Ph=null;function kh(){Ph=io=iu=null}function xh(r){var s=ru.current;Ye(ru),r._currentValue=s}function Nh(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function so(r,s){iu=r,Ph=io=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(tn=!0),r.firstContext=null)}function An(r){var s=r._currentValue;if(Ph!==r)if(r={context:r,memoizedValue:s,next:null},io===null){if(iu===null)throw Error(t(308));io=r,iu.dependencies={lanes:0,firstContext:r}}else io=io.next=r;return s}var Xi=null;function bh(r){Xi===null?Xi=[r]:Xi.push(r)}function fm(r,s,a,h){var d=s.interleaved;return d===null?(a.next=a,bh(s)):(a.next=d.next,d.next=a),s.interleaved=a,Rr(r,h)}function Rr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var ii=!1;function Dh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Cr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function si(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,Fe&2){var d=h.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),h.pending=s,Rr(r,a)}return d=h.interleaved,d===null?(s.next=s,bh(h)):(s.next=d.next,d.next=s),h.interleaved=s,Rr(r,a)}function su(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Gr(r,a)}}function mm(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?d=g=s:g=g.next=s}else d=g=s;a={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function ou(r,s,a,h){var d=r.updateQueue;ii=!1;var g=d.firstBaseUpdate,w=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var k=S,B=k.next;k.next=null,w===null?g=B:w.next=B,w=k;var J=r.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==w&&(S===null?J.firstBaseUpdate=B:S.next=B,J.lastBaseUpdate=k))}if(g!==null){var Z=d.baseState;w=0,J=B=k=null,S=g;do{var Y=S.lane,se=S.eventTime;if((h&Y)===Y){J!==null&&(J=J.next={eventTime:se,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ce=r,he=S;switch(Y=s,se=a,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){Z=ce.call(se,Z,Y);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,Y=typeof ce=="function"?ce.call(se,Z,Y):ce,Y==null)break e;Z=oe({},Z,Y);break e;case 2:ii=!0}}S.callback!==null&&S.lane!==0&&(r.flags|=64,Y=d.effects,Y===null?d.effects=[S]:Y.push(S))}else se={eventTime:se,lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(B=J=se,k=Z):J=J.next=se,w|=Y;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);if(J===null&&(k=Z),d.baseState=k,d.firstBaseUpdate=B,d.lastBaseUpdate=J,s=d.shared.interleaved,s!==null){d=s;do w|=d.lane,d=d.next;while(d!==s)}else g===null&&(d.shared.lanes=0);Zi|=w,r.lanes=w,r.memoizedState=Z}}function gm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],d=h.callback;if(d!==null){if(h.callback=null,h=a,typeof d!="function")throw Error(t(191,d));d.call(h)}}}var wa={},nr=ti(wa),Ea=ti(wa),Ta=ti(wa);function Yi(r){if(r===wa)throw Error(t(174));return r}function Oh(r,s){switch(Qe(Ta,s),Qe(Ea,r),Qe(nr,wa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:yt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=yt(s,r)}Ye(nr),Qe(nr,s)}function oo(){Ye(nr),Ye(Ea),Ye(Ta)}function ym(r){Yi(Ta.current);var s=Yi(nr.current),a=yt(s,r.type);s!==a&&(Qe(Ea,r),Qe(nr,a))}function Lh(r){Ea.current===r&&(Ye(nr),Ye(Ea))}var nt=ti(0);function au(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Vh=[];function Mh(){for(var r=0;r<Vh.length;r++)Vh[r]._workInProgressVersionPrimary=null;Vh.length=0}var lu=ne.ReactCurrentDispatcher,Fh=ne.ReactCurrentBatchConfig,Ji=0,rt=null,vt=null,At=null,uu=!1,Ia=!1,Sa=0,qw=0;function Ft(){throw Error(t(321))}function Uh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Un(r[a],s[a]))return!1;return!0}function jh(r,s,a,h,d,g){if(Ji=g,rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,lu.current=r===null||r.memoizedState===null?Gw:Qw,r=a(h,d),Ia){g=0;do{if(Ia=!1,Sa=0,25<=g)throw Error(t(301));g+=1,At=vt=null,s.updateQueue=null,lu.current=Xw,r=a(h,d)}while(Ia)}if(lu.current=du,s=vt!==null&&vt.next!==null,Ji=0,At=vt=rt=null,uu=!1,s)throw Error(t(300));return r}function zh(){var r=Sa!==0;return Sa=0,r}function rr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?rt.memoizedState=At=r:At=At.next=r,At}function Rn(){if(vt===null){var r=rt.alternate;r=r!==null?r.memoizedState:null}else r=vt.next;var s=At===null?rt.memoizedState:At.next;if(s!==null)At=s,vt=r;else{if(r===null)throw Error(t(310));vt=r,r={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},At===null?rt.memoizedState=At=r:At=At.next=r}return At}function Aa(r,s){return typeof s=="function"?s(r):s}function Bh(r){var s=Rn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=vt,d=h.baseQueue,g=a.pending;if(g!==null){if(d!==null){var w=d.next;d.next=g.next,g.next=w}h.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,h=h.baseState;var S=w=null,k=null,B=g;do{var J=B.lane;if((Ji&J)===J)k!==null&&(k=k.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),h=B.hasEagerState?B.eagerState:r(h,B.action);else{var Z={lane:J,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};k===null?(S=k=Z,w=h):k=k.next=Z,rt.lanes|=J,Zi|=J}B=B.next}while(B!==null&&B!==g);k===null?w=h:k.next=S,Un(h,s.memoizedState)||(tn=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=k,a.lastRenderedState=h}if(r=a.interleaved,r!==null){d=r;do g=d.lane,rt.lanes|=g,Zi|=g,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function $h(r){var s=Rn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,d=a.pending,g=s.memoizedState;if(d!==null){a.pending=null;var w=d=d.next;do g=r(g,w.action),w=w.next;while(w!==d);Un(g,s.memoizedState)||(tn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,h]}function _m(){}function vm(r,s){var a=rt,h=Rn(),d=s(),g=!Un(h.memoizedState,d);if(g&&(h.memoizedState=d,tn=!0),h=h.queue,qh(Tm.bind(null,a,h,r),[r]),h.getSnapshot!==s||g||At!==null&&At.memoizedState.tag&1){if(a.flags|=2048,Ra(9,Em.bind(null,a,h,d,s),void 0,null),Rt===null)throw Error(t(349));Ji&30||wm(a,s,d)}return d}function wm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Em(r,s,a,h){s.value=a,s.getSnapshot=h,Im(s)&&Sm(r)}function Tm(r,s,a){return a(function(){Im(s)&&Sm(r)})}function Im(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Un(r,a)}catch{return!0}}function Sm(r){var s=Rr(r,1);s!==null&&qn(s,r,1,-1)}function Am(r){var s=rr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:r},s.queue=r,r=r.dispatch=Kw.bind(null,rt,r),[s.memoizedState,r]}function Ra(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function Rm(){return Rn().memoizedState}function cu(r,s,a,h){var d=rr();rt.flags|=r,d.memoizedState=Ra(1|s,a,void 0,h===void 0?null:h)}function hu(r,s,a,h){var d=Rn();h=h===void 0?null:h;var g=void 0;if(vt!==null){var w=vt.memoizedState;if(g=w.destroy,h!==null&&Uh(h,w.deps)){d.memoizedState=Ra(s,a,g,h);return}}rt.flags|=r,d.memoizedState=Ra(1|s,a,g,h)}function Cm(r,s){return cu(8390656,8,r,s)}function qh(r,s){return hu(2048,8,r,s)}function Pm(r,s){return hu(4,2,r,s)}function km(r,s){return hu(4,4,r,s)}function xm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Nm(r,s,a){return a=a!=null?a.concat([r]):null,hu(4,4,xm.bind(null,s,r),a)}function Hh(){}function bm(r,s){var a=Rn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Uh(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function Dm(r,s){var a=Rn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Uh(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function Om(r,s,a){return Ji&21?(Un(a,s)||(a=zi(),rt.lanes|=a,Zi|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,tn=!0),r.memoizedState=a)}function Hw(r,s){var a=De;De=a!==0&&4>a?a:4,r(!0);var h=Fh.transition;Fh.transition={};try{r(!1),s()}finally{De=a,Fh.transition=h}}function Lm(){return Rn().memoizedState}function Ww(r,s,a){var h=ui(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Vm(r))Mm(s,a);else if(a=fm(r,s,a,h),a!==null){var d=Qt();qn(a,r,h,d),Fm(a,s,h)}}function Kw(r,s,a){var h=ui(r),d={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vm(r))Mm(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,S=g(w,a);if(d.hasEagerState=!0,d.eagerState=S,Un(S,w)){var k=s.interleaved;k===null?(d.next=d,bh(s)):(d.next=k.next,k.next=d),s.interleaved=d;return}}catch{}finally{}a=fm(r,s,d,h),a!==null&&(d=Qt(),qn(a,r,h,d),Fm(a,s,h))}}function Vm(r){var s=r.alternate;return r===rt||s!==null&&s===rt}function Mm(r,s){Ia=uu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Fm(r,s,a){if(a&4194240){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Gr(r,a)}}var du={readContext:An,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},Gw={readContext:An,useCallback:function(r,s){return rr().memoizedState=[r,s===void 0?null:s],r},useContext:An,useEffect:Cm,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,cu(4194308,4,xm.bind(null,s,r),a)},useLayoutEffect:function(r,s){return cu(4194308,4,r,s)},useInsertionEffect:function(r,s){return cu(4,2,r,s)},useMemo:function(r,s){var a=rr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=rr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=Ww.bind(null,rt,r),[h.memoizedState,r]},useRef:function(r){var s=rr();return r={current:r},s.memoizedState=r},useState:Am,useDebugValue:Hh,useDeferredValue:function(r){return rr().memoizedState=r},useTransition:function(){var r=Am(!1),s=r[0];return r=Hw.bind(null,r[1]),rr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=rt,d=rr();if(et){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Rt===null)throw Error(t(349));Ji&30||wm(h,s,a)}d.memoizedState=a;var g={value:a,getSnapshot:s};return d.queue=g,Cm(Tm.bind(null,h,g,r),[r]),h.flags|=2048,Ra(9,Em.bind(null,h,g,a,s),void 0,null),a},useId:function(){var r=rr(),s=Rt.identifierPrefix;if(et){var a=Ar,h=Sr;a=(h&~(1<<32-Wt(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Sa++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=qw++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},Qw={readContext:An,useCallback:bm,useContext:An,useEffect:qh,useImperativeHandle:Nm,useInsertionEffect:Pm,useLayoutEffect:km,useMemo:Dm,useReducer:Bh,useRef:Rm,useState:function(){return Bh(Aa)},useDebugValue:Hh,useDeferredValue:function(r){var s=Rn();return Om(s,vt.memoizedState,r)},useTransition:function(){var r=Bh(Aa)[0],s=Rn().memoizedState;return[r,s]},useMutableSource:_m,useSyncExternalStore:vm,useId:Lm,unstable_isNewReconciler:!1},Xw={readContext:An,useCallback:bm,useContext:An,useEffect:qh,useImperativeHandle:Nm,useInsertionEffect:Pm,useLayoutEffect:km,useMemo:Dm,useReducer:$h,useRef:Rm,useState:function(){return $h(Aa)},useDebugValue:Hh,useDeferredValue:function(r){var s=Rn();return vt===null?s.memoizedState=r:Om(s,vt.memoizedState,r)},useTransition:function(){var r=$h(Aa)[0],s=Rn().memoizedState;return[r,s]},useMutableSource:_m,useSyncExternalStore:vm,useId:Lm,unstable_isNewReconciler:!1};function zn(r,s){if(r&&r.defaultProps){s=oe({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Wh(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:oe({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var fu={isMounted:function(r){return(r=r._reactInternals)?bn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=Qt(),d=ui(r),g=Cr(h,d);g.payload=s,a!=null&&(g.callback=a),s=si(r,g,d),s!==null&&(qn(s,r,d,h),su(s,r,d))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=Qt(),d=ui(r),g=Cr(h,d);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=si(r,g,d),s!==null&&(qn(s,r,d,h),su(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Qt(),h=ui(r),d=Cr(a,h);d.tag=2,s!=null&&(d.callback=s),s=si(r,d,h),s!==null&&(qn(s,r,h,a),su(s,r,h))}};function Um(r,s,a,h,d,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,w):s.prototype&&s.prototype.isPureReactComponent?!da(a,h)||!da(d,g):!0}function jm(r,s,a){var h=!1,d=ni,g=s.contextType;return typeof g=="object"&&g!==null?g=An(g):(d=en(s)?Ki:Mt.current,h=s.contextTypes,g=(h=h!=null)?Zs(r,d):ni),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=fu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=g),s}function zm(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&fu.enqueueReplaceState(s,s.state,null)}function Kh(r,s,a,h){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},Dh(r);var g=s.contextType;typeof g=="object"&&g!==null?d.context=An(g):(g=en(s)?Ki:Mt.current,d.context=Zs(r,g)),d.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Wh(r,s,g,a),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&fu.enqueueReplaceState(d,d.state,null),ou(r,a,d,h),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function ao(r,s){try{var a="",h=s;do a+=ke(h),h=h.return;while(h);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:d,digest:null}}function Gh(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Qh(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Yw=typeof WeakMap=="function"?WeakMap:Map;function Bm(r,s,a){a=Cr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){wu||(wu=!0,cd=h),Qh(r,s)},a}function $m(r,s,a){a=Cr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=s.value;a.payload=function(){return h(d)},a.callback=function(){Qh(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Qh(r,s),typeof h!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function qm(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new Yw;var d=new Set;h.set(s,d)}else d=h.get(s),d===void 0&&(d=new Set,h.set(s,d));d.has(a)||(d.add(a),r=hE.bind(null,r,s,a),s.then(r,r))}function Hm(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Wm(r,s,a,h,d){return r.mode&1?(r.flags|=65536,r.lanes=d,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Cr(-1,1),s.tag=2,si(a,s,1))),a.lanes|=1),r)}var Jw=ne.ReactCurrentOwner,tn=!1;function Gt(r,s,a,h){s.child=r===null?dm(s,null,a,h):ro(s,r.child,a,h)}function Km(r,s,a,h,d){a=a.render;var g=s.ref;return so(s,d),h=jh(r,s,a,h,g,d),a=zh(),r!==null&&!tn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Pr(r,s,d)):(et&&a&&Ih(s),s.flags|=1,Gt(r,s,h,d),s.child)}function Gm(r,s,a,h,d){if(r===null){var g=a.type;return typeof g=="function"&&!yd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Qm(r,s,g,h,d)):(r=Ru(a.type,null,h,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&d)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:da,a(w,h)&&r.ref===s.ref)return Pr(r,s,d)}return s.flags|=1,r=hi(g,h),r.ref=s.ref,r.return=s,s.child=r}function Qm(r,s,a,h,d){if(r!==null){var g=r.memoizedProps;if(da(g,h)&&r.ref===s.ref)if(tn=!1,s.pendingProps=h=g,(r.lanes&d)!==0)r.flags&131072&&(tn=!0);else return s.lanes=r.lanes,Pr(r,s,d)}return Xh(r,s,a,h,d)}function Xm(r,s,a){var h=s.pendingProps,d=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(uo,gn),gn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Qe(uo,gn),gn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,Qe(uo,gn),gn|=h}else g!==null?(h=g.baseLanes|a,s.memoizedState=null):h=a,Qe(uo,gn),gn|=h;return Gt(r,s,d,a),s.child}function Ym(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Xh(r,s,a,h,d){var g=en(a)?Ki:Mt.current;return g=Zs(s,g),so(s,d),a=jh(r,s,a,h,g,d),h=zh(),r!==null&&!tn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Pr(r,s,d)):(et&&h&&Ih(s),s.flags|=1,Gt(r,s,a,d),s.child)}function Jm(r,s,a,h,d){if(en(a)){var g=!0;Yl(s)}else g=!1;if(so(s,d),s.stateNode===null)mu(r,s),jm(s,a,h),Kh(s,a,h,d),h=!0;else if(r===null){var w=s.stateNode,S=s.memoizedProps;w.props=S;var k=w.context,B=a.contextType;typeof B=="object"&&B!==null?B=An(B):(B=en(a)?Ki:Mt.current,B=Zs(s,B));var J=a.getDerivedStateFromProps,Z=typeof J=="function"||typeof w.getSnapshotBeforeUpdate=="function";Z||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(S!==h||k!==B)&&zm(s,w,h,B),ii=!1;var Y=s.memoizedState;w.state=Y,ou(s,h,w,d),k=s.memoizedState,S!==h||Y!==k||Zt.current||ii?(typeof J=="function"&&(Wh(s,a,J,h),k=s.memoizedState),(S=ii||Um(s,a,S,h,Y,k,B))?(Z||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=k),w.props=h,w.state=k,w.context=B,h=S):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,pm(r,s),S=s.memoizedProps,B=s.type===s.elementType?S:zn(s.type,S),w.props=B,Z=s.pendingProps,Y=w.context,k=a.contextType,typeof k=="object"&&k!==null?k=An(k):(k=en(a)?Ki:Mt.current,k=Zs(s,k));var se=a.getDerivedStateFromProps;(J=typeof se=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(S!==Z||Y!==k)&&zm(s,w,h,k),ii=!1,Y=s.memoizedState,w.state=Y,ou(s,h,w,d);var ce=s.memoizedState;S!==Z||Y!==ce||Zt.current||ii?(typeof se=="function"&&(Wh(s,a,se,h),ce=s.memoizedState),(B=ii||Um(s,a,B,h,Y,ce,k)||!1)?(J||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,ce,k),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,ce,k)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||S===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ce),w.props=h,w.state=ce,w.context=k,h=B):(typeof w.componentDidUpdate!="function"||S===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),h=!1)}return Yh(r,s,a,h,g,d)}function Yh(r,s,a,h,d,g){Ym(r,s);var w=(s.flags&128)!==0;if(!h&&!w)return d&&rm(s,a,!1),Pr(r,s,g);h=s.stateNode,Jw.current=s;var S=w&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&w?(s.child=ro(s,r.child,null,g),s.child=ro(s,null,S,g)):Gt(r,s,S,g),s.memoizedState=h.state,d&&rm(s,a,!0),s.child}function Zm(r){var s=r.stateNode;s.pendingContext?tm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&tm(r,s.context,!1),Oh(r,s.containerInfo)}function eg(r,s,a,h,d){return no(),Ch(d),s.flags|=256,Gt(r,s,a,h),s.child}var Jh={dehydrated:null,treeContext:null,retryLane:0};function Zh(r){return{baseLanes:r,cachePool:null,transitions:null}}function tg(r,s,a){var h=s.pendingProps,d=nt.current,g=!1,w=(s.flags&128)!==0,S;if((S=w)||(S=r!==null&&r.memoizedState===null?!1:(d&2)!==0),S?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),Qe(nt,d&1),r===null)return Rh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=h.children,r=h.fallback,g?(h=s.mode,g=s.child,w={mode:"hidden",children:w},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Cu(w,h,0,null),r=rs(r,h,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Zh(a),s.memoizedState=Jh,r):ed(s,w));if(d=r.memoizedState,d!==null&&(S=d.dehydrated,S!==null))return Zw(r,s,w,h,S,d,a);if(g){g=h.fallback,w=s.mode,d=r.child,S=d.sibling;var k={mode:"hidden",children:h.children};return!(w&1)&&s.child!==d?(h=s.child,h.childLanes=0,h.pendingProps=k,s.deletions=null):(h=hi(d,k),h.subtreeFlags=d.subtreeFlags&14680064),S!==null?g=hi(S,g):(g=rs(g,w,a,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,w=r.child.memoizedState,w=w===null?Zh(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~a,s.memoizedState=Jh,h}return g=r.child,r=g.sibling,h=hi(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function ed(r,s){return s=Cu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function pu(r,s,a,h){return h!==null&&Ch(h),ro(s,r.child,null,a),r=ed(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Zw(r,s,a,h,d,g,w){if(a)return s.flags&256?(s.flags&=-257,h=Gh(Error(t(422))),pu(r,s,w,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,d=s.mode,h=Cu({mode:"visible",children:h.children},d,0,null),g=rs(g,d,w,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&ro(s,r.child,null,w),s.child.memoizedState=Zh(w),s.memoizedState=Jh,g);if(!(s.mode&1))return pu(r,s,w,null);if(d.data==="$!"){if(h=d.nextSibling&&d.nextSibling.dataset,h)var S=h.dgst;return h=S,g=Error(t(419)),h=Gh(g,h,void 0),pu(r,s,w,h)}if(S=(w&r.childLanes)!==0,tn||S){if(h=Rt,h!==null){switch(w&-w){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(h.suspendedLanes|w)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,Rr(r,d),qn(h,r,d,-1))}return gd(),h=Gh(Error(t(421))),pu(r,s,w,h)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=dE.bind(null,r),d._reactRetry=s,null):(r=g.treeContext,mn=ei(d.nextSibling),pn=s,et=!0,jn=null,r!==null&&(In[Sn++]=Sr,In[Sn++]=Ar,In[Sn++]=Gi,Sr=r.id,Ar=r.overflow,Gi=s),s=ed(s,h.children),s.flags|=4096,s)}function ng(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Nh(r.return,s,a)}function td(r,s,a,h,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=d)}function rg(r,s,a){var h=s.pendingProps,d=h.revealOrder,g=h.tail;if(Gt(r,s,h.children,a),h=nt.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ng(r,a,s);else if(r.tag===19)ng(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Qe(nt,h),!(s.mode&1))s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)r=a.alternate,r!==null&&au(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),td(s,!1,d,a,g);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&au(r)===null){s.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}td(s,!0,a,null,g);break;case"together":td(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function mu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Pr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Zi|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=hi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=hi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function eE(r,s,a){switch(s.tag){case 3:Zm(s),no();break;case 5:ym(s);break;case 1:en(s.type)&&Yl(s);break;case 4:Oh(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,d=s.memoizedProps.value;Qe(ru,h._currentValue),h._currentValue=d;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Qe(nt,nt.current&1),s.flags|=128,null):a&s.child.childLanes?tg(r,s,a):(Qe(nt,nt.current&1),r=Pr(r,s,a),r!==null?r.sibling:null);Qe(nt,nt.current&1);break;case 19:if(h=(a&s.childLanes)!==0,r.flags&128){if(h)return rg(r,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Qe(nt,nt.current),h)break;return null;case 22:case 23:return s.lanes=0,Xm(r,s,a)}return Pr(r,s,a)}var ig,nd,sg,og;ig=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},nd=function(){},sg=function(r,s,a,h){var d=r.memoizedProps;if(d!==h){r=s.stateNode,Yi(nr.current);var g=null;switch(a){case"input":d=xi(r,d),h=xi(r,h),g=[];break;case"select":d=oe({},d,{value:void 0}),h=oe({},h,{value:void 0}),g=[];break;case"textarea":d=zo(r,d),h=zo(r,h),g=[];break;default:typeof d.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Gl)}Ko(a,h);var w;a=null;for(B in d)if(!h.hasOwnProperty(B)&&d.hasOwnProperty(B)&&d[B]!=null)if(B==="style"){var S=d[B];for(w in S)S.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?g||(g=[]):(g=g||[]).push(B,null));for(B in h){var k=h[B];if(S=d!=null?d[B]:void 0,h.hasOwnProperty(B)&&k!==S&&(k!=null||S!=null))if(B==="style")if(S){for(w in S)!S.hasOwnProperty(w)||k&&k.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in k)k.hasOwnProperty(w)&&S[w]!==k[w]&&(a||(a={}),a[w]=k[w])}else a||(g||(g=[]),g.push(B,a)),a=k;else B==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,S=S?S.__html:void 0,k!=null&&S!==k&&(g=g||[]).push(B,k)):B==="children"?typeof k!="string"&&typeof k!="number"||(g=g||[]).push(B,""+k):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(k!=null&&B==="onScroll"&&Xe("scroll",r),g||S===k||(g=[])):(g=g||[]).push(B,k))}a&&(g=g||[]).push("style",a);var B=g;(s.updateQueue=B)&&(s.flags|=4)}},og=function(r,s,a,h){a!==h&&(s.flags|=4)};function Ca(r,s){if(!et)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ut(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags&14680064,h|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function tE(r,s,a){var h=s.pendingProps;switch(Sh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(s),null;case 1:return en(s.type)&&Xl(),Ut(s),null;case 3:return h=s.stateNode,oo(),Ye(Zt),Ye(Mt),Mh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(tu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,jn!==null&&(fd(jn),jn=null))),nd(r,s),Ut(s),null;case 5:Lh(s);var d=Yi(Ta.current);if(a=s.type,r!==null&&s.stateNode!=null)sg(r,s,a,h,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Ut(s),null}if(r=Yi(nr.current),tu(s)){h=s.stateNode,a=s.type;var g=s.memoizedProps;switch(h[tr]=s,h[ya]=g,r=(s.mode&1)!==0,a){case"dialog":Xe("cancel",h),Xe("close",h);break;case"iframe":case"object":case"embed":Xe("load",h);break;case"video":case"audio":for(d=0;d<pa.length;d++)Xe(pa[d],h);break;case"source":Xe("error",h);break;case"img":case"image":case"link":Xe("error",h),Xe("load",h);break;case"details":Xe("toggle",h);break;case"input":Es(h,g),Xe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},Xe("invalid",h);break;case"textarea":Is(h,g),Xe("invalid",h)}Ko(a,g),d=null;for(var w in g)if(g.hasOwnProperty(w)){var S=g[w];w==="children"?typeof S=="string"?h.textContent!==S&&(g.suppressHydrationWarning!==!0&&Kl(h.textContent,S,r),d=["children",S]):typeof S=="number"&&h.textContent!==""+S&&(g.suppressHydrationWarning!==!0&&Kl(h.textContent,S,r),d=["children",""+S]):o.hasOwnProperty(w)&&S!=null&&w==="onScroll"&&Xe("scroll",h)}switch(a){case"input":dr(h),vl(h,g,!0);break;case"textarea":dr(h),Bo(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Gl)}h=d,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=gt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(a,{is:h.is}):(r=w.createElement(a),a==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,a),r[tr]=s,r[ya]=h,ig(r,s,!1,!1),s.stateNode=r;e:{switch(w=Go(a,h),a){case"dialog":Xe("cancel",r),Xe("close",r),d=h;break;case"iframe":case"object":case"embed":Xe("load",r),d=h;break;case"video":case"audio":for(d=0;d<pa.length;d++)Xe(pa[d],r);d=h;break;case"source":Xe("error",r),d=h;break;case"img":case"image":case"link":Xe("error",r),Xe("load",r),d=h;break;case"details":Xe("toggle",r),d=h;break;case"input":Es(r,h),d=xi(r,h),Xe("invalid",r);break;case"option":d=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},d=oe({},h,{value:void 0}),Xe("invalid",r);break;case"textarea":Is(r,h),d=zo(r,h),Xe("invalid",r);break;default:d=h}Ko(a,d),S=d;for(g in S)if(S.hasOwnProperty(g)){var k=S[g];g==="style"?Ho(r,k):g==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&$o(r,k)):g==="children"?typeof k=="string"?(a!=="textarea"||k!=="")&&$r(r,k):typeof k=="number"&&$r(r,""+k):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?k!=null&&g==="onScroll"&&Xe("scroll",r):k!=null&&X(r,g,k,w))}switch(a){case"input":dr(r),vl(r,h,!1);break;case"textarea":dr(r),Bo(r);break;case"option":h.value!=null&&r.setAttribute("value",""+$e(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?pr(r,!!h.multiple,g,!1):h.defaultValue!=null&&pr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=Gl)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ut(s),null;case 6:if(r&&s.stateNode!=null)og(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=Yi(Ta.current),Yi(nr.current),tu(s)){if(h=s.stateNode,a=s.memoizedProps,h[tr]=s,(g=h.nodeValue!==a)&&(r=pn,r!==null))switch(r.tag){case 3:Kl(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Kl(h.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[tr]=s,s.stateNode=h}return Ut(s),null;case 13:if(Ye(nt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(et&&mn!==null&&s.mode&1&&!(s.flags&128))um(),no(),s.flags|=98560,g=!1;else if(g=tu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[tr]=s}else no(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Ut(s),g=!1}else jn!==null&&(fd(jn),jn=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||nt.current&1?wt===0&&(wt=3):gd())),s.updateQueue!==null&&(s.flags|=4),Ut(s),null);case 4:return oo(),nd(r,s),r===null&&ma(s.stateNode.containerInfo),Ut(s),null;case 10:return xh(s.type._context),Ut(s),null;case 17:return en(s.type)&&Xl(),Ut(s),null;case 19:if(Ye(nt),g=s.memoizedState,g===null)return Ut(s),null;if(h=(s.flags&128)!==0,w=g.rendering,w===null)if(h)Ca(g,!1);else{if(wt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=au(r),w!==null){for(s.flags|=128,Ca(g,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)g=a,r=h,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Qe(nt,nt.current&1|2),s.child}r=r.sibling}g.tail!==null&&Ge()>co&&(s.flags|=128,h=!0,Ca(g,!1),s.lanes=4194304)}else{if(!h)if(r=au(w),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ca(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!et)return Ut(s),null}else 2*Ge()-g.renderingStartTime>co&&a!==1073741824&&(s.flags|=128,h=!0,Ca(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Ge(),s.sibling=null,a=nt.current,Qe(nt,h?a&1|2:a&1),s):(Ut(s),null);case 22:case 23:return md(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?gn&1073741824&&(Ut(s),s.subtreeFlags&6&&(s.flags|=8192)):Ut(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function nE(r,s){switch(Sh(s),s.tag){case 1:return en(s.type)&&Xl(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return oo(),Ye(Zt),Ye(Mt),Mh(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Lh(s),null;case 13:if(Ye(nt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));no()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ye(nt),null;case 4:return oo(),null;case 10:return xh(s.type._context),null;case 22:case 23:return md(),null;case 24:return null;default:return null}}var gu=!1,jt=!1,rE=typeof WeakSet=="function"?WeakSet:Set,ue=null;function lo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){ot(r,s,h)}else a.current=null}function rd(r,s,a){try{a()}catch(h){ot(r,s,h)}}var ag=!1;function iE(r,s){if(mh=Yr,r=Up(),ah(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var d=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,S=-1,k=-1,B=0,J=0,Z=r,Y=null;t:for(;;){for(var se;Z!==a||d!==0&&Z.nodeType!==3||(S=w+d),Z!==g||h!==0&&Z.nodeType!==3||(k=w+h),Z.nodeType===3&&(w+=Z.nodeValue.length),(se=Z.firstChild)!==null;)Y=Z,Z=se;for(;;){if(Z===r)break t;if(Y===a&&++B===d&&(S=w),Y===g&&++J===h&&(k=w),(se=Z.nextSibling)!==null)break;Z=Y,Y=Z.parentNode}Z=se}a=S===-1||k===-1?null:{start:S,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(gh={focusedElem:r,selectionRange:a},Yr=!1,ue=s;ue!==null;)if(s=ue,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ue=r;else for(;ue!==null;){s=ue;try{var ce=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,lt=ce.memoizedState,M=s.stateNode,N=M.getSnapshotBeforeUpdate(s.elementType===s.type?he:zn(s.type,he),lt);M.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){ot(s,s.return,te)}if(r=s.sibling,r!==null){r.return=s.return,ue=r;break}ue=s.return}return ce=ag,ag=!1,ce}function Pa(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var d=h=h.next;do{if((d.tag&r)===r){var g=d.destroy;d.destroy=void 0,g!==void 0&&rd(s,a,g)}d=d.next}while(d!==h)}}function yu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function id(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function lg(r){var s=r.alternate;s!==null&&(r.alternate=null,lg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[tr],delete s[ya],delete s[wh],delete s[jw],delete s[zw])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ug(r){return r.tag===5||r.tag===3||r.tag===4}function cg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ug(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function sd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Gl));else if(h!==4&&(r=r.child,r!==null))for(sd(r,s,a),r=r.sibling;r!==null;)sd(r,s,a),r=r.sibling}function od(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(od(r,s,a),r=r.sibling;r!==null;)od(r,s,a),r=r.sibling}var bt=null,Bn=!1;function oi(r,s,a){for(a=a.child;a!==null;)hg(r,s,a),a=a.sibling}function hg(r,s,a){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Ui,a)}catch{}switch(a.tag){case 5:jt||lo(a,s);case 6:var h=bt,d=Bn;bt=null,oi(r,s,a),bt=h,Bn=d,bt!==null&&(Bn?(r=bt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):bt.removeChild(a.stateNode));break;case 18:bt!==null&&(Bn?(r=bt,a=a.stateNode,r.nodeType===8?vh(r.parentNode,a):r.nodeType===1&&vh(r,a),Mn(r)):vh(bt,a.stateNode));break;case 4:h=bt,d=Bn,bt=a.stateNode.containerInfo,Bn=!0,oi(r,s,a),bt=h,Bn=d;break;case 0:case 11:case 14:case 15:if(!jt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){d=h=h.next;do{var g=d,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&rd(a,s,w),d=d.next}while(d!==h)}oi(r,s,a);break;case 1:if(!jt&&(lo(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(S){ot(a,s,S)}oi(r,s,a);break;case 21:oi(r,s,a);break;case 22:a.mode&1?(jt=(h=jt)||a.memoizedState!==null,oi(r,s,a),jt=h):oi(r,s,a);break;default:oi(r,s,a)}}function dg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new rE),s.forEach(function(h){var d=fE.bind(null,r,h);a.has(h)||(a.add(h),h.then(d,d))})}}function $n(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var d=a[h];try{var g=r,w=s,S=w;e:for(;S!==null;){switch(S.tag){case 5:bt=S.stateNode,Bn=!1;break e;case 3:bt=S.stateNode.containerInfo,Bn=!0;break e;case 4:bt=S.stateNode.containerInfo,Bn=!0;break e}S=S.return}if(bt===null)throw Error(t(160));hg(g,w,d),bt=null,Bn=!1;var k=d.alternate;k!==null&&(k.return=null),d.return=null}catch(B){ot(d,s,B)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)fg(s,r),s=s.sibling}function fg(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if($n(s,r),ir(r),h&4){try{Pa(3,r,r.return),yu(3,r)}catch(he){ot(r,r.return,he)}try{Pa(5,r,r.return)}catch(he){ot(r,r.return,he)}}break;case 1:$n(s,r),ir(r),h&512&&a!==null&&lo(a,a.return);break;case 5:if($n(s,r),ir(r),h&512&&a!==null&&lo(a,a.return),r.flags&32){var d=r.stateNode;try{$r(d,"")}catch(he){ot(r,r.return,he)}}if(h&4&&(d=r.stateNode,d!=null)){var g=r.memoizedProps,w=a!==null?a.memoizedProps:g,S=r.type,k=r.updateQueue;if(r.updateQueue=null,k!==null)try{S==="input"&&g.type==="radio"&&g.name!=null&&Uo(d,g),Go(S,w);var B=Go(S,g);for(w=0;w<k.length;w+=2){var J=k[w],Z=k[w+1];J==="style"?Ho(d,Z):J==="dangerouslySetInnerHTML"?$o(d,Z):J==="children"?$r(d,Z):X(d,J,Z,B)}switch(S){case"input":jo(d,g);break;case"textarea":Ss(d,g);break;case"select":var Y=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var se=g.value;se!=null?pr(d,!!g.multiple,se,!1):Y!==!!g.multiple&&(g.defaultValue!=null?pr(d,!!g.multiple,g.defaultValue,!0):pr(d,!!g.multiple,g.multiple?[]:"",!1))}d[ya]=g}catch(he){ot(r,r.return,he)}}break;case 6:if($n(s,r),ir(r),h&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,g=r.memoizedProps;try{d.nodeValue=g}catch(he){ot(r,r.return,he)}}break;case 3:if($n(s,r),ir(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{Mn(s.containerInfo)}catch(he){ot(r,r.return,he)}break;case 4:$n(s,r),ir(r);break;case 13:$n(s,r),ir(r),d=r.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(ud=Ge())),h&4&&dg(r);break;case 22:if(J=a!==null&&a.memoizedState!==null,r.mode&1?(jt=(B=jt)||J,$n(s,r),jt=B):$n(s,r),ir(r),h&8192){if(B=r.memoizedState!==null,(r.stateNode.isHidden=B)&&!J&&r.mode&1)for(ue=r,J=r.child;J!==null;){for(Z=ue=J;ue!==null;){switch(Y=ue,se=Y.child,Y.tag){case 0:case 11:case 14:case 15:Pa(4,Y,Y.return);break;case 1:lo(Y,Y.return);var ce=Y.stateNode;if(typeof ce.componentWillUnmount=="function"){h=Y,a=Y.return;try{s=h,ce.props=s.memoizedProps,ce.state=s.memoizedState,ce.componentWillUnmount()}catch(he){ot(h,a,he)}}break;case 5:lo(Y,Y.return);break;case 22:if(Y.memoizedState!==null){gg(Z);continue}}se!==null?(se.return=Y,ue=se):gg(Z)}J=J.sibling}e:for(J=null,Z=r;;){if(Z.tag===5){if(J===null){J=Z;try{d=Z.stateNode,B?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(S=Z.stateNode,k=Z.memoizedProps.style,w=k!=null&&k.hasOwnProperty("display")?k.display:null,S.style.display=qo("display",w))}catch(he){ot(r,r.return,he)}}}else if(Z.tag===6){if(J===null)try{Z.stateNode.nodeValue=B?"":Z.memoizedProps}catch(he){ot(r,r.return,he)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===r)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===r)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===r)break e;J===Z&&(J=null),Z=Z.return}J===Z&&(J=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:$n(s,r),ir(r),h&4&&dg(r);break;case 21:break;default:$n(s,r),ir(r)}}function ir(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(ug(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var d=h.stateNode;h.flags&32&&($r(d,""),h.flags&=-33);var g=cg(r);od(r,g,d);break;case 3:case 4:var w=h.stateNode.containerInfo,S=cg(r);sd(r,S,w);break;default:throw Error(t(161))}}catch(k){ot(r,r.return,k)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function sE(r,s,a){ue=r,pg(r)}function pg(r,s,a){for(var h=(r.mode&1)!==0;ue!==null;){var d=ue,g=d.child;if(d.tag===22&&h){var w=d.memoizedState!==null||gu;if(!w){var S=d.alternate,k=S!==null&&S.memoizedState!==null||jt;S=gu;var B=jt;if(gu=w,(jt=k)&&!B)for(ue=d;ue!==null;)w=ue,k=w.child,w.tag===22&&w.memoizedState!==null?yg(d):k!==null?(k.return=w,ue=k):yg(d);for(;g!==null;)ue=g,pg(g),g=g.sibling;ue=d,gu=S,jt=B}mg(r)}else d.subtreeFlags&8772&&g!==null?(g.return=d,ue=g):mg(r)}}function mg(r){for(;ue!==null;){var s=ue;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:jt||yu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!jt)if(a===null)h.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:zn(s.type,a.memoizedProps);h.componentDidUpdate(d,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&gm(s,g,h);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}gm(s,w,a)}break;case 5:var S=s.stateNode;if(a===null&&s.flags&4){a=S;var k=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&a.focus();break;case"img":k.src&&(a.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var B=s.alternate;if(B!==null){var J=B.memoizedState;if(J!==null){var Z=J.dehydrated;Z!==null&&Mn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}jt||s.flags&512&&id(s)}catch(Y){ot(s,s.return,Y)}}if(s===r){ue=null;break}if(a=s.sibling,a!==null){a.return=s.return,ue=a;break}ue=s.return}}function gg(r){for(;ue!==null;){var s=ue;if(s===r){ue=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ue=a;break}ue=s.return}}function yg(r){for(;ue!==null;){var s=ue;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{yu(4,s)}catch(k){ot(s,a,k)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var d=s.return;try{h.componentDidMount()}catch(k){ot(s,d,k)}}var g=s.return;try{id(s)}catch(k){ot(s,g,k)}break;case 5:var w=s.return;try{id(s)}catch(k){ot(s,w,k)}}}catch(k){ot(s,s.return,k)}if(s===r){ue=null;break}var S=s.sibling;if(S!==null){S.return=s.return,ue=S;break}ue=s.return}}var oE=Math.ceil,_u=ne.ReactCurrentDispatcher,ad=ne.ReactCurrentOwner,Cn=ne.ReactCurrentBatchConfig,Fe=0,Rt=null,ht=null,Dt=0,gn=0,uo=ti(0),wt=0,ka=null,Zi=0,vu=0,ld=0,xa=null,nn=null,ud=0,co=1/0,kr=null,wu=!1,cd=null,ai=null,Eu=!1,li=null,Tu=0,Na=0,hd=null,Iu=-1,Su=0;function Qt(){return Fe&6?Ge():Iu!==-1?Iu:Iu=Ge()}function ui(r){return r.mode&1?Fe&2&&Dt!==0?Dt&-Dt:$w.transition!==null?(Su===0&&(Su=zi()),Su):(r=De,r!==0||(r=window.event,r=r===void 0?16:sa(r.type)),r):1}function qn(r,s,a,h){if(50<Na)throw Na=0,hd=null,Error(t(185));Kr(r,a,h),(!(Fe&2)||r!==Rt)&&(r===Rt&&(!(Fe&2)&&(vu|=a),wt===4&&ci(r,Dt)),rn(r,h),a===1&&Fe===0&&!(s.mode&1)&&(co=Ge()+500,Jl&&ri()))}function rn(r,s){var a=r.callbackNode;yr(r,s);var h=ji(r,r===Rt?Dt:0);if(h===0)a!==null&&ea(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&ea(a),s===1)r.tag===0?Bw(vg.bind(null,r)):im(vg.bind(null,r)),Fw(function(){!(Fe&6)&&ri()}),a=null;else{switch(Qr(h)){case 1:a=Fi;break;case 4:a=qr;break;case 16:a=wn;break;case 536870912:a=Sl;break;default:a=wn}a=Cg(a,_g.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function _g(r,s){if(Iu=-1,Su=0,Fe&6)throw Error(t(327));var a=r.callbackNode;if(ho()&&r.callbackNode!==a)return null;var h=ji(r,r===Rt?Dt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=Au(r,h);else{s=h;var d=Fe;Fe|=2;var g=Eg();(Rt!==r||Dt!==s)&&(kr=null,co=Ge()+500,ts(r,s));do try{uE();break}catch(S){wg(r,S)}while(!0);kh(),_u.current=g,Fe=d,ht!==null?s=0:(Rt=null,Dt=0,s=wt)}if(s!==0){if(s===2&&(d=hn(r),d!==0&&(h=d,s=dd(r,d))),s===1)throw a=ka,ts(r,0),ci(r,h),rn(r,Ge()),a;if(s===6)ci(r,h);else{if(d=r.current.alternate,!(h&30)&&!aE(d)&&(s=Au(r,h),s===2&&(g=hn(r),g!==0&&(h=g,s=dd(r,g))),s===1))throw a=ka,ts(r,0),ci(r,h),rn(r,Ge()),a;switch(r.finishedWork=d,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:ns(r,nn,kr);break;case 3:if(ci(r,h),(h&130023424)===h&&(s=ud+500-Ge(),10<s)){if(ji(r,0)!==0)break;if(d=r.suspendedLanes,(d&h)!==h){Qt(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=_h(ns.bind(null,r,nn,kr),s);break}ns(r,nn,kr);break;case 4:if(ci(r,h),(h&4194240)===h)break;for(s=r.eventTimes,d=-1;0<h;){var w=31-Wt(h);g=1<<w,w=s[w],w>d&&(d=w),h&=~g}if(h=d,h=Ge()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*oE(h/1960))-h,10<h){r.timeoutHandle=_h(ns.bind(null,r,nn,kr),h);break}ns(r,nn,kr);break;case 5:ns(r,nn,kr);break;default:throw Error(t(329))}}}return rn(r,Ge()),r.callbackNode===a?_g.bind(null,r):null}function dd(r,s){var a=xa;return r.current.memoizedState.isDehydrated&&(ts(r,s).flags|=256),r=Au(r,s),r!==2&&(s=nn,nn=a,s!==null&&fd(s)),r}function fd(r){nn===null?nn=r:nn.push.apply(nn,r)}function aE(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var d=a[h],g=d.getSnapshot;d=d.value;try{if(!Un(g(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ci(r,s){for(s&=~ld,s&=~vu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Wt(s),h=1<<a;r[a]=-1,s&=~h}}function vg(r){if(Fe&6)throw Error(t(327));ho();var s=ji(r,0);if(!(s&1))return rn(r,Ge()),null;var a=Au(r,s);if(r.tag!==0&&a===2){var h=hn(r);h!==0&&(s=h,a=dd(r,h))}if(a===1)throw a=ka,ts(r,0),ci(r,s),rn(r,Ge()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ns(r,nn,kr),rn(r,Ge()),null}function pd(r,s){var a=Fe;Fe|=1;try{return r(s)}finally{Fe=a,Fe===0&&(co=Ge()+500,Jl&&ri())}}function es(r){li!==null&&li.tag===0&&!(Fe&6)&&ho();var s=Fe;Fe|=1;var a=Cn.transition,h=De;try{if(Cn.transition=null,De=1,r)return r()}finally{De=h,Cn.transition=a,Fe=s,!(Fe&6)&&ri()}}function md(){gn=uo.current,Ye(uo)}function ts(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,Mw(a)),ht!==null)for(a=ht.return;a!==null;){var h=a;switch(Sh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Xl();break;case 3:oo(),Ye(Zt),Ye(Mt),Mh();break;case 5:Lh(h);break;case 4:oo();break;case 13:Ye(nt);break;case 19:Ye(nt);break;case 10:xh(h.type._context);break;case 22:case 23:md()}a=a.return}if(Rt=r,ht=r=hi(r.current,null),Dt=gn=s,wt=0,ka=null,ld=vu=Zi=0,nn=xa=null,Xi!==null){for(s=0;s<Xi.length;s++)if(a=Xi[s],h=a.interleaved,h!==null){a.interleaved=null;var d=h.next,g=a.pending;if(g!==null){var w=g.next;g.next=d,h.next=w}a.pending=h}Xi=null}return r}function wg(r,s){do{var a=ht;try{if(kh(),lu.current=du,uu){for(var h=rt.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}uu=!1}if(Ji=0,At=vt=rt=null,Ia=!1,Sa=0,ad.current=null,a===null||a.return===null){wt=1,ka=s,ht=null;break}e:{var g=r,w=a.return,S=a,k=s;if(s=Dt,S.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var B=k,J=S,Z=J.tag;if(!(J.mode&1)&&(Z===0||Z===11||Z===15)){var Y=J.alternate;Y?(J.updateQueue=Y.updateQueue,J.memoizedState=Y.memoizedState,J.lanes=Y.lanes):(J.updateQueue=null,J.memoizedState=null)}var se=Hm(w);if(se!==null){se.flags&=-257,Wm(se,w,S,g,s),se.mode&1&&qm(g,B,s),s=se,k=B;var ce=s.updateQueue;if(ce===null){var he=new Set;he.add(k),s.updateQueue=he}else ce.add(k);break e}else{if(!(s&1)){qm(g,B,s),gd();break e}k=Error(t(426))}}else if(et&&S.mode&1){var lt=Hm(w);if(lt!==null){!(lt.flags&65536)&&(lt.flags|=256),Wm(lt,w,S,g,s),Ch(ao(k,S));break e}}g=k=ao(k,S),wt!==4&&(wt=2),xa===null?xa=[g]:xa.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var M=Bm(g,k,s);mm(g,M);break e;case 1:S=k;var N=g.type,j=g.stateNode;if(!(g.flags&128)&&(typeof N.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ai===null||!ai.has(j)))){g.flags|=65536,s&=-s,g.lanes|=s;var te=$m(g,S,s);mm(g,te);break e}}g=g.return}while(g!==null)}Ig(a)}catch(fe){s=fe,ht===a&&a!==null&&(ht=a=a.return);continue}break}while(!0)}function Eg(){var r=_u.current;return _u.current=du,r===null?du:r}function gd(){(wt===0||wt===3||wt===2)&&(wt=4),Rt===null||!(Zi&268435455)&&!(vu&268435455)||ci(Rt,Dt)}function Au(r,s){var a=Fe;Fe|=2;var h=Eg();(Rt!==r||Dt!==s)&&(kr=null,ts(r,s));do try{lE();break}catch(d){wg(r,d)}while(!0);if(kh(),Fe=a,_u.current=h,ht!==null)throw Error(t(261));return Rt=null,Dt=0,wt}function lE(){for(;ht!==null;)Tg(ht)}function uE(){for(;ht!==null&&!Tl();)Tg(ht)}function Tg(r){var s=Rg(r.alternate,r,gn);r.memoizedProps=r.pendingProps,s===null?Ig(r):ht=s,ad.current=null}function Ig(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=nE(a,s),a!==null){a.flags&=32767,ht=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{wt=6,ht=null;return}}else if(a=tE(a,s,gn),a!==null){ht=a;return}if(s=s.sibling,s!==null){ht=s;return}ht=s=r}while(s!==null);wt===0&&(wt=5)}function ns(r,s,a){var h=De,d=Cn.transition;try{Cn.transition=null,De=1,cE(r,s,a,h)}finally{Cn.transition=d,De=h}return null}function cE(r,s,a,h){do ho();while(li!==null);if(Fe&6)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(We(r,g),r===Rt&&(ht=Rt=null,Dt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Eu||(Eu=!0,Cg(wn,function(){return ho(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Cn.transition,Cn.transition=null;var w=De;De=1;var S=Fe;Fe|=4,ad.current=null,iE(r,a),fg(a,r),xw(gh),Yr=!!mh,gh=mh=null,r.current=a,sE(a),Zc(),Fe=S,De=w,Cn.transition=g}else r.current=a;if(Eu&&(Eu=!1,li=r,Tu=d),g=r.pendingLanes,g===0&&(ai=null),Al(a.stateNode),rn(r,Ge()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)d=s[a],h(d.value,{componentStack:d.stack,digest:d.digest});if(wu)throw wu=!1,r=cd,cd=null,r;return Tu&1&&r.tag!==0&&ho(),g=r.pendingLanes,g&1?r===hd?Na++:(Na=0,hd=r):Na=0,ri(),null}function ho(){if(li!==null){var r=Qr(Tu),s=Cn.transition,a=De;try{if(Cn.transition=null,De=16>r?16:r,li===null)var h=!1;else{if(r=li,li=null,Tu=0,Fe&6)throw Error(t(331));var d=Fe;for(Fe|=4,ue=r.current;ue!==null;){var g=ue,w=g.child;if(ue.flags&16){var S=g.deletions;if(S!==null){for(var k=0;k<S.length;k++){var B=S[k];for(ue=B;ue!==null;){var J=ue;switch(J.tag){case 0:case 11:case 15:Pa(8,J,g)}var Z=J.child;if(Z!==null)Z.return=J,ue=Z;else for(;ue!==null;){J=ue;var Y=J.sibling,se=J.return;if(lg(J),J===B){ue=null;break}if(Y!==null){Y.return=se,ue=Y;break}ue=se}}}var ce=g.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var lt=he.sibling;he.sibling=null,he=lt}while(he!==null)}}ue=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,ue=w;else e:for(;ue!==null;){if(g=ue,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Pa(9,g,g.return)}var M=g.sibling;if(M!==null){M.return=g.return,ue=M;break e}ue=g.return}}var N=r.current;for(ue=N;ue!==null;){w=ue;var j=w.child;if(w.subtreeFlags&2064&&j!==null)j.return=w,ue=j;else e:for(w=N;ue!==null;){if(S=ue,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:yu(9,S)}}catch(fe){ot(S,S.return,fe)}if(S===w){ue=null;break e}var te=S.sibling;if(te!==null){te.return=S.return,ue=te;break e}ue=S.return}}if(Fe=d,ri(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Ui,r)}catch{}h=!0}return h}finally{De=a,Cn.transition=s}}return!1}function Sg(r,s,a){s=ao(a,s),s=Bm(r,s,1),r=si(r,s,1),s=Qt(),r!==null&&(Kr(r,1,s),rn(r,s))}function ot(r,s,a){if(r.tag===3)Sg(r,r,a);else for(;s!==null;){if(s.tag===3){Sg(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ai===null||!ai.has(h))){r=ao(a,r),r=$m(s,r,1),s=si(s,r,1),r=Qt(),s!==null&&(Kr(s,1,r),rn(s,r));break}}s=s.return}}function hE(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=Qt(),r.pingedLanes|=r.suspendedLanes&a,Rt===r&&(Dt&a)===a&&(wt===4||wt===3&&(Dt&130023424)===Dt&&500>Ge()-ud?ts(r,0):ld|=a),rn(r,s)}function Ag(r,s){s===0&&(r.mode&1?(s=Os,Os<<=1,!(Os&130023424)&&(Os=4194304)):s=1);var a=Qt();r=Rr(r,s),r!==null&&(Kr(r,s,a),rn(r,a))}function dE(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Ag(r,a)}function fE(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Ag(r,a)}var Rg;Rg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Zt.current)tn=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return tn=!1,eE(r,s,a);tn=!!(r.flags&131072)}else tn=!1,et&&s.flags&1048576&&sm(s,eu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;mu(r,s),r=s.pendingProps;var d=Zs(s,Mt.current);so(s,a),d=jh(null,s,h,r,d,a);var g=zh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,en(h)?(g=!0,Yl(s)):g=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Dh(s),d.updater=fu,s.stateNode=d,d._reactInternals=s,Kh(s,h,r,a),s=Yh(null,s,h,!0,g,a)):(s.tag=0,et&&g&&Ih(s),Gt(null,s,d,a),s=s.child),s;case 16:h=s.elementType;e:{switch(mu(r,s),r=s.pendingProps,d=h._init,h=d(h._payload),s.type=h,d=s.tag=mE(h),r=zn(h,r),d){case 0:s=Xh(null,s,h,r,a);break e;case 1:s=Jm(null,s,h,r,a);break e;case 11:s=Km(null,s,h,r,a);break e;case 14:s=Gm(null,s,h,zn(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:zn(h,d),Xh(r,s,h,d,a);case 1:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:zn(h,d),Jm(r,s,h,d,a);case 3:e:{if(Zm(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,d=g.element,pm(r,s),ou(s,h,null,a);var w=s.memoizedState;if(h=w.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){d=ao(Error(t(423)),s),s=eg(r,s,h,a,d);break e}else if(h!==d){d=ao(Error(t(424)),s),s=eg(r,s,h,a,d);break e}else for(mn=ei(s.stateNode.containerInfo.firstChild),pn=s,et=!0,jn=null,a=dm(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(no(),h===d){s=Pr(r,s,a);break e}Gt(r,s,h,a)}s=s.child}return s;case 5:return ym(s),r===null&&Rh(s),h=s.type,d=s.pendingProps,g=r!==null?r.memoizedProps:null,w=d.children,yh(h,d)?w=null:g!==null&&yh(h,g)&&(s.flags|=32),Ym(r,s),Gt(r,s,w,a),s.child;case 6:return r===null&&Rh(s),null;case 13:return tg(r,s,a);case 4:return Oh(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=ro(s,null,h,a):Gt(r,s,h,a),s.child;case 11:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:zn(h,d),Km(r,s,h,d,a);case 7:return Gt(r,s,s.pendingProps,a),s.child;case 8:return Gt(r,s,s.pendingProps.children,a),s.child;case 12:return Gt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,d=s.pendingProps,g=s.memoizedProps,w=d.value,Qe(ru,h._currentValue),h._currentValue=w,g!==null)if(Un(g.value,w)){if(g.children===d.children&&!Zt.current){s=Pr(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var S=g.dependencies;if(S!==null){w=g.child;for(var k=S.firstContext;k!==null;){if(k.context===h){if(g.tag===1){k=Cr(-1,a&-a),k.tag=2;var B=g.updateQueue;if(B!==null){B=B.shared;var J=B.pending;J===null?k.next=k:(k.next=J.next,J.next=k),B.pending=k}}g.lanes|=a,k=g.alternate,k!==null&&(k.lanes|=a),Nh(g.return,a,s),S.lanes|=a;break}k=k.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,S=w.alternate,S!==null&&(S.lanes|=a),Nh(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Gt(r,s,d.children,a),s=s.child}return s;case 9:return d=s.type,h=s.pendingProps.children,so(s,a),d=An(d),h=h(d),s.flags|=1,Gt(r,s,h,a),s.child;case 14:return h=s.type,d=zn(h,s.pendingProps),d=zn(h.type,d),Gm(r,s,h,d,a);case 15:return Qm(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:zn(h,d),mu(r,s),s.tag=1,en(h)?(r=!0,Yl(s)):r=!1,so(s,a),jm(s,h,d),Kh(s,h,d,a),Yh(null,s,h,!0,r,a);case 19:return rg(r,s,a);case 22:return Xm(r,s,a)}throw Error(t(156,s.tag))};function Cg(r,s){return bs(r,s)}function pE(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(r,s,a,h){return new pE(r,s,a,h)}function yd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function mE(r){if(typeof r=="function")return yd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===O)return 11;if(r===pt)return 14}return 2}function hi(r,s){var a=r.alternate;return a===null?(a=Pn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Ru(r,s,a,h,d,g){var w=2;if(h=r,typeof r=="function")yd(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case P:return rs(a.children,d,g,s);case I:w=8,d|=8;break;case R:return r=Pn(12,a,s,d|2),r.elementType=R,r.lanes=g,r;case C:return r=Pn(13,a,s,d),r.elementType=C,r.lanes=g,r;case tt:return r=Pn(19,a,s,d),r.elementType=tt,r.lanes=g,r;case je:return Cu(a,d,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:w=10;break e;case b:w=9;break e;case O:w=11;break e;case pt:w=14;break e;case mt:w=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Pn(w,a,s,d),s.elementType=r,s.type=h,s.lanes=g,s}function rs(r,s,a,h){return r=Pn(7,r,h,s),r.lanes=a,r}function Cu(r,s,a,h){return r=Pn(22,r,h,s),r.elementType=je,r.lanes=a,r.stateNode={isHidden:!1},r}function _d(r,s,a){return r=Pn(6,r,null,s),r.lanes=a,r}function vd(r,s,a){return s=Pn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function gE(r,s,a,h,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wr(0),this.expirationTimes=Wr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.identifierPrefix=h,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function wd(r,s,a,h,d,g,w,S,k){return r=new gE(r,s,a,S,k),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Pn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dh(g),r}function yE(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:de,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function Pg(r){if(!r)return ni;r=r._reactInternals;e:{if(bn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(en(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(en(a))return nm(r,a,s)}return s}function kg(r,s,a,h,d,g,w,S,k){return r=wd(a,h,!0,r,d,g,w,S,k),r.context=Pg(null),a=r.current,h=Qt(),d=ui(a),g=Cr(h,d),g.callback=s??null,si(a,g,d),r.current.lanes=d,Kr(r,d,h),rn(r,h),r}function Pu(r,s,a,h){var d=s.current,g=Qt(),w=ui(d);return a=Pg(a),s.context===null?s.context=a:s.pendingContext=a,s=Cr(g,w),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=si(d,s,w),r!==null&&(qn(r,d,w,g),su(r,d,w)),w}function ku(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function xg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Ed(r,s){xg(r,s),(r=r.alternate)&&xg(r,s)}function _E(){return null}var Ng=typeof reportError=="function"?reportError:function(r){console.error(r)};function Td(r){this._internalRoot=r}xu.prototype.render=Td.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Pu(r,s,null,null)},xu.prototype.unmount=Td.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;es(function(){Pu(null,r,null,null)}),s[Tr]=null}};function xu(r){this._internalRoot=r}xu.prototype.unstable_scheduleHydration=function(r){if(r){var s=xl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Yn.length&&s!==0&&s<Yn[a].priority;a++);Yn.splice(a,0,r),a===0&&Dl(r)}};function Id(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Nu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function bg(){}function vE(r,s,a,h,d){if(d){if(typeof h=="function"){var g=h;h=function(){var B=ku(w);g.call(B)}}var w=kg(s,h,r,0,null,!1,!1,"",bg);return r._reactRootContainer=w,r[Tr]=w.current,ma(r.nodeType===8?r.parentNode:r),es(),w}for(;d=r.lastChild;)r.removeChild(d);if(typeof h=="function"){var S=h;h=function(){var B=ku(k);S.call(B)}}var k=wd(r,0,!1,null,null,!1,!1,"",bg);return r._reactRootContainer=k,r[Tr]=k.current,ma(r.nodeType===8?r.parentNode:r),es(function(){Pu(s,k,a,h)}),k}function bu(r,s,a,h,d){var g=a._reactRootContainer;if(g){var w=g;if(typeof d=="function"){var S=d;d=function(){var k=ku(w);S.call(k)}}Pu(s,w,r,d)}else w=vE(a,s,r,d,h);return ku(w)}Pl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Hr(s.pendingLanes);a!==0&&(Gr(s,a|1),rn(s,Ge()),!(Fe&6)&&(co=Ge()+500,ri()))}break;case 13:es(function(){var h=Rr(r,1);if(h!==null){var d=Qt();qn(h,r,1,d)}}),Ed(r,1)}},Ls=function(r){if(r.tag===13){var s=Rr(r,134217728);if(s!==null){var a=Qt();qn(s,r,134217728,a)}Ed(r,134217728)}},kl=function(r){if(r.tag===13){var s=ui(r),a=Rr(r,s);if(a!==null){var h=Qt();qn(a,r,s,h)}Ed(r,s)}},xl=function(){return De},Nl=function(r,s){var a=De;try{return De=r,s()}finally{De=a}},Rs=function(r,s,a){switch(s){case"input":if(jo(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var d=Ql(h);if(!d)throw Error(t(90));ws(h),jo(h,d)}}}break;case"textarea":Ss(r,a);break;case"select":s=a.value,s!=null&&pr(r,!!a.multiple,s,!1)}},Oi=pd,Xo=es;var wE={usingClientEntryPoint:!1,Events:[_a,Ys,Ql,Qn,Qo,pd]},ba={findFiberByHostInstance:Wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},EE={bundleType:ba.bundleType,version:ba.version,rendererPackageName:ba.rendererPackageName,rendererConfig:ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Zo(r),r===null?null:r.stateNode},findFiberByHostInstance:ba.findFiberByHostInstance||_E,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{Ui=Du.inject(EE),cn=Du}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wE,sn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Id(s))throw Error(t(200));return yE(r,s,null,a)},sn.createRoot=function(r,s){if(!Id(r))throw Error(t(299));var a=!1,h="",d=Ng;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=wd(r,1,!1,null,null,a,!1,h,d),r[Tr]=s.current,ma(r.nodeType===8?r.parentNode:r),new Td(s)},sn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Zo(s),r=r===null?null:r.stateNode,r},sn.flushSync=function(r){return es(r)},sn.hydrate=function(r,s,a){if(!Nu(s))throw Error(t(200));return bu(null,r,s,!0,a)},sn.hydrateRoot=function(r,s,a){if(!Id(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,d=!1,g="",w=Ng;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=kg(s,null,r,1,a??null,d,!1,g,w),r[Tr]=s.current,ma(r),h)for(r=0;r<h.length;r++)a=h[r],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new xu(s)},sn.render=function(r,s,a){if(!Nu(s))throw Error(t(200));return bu(null,r,s,!1,a)},sn.unmountComponentAtNode=function(r){if(!Nu(r))throw Error(t(40));return r._reactRootContainer?(es(function(){bu(null,null,r,!1,function(){r._reactRootContainer=null,r[Tr]=null})}),!0):!1},sn.unstable_batchedUpdates=pd,sn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!Nu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return bu(r,s,a,!1,h)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var jg;function kE(){if(jg)return Rd.exports;jg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Rd.exports=PE(),Rd.exports}var zg;function xE(){if(zg)return Ou;zg=1;var n=kE();return Ou.createRoot=n.createRoot,Ou.hydrateRoot=n.hydrateRoot,Ou}var NE=xE();const bE=E_(NE);function T_(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=T_(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function ls(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=T_(n))&&(i&&(i+=" "),i+=e);return i}function DE(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}DE(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var nl=n=>typeof n=="number"&&!isNaN(n),ds=n=>typeof n=="string",Vr=n=>typeof n=="function",OE=n=>ds(n)||nl(n),Hd=n=>ds(n)||Vr(n)?n:null,LE=(n,e)=>n===!1||nl(n)&&n>0?n:e,Wd=n=>ge.isValidElement(n)||ds(n)||Vr(n)||nl(n);function VE(n,e,t=300){let{scrollHeight:i,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function ME({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:o=300}){return function({children:l,position:c,preventExitTransition:f,done:m,nodeRef:y,isIn:v,playToast:T}){let A=t?`${n}--${c}`:n,F=t?`${e}--${c}`:e,U=ge.useRef(0);return ge.useLayoutEffect(()=>{let z=y.current,D=A.split(" "),ee=W=>{W.target===y.current&&(T(),z.removeEventListener("animationend",ee),z.removeEventListener("animationcancel",ee),U.current===0&&W.type!=="animationcancel"&&z.classList.remove(...D))};z.classList.add(...D),z.addEventListener("animationend",ee),z.addEventListener("animationcancel",ee)},[]),ge.useEffect(()=>{let z=y.current,D=()=>{z.removeEventListener("animationend",D),i?VE(z,m,o):m()};v||(f?D():(U.current=1,z.className+=` ${F}`,z.addEventListener("animationend",D)))},[v]),Ue.createElement(Ue.Fragment,null,l)}}function Bg(n,e){return{content:I_(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function I_(n,e,t=!1){return ge.isValidElement(n)&&!ds(n.type)?ge.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Vr(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function FE({closeToast:n,theme:e,ariaLabel:t="close"}){return Ue.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},Ue.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ue.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function UE({delay:n,isRunning:e,closeToast:t,type:i="default",hide:o,className:l,controlledProgress:c,progress:f,rtl:m,isIn:y,theme:v}){let T=o||c&&f===0,A={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};c&&(A.transform=`scaleX(${f})`);let F=ls("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":m}),U=Vr(l)?l({rtl:m,type:i,defaultClassName:F}):ls(F,l),z={[c&&f>=1?"onTransitionEnd":"onAnimationEnd"]:c&&f<1?null:()=>{y&&t()}};return Ue.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":T},Ue.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${i}`}),Ue.createElement("div",{role:"progressbar","aria-hidden":T?"true":"false","aria-label":"notification timer",className:U,style:A,...z}))}var jE=1,S_=()=>`${jE++}`;function zE(n,e,t){let i=1,o=0,l=[],c=[],f=e,m=new Map,y=new Set,v=W=>(y.add(W),()=>y.delete(W)),T=()=>{c=Array.from(m.values()),y.forEach(W=>W())},A=({containerId:W,toastId:X,updateId:ne})=>{let pe=W?W!==n:n!==1,de=m.has(X)&&ne==null;return pe||de},F=(W,X)=>{m.forEach(ne=>{var pe;(X==null||X===ne.props.toastId)&&((pe=ne.toggle)==null||pe.call(ne,W))})},U=W=>{var X,ne;(ne=(X=W.props)==null?void 0:X.onClose)==null||ne.call(X,W.removalReason),W.isActive=!1},z=W=>{if(W==null)m.forEach(U);else{let X=m.get(W);X&&U(X)}T()},D=()=>{o-=l.length,l=[]},ee=W=>{var X,ne;let{toastId:pe,updateId:de}=W.props,P=de==null;W.staleId&&m.delete(W.staleId),W.isActive=!0,m.set(pe,W),T(),t(Bg(W,P?"added":"updated")),P&&((ne=(X=W.props).onOpen)==null||ne.call(X))};return{id:n,props:f,observe:v,toggle:F,removeToast:z,toasts:m,clearQueue:D,buildToast:(W,X)=>{if(A(X))return;let{toastId:ne,updateId:pe,data:de,staleId:P,delay:I}=X,R=pe==null;R&&o++;let x={...f,style:f.toastStyle,key:i++,...Object.fromEntries(Object.entries(X).filter(([O,C])=>C!=null)),toastId:ne,updateId:pe,data:de,isIn:!1,className:Hd(X.className||f.toastClassName),progressClassName:Hd(X.progressClassName||f.progressClassName),autoClose:X.isLoading?!1:LE(X.autoClose,f.autoClose),closeToast(O){m.get(ne).removalReason=O,z(ne)},deleteToast(){let O=m.get(ne);if(O!=null){if(t(Bg(O,"removed")),m.delete(ne),o--,o<0&&(o=0),l.length>0){ee(l.shift());return}T()}}};x.closeButton=f.closeButton,X.closeButton===!1||Wd(X.closeButton)?x.closeButton=X.closeButton:X.closeButton===!0&&(x.closeButton=Wd(f.closeButton)?f.closeButton:!0);let b={content:W,props:x,staleId:P};f.limit&&f.limit>0&&o>f.limit&&R?l.push(b):nl(I)?setTimeout(()=>{ee(b)},I):ee(b)},setProps(W){f=W},setToggle:(W,X)=>{let ne=m.get(W);ne&&(ne.toggle=X)},isToastActive:W=>{var X;return(X=m.get(W))==null?void 0:X.isActive},getSnapshot:()=>c}}var Xt=new Map,Ha=[],Kd=new Set,BE=n=>Kd.forEach(e=>e(n)),A_=()=>Xt.size>0;function $E(){Ha.forEach(n=>C_(n.content,n.options)),Ha=[]}var qE=(n,{containerId:e})=>{var t;return(t=Xt.get(e||1))==null?void 0:t.toasts.get(n)};function R_(n,e){var t;if(e)return!!((t=Xt.get(e))!=null&&t.isToastActive(n));let i=!1;return Xt.forEach(o=>{o.isToastActive(n)&&(i=!0)}),i}function HE(n){if(!A_()){Ha=Ha.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||OE(n))Xt.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Xt.get(n.containerId);e?e.removeToast(n.id):Xt.forEach(t=>{t.removeToast(n.id)})}}var WE=(n={})=>{Xt.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function C_(n,e){Wd(n)&&(A_()||Ha.push({content:n,options:e}),Xt.forEach(t=>{t.buildToast(n,e)}))}function KE(n){var e;(e=Xt.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function P_(n,e){Xt.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function GE(n){let e=n.containerId||1;return{subscribe(t){let i=zE(e,n,BE);Xt.set(e,i);let o=i.observe(t);return $E(),()=>{o(),Xt.delete(e)}},setProps(t){var i;(i=Xt.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=Xt.get(e))==null?void 0:t.getSnapshot()}}}function QE(n){return Kd.add(n),()=>{Kd.delete(n)}}function XE(n){return n&&(ds(n.toastId)||nl(n.toastId))?n.toastId:S_()}function rl(n,e){return C_(n,e),e.toastId}function Tc(n,e){return{...e,type:e&&e.type||n,toastId:XE(e)}}function Ic(n){return(e,t)=>rl(e,Tc(n,t))}function Ce(n,e){return rl(n,Tc("default",e))}Ce.loading=(n,e)=>rl(n,Tc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function YE(n,{pending:e,error:t,success:i},o){let l;e&&(l=ds(e)?Ce.loading(e,o):Ce.loading(e.render,{...o,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(y,v,T)=>{if(v==null){Ce.dismiss(l);return}let A={type:y,...c,...o,data:T},F=ds(v)?{render:v}:v;return l?Ce.update(l,{...A,...F}):Ce(F.render,{...A,...F}),T},m=Vr(n)?n():n;return m.then(y=>f("success",i,y)).catch(y=>f("error",t,y)),m}Ce.promise=YE;Ce.success=Ic("success");Ce.info=Ic("info");Ce.error=Ic("error");Ce.warning=Ic("warning");Ce.warn=Ce.warning;Ce.dark=(n,e)=>rl(n,Tc("default",{theme:"dark",...e}));function JE(n){HE(n)}Ce.dismiss=JE;Ce.clearWaitingQueue=WE;Ce.isActive=R_;Ce.update=(n,e={})=>{let t=qE(n,e);if(t){let{props:i,content:o}=t,l={delay:100,...i,...e,toastId:e.toastId||n,updateId:S_()};l.toastId!==n&&(l.staleId=n);let c=l.render||o;delete l.render,rl(c,l)}};Ce.done=n=>{Ce.update(n,{progress:1})};Ce.onChange=QE;Ce.play=n=>P_(!0,n);Ce.pause=n=>P_(!1,n);function ZE(n){var e;let{subscribe:t,getSnapshot:i,setProps:o}=ge.useRef(GE(n)).current;o(n);let l=(e=ge.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function c(f){if(!l)return[];let m=new Map;return n.newestOnTop&&l.reverse(),l.forEach(y=>{let{position:v}=y.props;m.has(v)||m.set(v,[]),m.get(v).push(y)}),Array.from(m,y=>f(y[0],y[1]))}return{getToastToRender:c,isToastActive:R_,count:l==null?void 0:l.length}}function eT(n){let[e,t]=ge.useState(!1),[i,o]=ge.useState(!1),l=ge.useRef(null),c=ge.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:m,closeToast:y,onClick:v,closeOnClick:T}=n;KE({id:n.toastId,containerId:n.containerId,fn:t}),ge.useEffect(()=>{if(n.pauseOnFocusLoss)return A(),()=>{F()}},[n.pauseOnFocusLoss]);function A(){document.hasFocus()||ee(),window.addEventListener("focus",D),window.addEventListener("blur",ee)}function F(){window.removeEventListener("focus",D),window.removeEventListener("blur",ee)}function U(P){if(n.draggable===!0||n.draggable===P.pointerType){W();let I=l.current;c.canCloseOnClick=!0,c.canDrag=!0,I.style.transition="none",n.draggableDirection==="x"?(c.start=P.clientX,c.removalDistance=I.offsetWidth*(n.draggablePercent/100)):(c.start=P.clientY,c.removalDistance=I.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function z(P){let{top:I,bottom:R,left:x,right:b}=l.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&n.pauseOnHover&&P.clientX>=x&&P.clientX<=b&&P.clientY>=I&&P.clientY<=R?ee():D()}function D(){t(!0)}function ee(){t(!1)}function W(){c.didMove=!1,document.addEventListener("pointermove",ne),document.addEventListener("pointerup",pe)}function X(){document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",pe)}function ne(P){let I=l.current;if(c.canDrag&&I){c.didMove=!0,e&&ee(),n.draggableDirection==="x"?c.delta=P.clientX-c.start:c.delta=P.clientY-c.start,c.start!==P.clientX&&(c.canCloseOnClick=!1);let R=n.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;I.style.transform=`translate3d(${R},0)`,I.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function pe(){X();let P=l.current;if(c.canDrag&&c.didMove&&P){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}let de={onPointerDown:U,onPointerUp:z};return f&&m&&(de.onMouseEnter=ee,n.stacked||(de.onMouseLeave=D)),T&&(de.onClick=P=>{v&&v(P),c.canCloseOnClick&&y(!0)}),{playToast:D,pauseToast:ee,isRunning:e,preventExitTransition:i,toastRef:l,eventHandlers:de}}var tT=typeof window<"u"?ge.useLayoutEffect:ge.useEffect,Sc=({theme:n,type:e,isLoading:t,...i})=>Ue.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function nT(n){return Ue.createElement(Sc,{...n},Ue.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function rT(n){return Ue.createElement(Sc,{...n},Ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function iT(n){return Ue.createElement(Sc,{...n},Ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function sT(n){return Ue.createElement(Sc,{...n},Ue.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function oT(){return Ue.createElement("div",{className:"Toastify__spinner"})}var Gd={info:rT,warning:nT,success:iT,error:sT,spinner:oT},aT=n=>n in Gd;function lT({theme:n,type:e,isLoading:t,icon:i}){let o=null,l={theme:n,type:e};return i===!1||(Vr(i)?o=i({...l,isLoading:t}):ge.isValidElement(i)?o=ge.cloneElement(i,l):t?o=Gd.spinner():aT(e)&&(o=Gd[e](l))),o}var uT=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:o,playToast:l}=eT(n),{closeButton:c,children:f,autoClose:m,onClick:y,type:v,hideProgressBar:T,closeToast:A,transition:F,position:U,className:z,style:D,progressClassName:ee,updateId:W,role:X,progress:ne,rtl:pe,toastId:de,deleteToast:P,isIn:I,isLoading:R,closeOnClick:x,theme:b,ariaLabel:O}=n,C=ls("Toastify__toast",`Toastify__toast-theme--${b}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":pe},{"Toastify__toast--close-on-click":x}),tt=Vr(z)?z({rtl:pe,position:U,type:v,defaultClassName:C}):ls(C,z),pt=lT(n),mt=!!ne||!m,je={closeToast:A,type:v,theme:b},re=null;return c===!1||(Vr(c)?re=c(je):ge.isValidElement(c)?re=ge.cloneElement(c,je):re=FE(je)),Ue.createElement(F,{isIn:I,done:P,position:U,preventExitTransition:t,nodeRef:i,playToast:l},Ue.createElement("div",{id:de,tabIndex:0,onClick:y,"data-in":I,className:tt,...o,style:D,ref:i,...I&&{role:X,"aria-label":O}},pt!=null&&Ue.createElement("div",{className:ls("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},pt),I_(f,n,!e),re,!n.customProgressBar&&Ue.createElement(UE,{...W&&!mt?{key:`p-${W}`}:{},rtl:pe,theme:b,delay:m,isRunning:e,isIn:I,closeToast:A,hide:T,type:v,className:ee,controlledProgress:mt,progress:ne||0})))},cT=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),hT=ME(cT("bounce",!0)),dT={position:"top-right",transition:hT,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function fT(n){let e={...dT,...n},t=n.stacked,[i,o]=ge.useState(!0),l=ge.useRef(null),{getToastToRender:c,isToastActive:f,count:m}=ZE(e),{className:y,style:v,rtl:T,containerId:A,hotKeys:F}=e;function U(D){let ee=ls("Toastify__toast-container",`Toastify__toast-container--${D}`,{"Toastify__toast-container--rtl":T});return Vr(y)?y({position:D,rtl:T,defaultClassName:ee}):ls(ee,Hd(y))}function z(){t&&(o(!0),Ce.play())}return tT(()=>{var D;if(t){let ee=l.current.querySelectorAll('[data-in="true"]'),W=12,X=(D=e.position)==null?void 0:D.includes("top"),ne=0,pe=0;Array.from(ee).reverse().forEach((de,P)=>{let I=de;I.classList.add("Toastify__toast--stacked"),P>0&&(I.dataset.collapsed=`${i}`),I.dataset.pos||(I.dataset.pos=X?"top":"bot");let R=ne*(i?.2:1)+(i?0:W*P);I.style.setProperty("--y",`${X?R:R*-1}px`),I.style.setProperty("--g",`${W}`),I.style.setProperty("--s",`${1-(i?pe:0)}`),ne+=I.offsetHeight,pe+=.025})}},[i,m,t]),ge.useEffect(()=>{function D(ee){var W;let X=l.current;F(ee)&&((W=X.querySelector('[tabIndex="0"]'))==null||W.focus(),o(!1),Ce.pause()),ee.key==="Escape"&&(document.activeElement===X||X!=null&&X.contains(document.activeElement))&&(o(!0),Ce.play())}return document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[F]),Ue.createElement("section",{ref:l,className:"Toastify",id:A,onMouseEnter:()=>{t&&(o(!1),Ce.pause())},onMouseLeave:z,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((D,ee)=>{let W=ee.length?{...v}:{...v,pointerEvents:"none"};return Ue.createElement("div",{tabIndex:-1,className:U(D),"data-stacked":t,style:W,key:`c-${D}`},ee.map(({content:X,props:ne})=>Ue.createElement(uT,{...ne,stacked:t,collapseAll:z,isIn:f(ne.toastId,ne.containerId),key:`t-${ne.key}`},X)))}))}var $g={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},pT=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],f=n[t++],m=((o&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},x_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,f=c?n[o+1]:0,m=o+2<n.length,y=m?n[o+2]:0,v=l>>2,T=(l&3)<<4|f>>4;let A=(f&15)<<2|y>>6,F=y&63;m||(F=64,c||(A=64)),i.push(t[v],t[T],t[A],t[F])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(k_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):pT(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||y==null||T==null)throw new mT;const A=l<<2|f>>4;if(i.push(A),y!==64){const F=f<<4&240|y>>2;if(i.push(F),T!==64){const U=y<<6&192|T;i.push(U)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class mT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gT=function(n){const e=k_(n);return x_.encodeByteArray(e,!0)},ec=function(n){return gT(n).replace(/\./g,"")},N_=function(n){try{return x_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=()=>yT().__FIREBASE_DEFAULTS__,vT=()=>{if(typeof process>"u"||typeof $g>"u")return;const n=$g.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wT=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&N_(n[1]);return e&&JSON.parse(e)},Ac=()=>{try{return _T()||vT()||wT()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},b_=n=>{var e,t;return(t=(e=Ac())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ET=n=>{const e=b_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},D_=()=>{var n;return(n=Ac())===null||n===void 0?void 0:n.config},O_=n=>{var e;return(e=Ac())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ec(JSON.stringify(t)),ec(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ST(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function AT(){var n;const e=(n=Ac())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function PT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kT(){const n=Ht();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function xT(){return!AT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NT(){try{return typeof indexedDB=="object"}catch{return!1}}function bT(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="FirebaseError";class zr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=DT,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,il.prototype.create)}}class il{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?OT(l,i):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new zr(o,f,i)}}function OT(n,e){return n.replace(LT,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const LT=/\{\$([^}]+)}/g;function VT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function tc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(qg(l)&&qg(c)){if(!tc(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function qg(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function MT(n,e){const t=new FT(n,e);return t.subscribe.bind(t)}class FT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");UT(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=kd),o.error===void 0&&(o.error=kd),o.complete===void 0&&(o.complete=kd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UT(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function kd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(n){return n&&n._delegate?n._delegate:n}class fs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new TT;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BT(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=is){return this.instances.has(e)}getOptions(e=is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:zT(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=is){return this.component?this.component.multipleInstances?e:is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zT(n){return n===is?void 0:n}function BT(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ne||(Ne={}));const qT={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},HT=Ne.INFO,WT={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},KT=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=WT[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pf{constructor(e){this.name=e,this._logLevel=HT,this._logHandler=KT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const GT=(n,e)=>e.some(t=>n instanceof t);let Hg,Wg;function QT(){return Hg||(Hg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XT(){return Wg||(Wg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L_=new WeakMap,Qd=new WeakMap,V_=new WeakMap,xd=new WeakMap,kf=new WeakMap;function YT(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(_i(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&L_.set(t,n)}).catch(()=>{}),kf.set(e,n),e}function JT(n){if(Qd.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Qd.set(n,e)}let Xd={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Qd.get(n);if(e==="objectStoreNames")return n.objectStoreNames||V_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _i(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ZT(n){Xd=n(Xd)}function e1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Nd(this),e,...t);return V_.set(i,e.sort?e.sort():[e]),_i(i)}:XT().includes(n)?function(...e){return n.apply(Nd(this),e),_i(L_.get(this))}:function(...e){return _i(n.apply(Nd(this),e))}}function t1(n){return typeof n=="function"?e1(n):(n instanceof IDBTransaction&&JT(n),GT(n,QT())?new Proxy(n,Xd):n)}function _i(n){if(n instanceof IDBRequest)return YT(n);if(xd.has(n))return xd.get(n);const e=t1(n);return e!==n&&(xd.set(n,e),kf.set(e,n)),e}const Nd=n=>kf.get(n);function n1(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),f=_i(c);return i&&c.addEventListener("upgradeneeded",m=>{i(_i(c.result),m.oldVersion,m.newVersion,_i(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const r1=["get","getKey","getAll","getAllKeys","count"],i1=["put","add","delete","clear"],bd=new Map;function Kg(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bd.get(e))return bd.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=i1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||r1.includes(t)))return;const l=async function(c,...f){const m=this.transaction(c,o?"readwrite":"readonly");let y=m.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&m.done]))[0]};return bd.set(e,l),l}ZT(n=>({...n,get:(e,t,i)=>Kg(e,t)||n.get(e,t,i),has:(e,t)=>!!Kg(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(o1(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function o1(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yd="@firebase/app",Gg="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new Pf("@firebase/app"),a1="@firebase/app-compat",l1="@firebase/analytics-compat",u1="@firebase/analytics",c1="@firebase/app-check-compat",h1="@firebase/app-check",d1="@firebase/auth",f1="@firebase/auth-compat",p1="@firebase/database",m1="@firebase/data-connect",g1="@firebase/database-compat",y1="@firebase/functions",_1="@firebase/functions-compat",v1="@firebase/installations",w1="@firebase/installations-compat",E1="@firebase/messaging",T1="@firebase/messaging-compat",I1="@firebase/performance",S1="@firebase/performance-compat",A1="@firebase/remote-config",R1="@firebase/remote-config-compat",C1="@firebase/storage",P1="@firebase/storage-compat",k1="@firebase/firestore",x1="@firebase/vertexai",N1="@firebase/firestore-compat",b1="firebase",D1="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="[DEFAULT]",O1={[Yd]:"fire-core",[a1]:"fire-core-compat",[u1]:"fire-analytics",[l1]:"fire-analytics-compat",[h1]:"fire-app-check",[c1]:"fire-app-check-compat",[d1]:"fire-auth",[f1]:"fire-auth-compat",[p1]:"fire-rtdb",[m1]:"fire-data-connect",[g1]:"fire-rtdb-compat",[y1]:"fire-fn",[_1]:"fire-fn-compat",[v1]:"fire-iid",[w1]:"fire-iid-compat",[E1]:"fire-fcm",[T1]:"fire-fcm-compat",[I1]:"fire-perf",[S1]:"fire-perf-compat",[A1]:"fire-rc",[R1]:"fire-rc-compat",[C1]:"fire-gcs",[P1]:"fire-gcs-compat",[k1]:"fire-fst",[N1]:"fire-fst-compat",[x1]:"fire-vertex","fire-js":"fire-js",[b1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=new Map,L1=new Map,Zd=new Map;function Qg(n,e){try{n.container.addComponent(e)}catch(t){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Eo(n){const e=n.name;if(Zd.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;Zd.set(e,n);for(const t of nc.values())Qg(t,n);for(const t of L1.values())Qg(t,n);return!0}function xf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Nr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vi=new il("app","Firebase",V1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=D1;function M_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Jd,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw vi.create("bad-app-name",{appName:String(o)});if(t||(t=D_()),!t)throw vi.create("no-options");const l=nc.get(o);if(l){if(tc(t,l.options)&&tc(i,l.config))return l;throw vi.create("duplicate-app",{appName:o})}const c=new $T(o);for(const m of Zd.values())c.addComponent(m);const f=new M1(t,i,c);return nc.set(o,f),f}function F_(n=Jd){const e=nc.get(n);if(!e&&n===Jd&&D_())return M_();if(!e)throw vi.create("no-app",{appName:n});return e}function wi(n,e,t){var i;let o=(i=O1[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(f.join(" "));return}Eo(new fs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="firebase-heartbeat-database",U1=1,Wa="firebase-heartbeat-store";let Dd=null;function U_(){return Dd||(Dd=n1(F1,U1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Wa)}catch(t){console.warn(t)}}}}).catch(n=>{throw vi.create("idb-open",{originalErrorMessage:n.message})})),Dd}async function j1(n){try{const t=(await U_()).transaction(Wa),i=await t.objectStore(Wa).get(j_(n));return await t.done,i}catch(e){if(e instanceof zr)Mr.warn(e.message);else{const t=vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mr.warn(t.message)}}}async function Xg(n,e){try{const i=(await U_()).transaction(Wa,"readwrite");await i.objectStore(Wa).put(e,j_(n)),await i.done}catch(t){if(t instanceof zr)Mr.warn(t.message);else{const i=vi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Mr.warn(i.message)}}}function j_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=1024,B1=30*24*60*60*1e3;class $1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new H1(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Yg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const f=new Date(c.date).valueOf();return Date.now()-f<=B1}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Mr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Yg(),{heartbeatsToSend:i,unsentEntries:o}=q1(this._heartbeatsCache.heartbeats),l=ec(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Mr.warn(t),""}}}function Yg(){return new Date().toISOString().substring(0,10)}function q1(n,e=z1){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Jg(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Jg(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class H1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NT()?bT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await j1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Xg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Xg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Jg(n){return ec(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(n){Eo(new fs("platform-logger",e=>new s1(e),"PRIVATE")),Eo(new fs("heartbeat",e=>new $1(e),"PRIVATE")),wi(Yd,Gg,n),wi(Yd,Gg,"esm2017"),wi("fire-js","")}W1("");function Nf(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function z_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const K1=z_,B_=new il("auth","Firebase",z_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new Pf("@firebase/auth");function G1(n,...e){rc.logLevel<=Ne.WARN&&rc.warn(`Auth (${xo}): ${n}`,...e)}function zu(n,...e){rc.logLevel<=Ne.ERROR&&rc.error(`Auth (${xo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(n,...e){throw Df(n,...e)}function Hn(n,...e){return Df(n,...e)}function bf(n,e,t){const i=Object.assign(Object.assign({},K1()),{[e]:t});return new il("auth","Firebase",i).create(e,{appName:n.name})}function us(n){return bf(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Q1(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&cr(n,"argument-error"),bf(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Df(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return B_.create(n,...e)}function Ie(n,e,...t){if(!n)throw Df(e,...t)}function br(n){const e="INTERNAL ASSERTION FAILED: "+n;throw zu(e),new Error(e)}function Fr(n,e){n||br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function X1(){return Zg()==="http:"||Zg()==="https:"}function Zg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X1()||CT()||"connection"in navigator)?navigator.onLine:!0}function J1(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fr(t>e,"Short delay should be less than long delay!"),this.isMobile=ST()||PT()}get(){return Y1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(n,e){Fr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=new ol(3e4,6e4);function Lf(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function No(n,e,t,i,o={}){return q_(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=sl(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:m},l);return RT()||(y.referrerPolicy="no-referrer"),$_.fetch()(H_(n,n.config.apiHost,t,f),y)})}async function q_(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Z1),e);try{const o=new nI(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Lu(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,y]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lu(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Lu(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw Lu(n,"user-disabled",c);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw bf(n,v,y);cr(n,v)}}catch(o){if(o instanceof zr)throw o;cr(n,"network-request-failed",{message:String(o)})}}async function tI(n,e,t,i,o={}){const l=await No(n,e,t,i,o);return"mfaPendingCredential"in l&&cr(n,"multi-factor-auth-required",{_serverResponse:l}),l}function H_(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Of(n.config,o):`${n.config.apiScheme}://${o}`}class nI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Hn(this.auth,"network-request-failed")),eI.get())})}}function Lu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Hn(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(n,e){return No(n,"POST","/v1/accounts:delete",e)}async function W_(n,e){return No(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iI(n,e=!1){const t=kt(n),i=await t.getIdToken(e),o=Vf(i);Ie(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:ja(Od(o.auth_time)),issuedAtTime:ja(Od(o.iat)),expirationTime:ja(Od(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Od(n){return Number(n)*1e3}function Vf(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return zu("JWT malformed, contained fewer than 3 sections"),null;try{const o=N_(t);return o?JSON.parse(o):(zu("Failed to decode base64 JWT payload"),null)}catch(o){return zu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function ey(n){const e=Vf(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof zr&&sI(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function sI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ja(this.lastLoginAt),this.creationTime=ja(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Ka(n,W_(t,{idToken:i}));Ie(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?K_(l.providerUserInfo):[],f=lI(n.providerData,c),m=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),v=m?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new tf(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,T)}async function aI(n){const e=kt(n);await ic(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lI(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function K_(n){return n.map(e=>{var{providerId:t}=e,i=Nf(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(n,e){const t=await q_(n,{},async()=>{const i=sl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=H_(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",$_.fetch()(c,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function cI(n,e){return No(n,"POST","/v2/accounts:revokeToken",Lf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ey(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=ey(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await uI(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new yo;return i&&(Ie(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ie(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Ie(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Dr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=Nf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new tf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Ka(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return iI(this,e)}reload(){return aI(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await ic(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nr(this.auth.app))return Promise.reject(us(this.auth));const e=await this.getIdToken();return await Ka(this,rI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,c,f,m,y,v;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,A=(o=t.email)!==null&&o!==void 0?o:void 0,F=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,U=(c=t.photoURL)!==null&&c!==void 0?c:void 0,z=(f=t.tenantId)!==null&&f!==void 0?f:void 0,D=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,ee=(y=t.createdAt)!==null&&y!==void 0?y:void 0,W=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:X,emailVerified:ne,isAnonymous:pe,providerData:de,stsTokenManager:P}=t;Ie(X&&P,e,"internal-error");const I=yo.fromJSON(this.name,P);Ie(typeof X=="string",e,"internal-error"),fi(T,e.name),fi(A,e.name),Ie(typeof ne=="boolean",e,"internal-error"),Ie(typeof pe=="boolean",e,"internal-error"),fi(F,e.name),fi(U,e.name),fi(z,e.name),fi(D,e.name),fi(ee,e.name),fi(W,e.name);const R=new Dr({uid:X,auth:e,email:A,emailVerified:ne,displayName:T,isAnonymous:pe,photoURL:U,phoneNumber:F,tenantId:z,stsTokenManager:I,createdAt:ee,lastLoginAt:W});return de&&Array.isArray(de)&&(R.providerData=de.map(x=>Object.assign({},x))),D&&(R._redirectEventId=D),R}static async _fromIdTokenResponse(e,t,i=!1){const o=new yo;o.updateFromServerResponse(t);const l=new Dr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await ic(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ie(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?K_(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new yo;f.updateFromIdToken(i);const m=new Dr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new tf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,y),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=new Map;function Or(n){Fr(n instanceof Function,"Expected a class definition");let e=ty.get(n);return e?(Fr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ty.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}G_.type="NONE";const ny=G_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(n,e,t){return`firebase:${n}:${e}:${t}`}class _o{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Bu(this.userKey,o.apiKey,l),this.fullPersistenceKey=Bu("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Dr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new _o(Or(ny),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||Or(ny);const c=Bu(i,e.config.apiKey,e.name);let f=null;for(const y of t)try{const v=await y._get(c);if(v){const T=Dr._fromJSON(e,v);y!==l&&(f=T),l=y;break}}catch{}const m=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new _o(l,e,i):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(c)}catch{}})),new _o(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(J_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Q_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ev(e))return"Blackberry";if(tv(e))return"Webos";if(X_(e))return"Safari";if((e.includes("chrome/")||Y_(e))&&!e.includes("edge/"))return"Chrome";if(Z_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Q_(n=Ht()){return/firefox\//i.test(n)}function X_(n=Ht()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Y_(n=Ht()){return/crios\//i.test(n)}function J_(n=Ht()){return/iemobile/i.test(n)}function Z_(n=Ht()){return/android/i.test(n)}function ev(n=Ht()){return/blackberry/i.test(n)}function tv(n=Ht()){return/webos/i.test(n)}function Mf(n=Ht()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function hI(n=Ht()){var e;return Mf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dI(){return kT()&&document.documentMode===10}function nv(n=Ht()){return Mf(n)||Z_(n)||tv(n)||ev(n)||/windows phone/i.test(n)||J_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(n,e=[]){let t;switch(n){case"Browser":t=ry(Ht());break;case"Worker":t=`${ry(Ht())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(n,e={}){return No(n,"GET","/v2/passwordPolicy",Lf(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=6;class gI{constructor(e){var t,i,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:mI,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,c,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iy(this),this.idTokenSubscription=new iy(this),this.beforeStateQueue=new fI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Or(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await W_(this,{idToken:e}),i=await Dr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Nr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&(m!=null&&m.user)&&(o=m.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ic(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nr(this.app))return Promise.reject(us(this));const t=e?kt(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nr(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nr(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pI(this),t=new gI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new il("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await cI(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Or(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[Or(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,o);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&G1(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Rc(n){return kt(n)}class iy{constructor(e){this.auth=e,this.observer=null,this.addObserver=MT(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _I(n){Ff=n}function vI(n){return Ff.loadJS(n)}function wI(){return Ff.gapiScript}function EI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(n,e){const t=xf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(tc(l,e??{}))return o;cr(o,"already-initialized")}return t.initialize({options:e})}function II(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Or);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function SI(n,e,t){const i=Rc(n);Ie(i._canInitEmulator,i,"emulator-config-failed"),Ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=iv(e),{host:c,port:f}=AI(e),m=f===null?"":`:${f}`;i.config.emulator={url:`${l}//${c}${m}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),RI()}function iv(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function AI(n){const e=iv(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:sy(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:sy(c)}}}function sy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function RI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,t){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(n,e){return tI(n,"POST","/v1/accounts:signInWithIdp",Lf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="http://localhost";class ps extends sv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):cr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=Nf(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new ps(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return vo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,vo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,vo(e,t)}buildRequest(){const e={requestUri:CI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=sl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends Uf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends al{constructor(){super("facebook.com")}static credential(e){return ps._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends al{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ps._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return xr.credential(t,i)}catch{return null}}}xr.GOOGLE_SIGN_IN_METHOD="google.com";xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends al{constructor(){super("github.com")}static credential(e){return ps._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.GITHUB_SIGN_IN_METHOD="github.com";mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends al{constructor(){super("twitter.com")}static credential(e,t){return ps._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return gi.credential(t,i)}catch{return null}}}gi.TWITTER_SIGN_IN_METHOD="twitter.com";gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Dr._fromIdTokenResponse(e,i,o),c=oy(i);return new To({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=oy(i);return new To({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function oy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends zr{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,sc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new sc(e,t,i,o)}}function ov(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?sc._fromErrorAndOperation(n,l,e,i):l})}async function PI(n,e,t=!1){const i=await Ka(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return To._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(n,e,t=!1){const{auth:i}=n;if(Nr(i.app))return Promise.reject(us(i));const o="reauthenticate";try{const l=await Ka(n,ov(i,o,e,n),t);Ie(l.idToken,i,"internal-error");const c=Vf(l.idToken);Ie(c,i,"internal-error");const{sub:f}=c;return Ie(n.uid===f,i,"user-mismatch"),To._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&cr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(n,e,t=!1){if(Nr(n.app))return Promise.reject(us(n));const i="signIn",o=await ov(n,i,e),l=await To._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}function NI(n,e,t,i){return kt(n).onIdTokenChanged(e,t,i)}function bI(n,e,t){return kt(n).beforeAuthStateChanged(e,t)}function DI(n,e,t,i){return kt(n).onAuthStateChanged(e,t,i)}function OI(n){return kt(n).signOut()}const oc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(oc,"1"),this.storage.removeItem(oc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=1e3,VI=10;class lv extends av{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);dI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,VI):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},LI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}lv.type="LOCAL";const MI=lv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv extends av{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}uv.type="SESSION";const cv=uv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Cc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(c).map(async y=>y(t.origin,l)),m=await FI(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const y=jf("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(A.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return window}function jI(n){or().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(){return typeof or().WorkerGlobalScope<"u"&&typeof or().importScripts=="function"}async function zI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BI(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function $I(){return hv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="firebaseLocalStorageDb",qI=1,ac="firebaseLocalStorage",fv="fbase_key";class ll{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Pc(n,e){return n.transaction([ac],e?"readwrite":"readonly").objectStore(ac)}function HI(){const n=indexedDB.deleteDatabase(dv);return new ll(n).toPromise()}function nf(){const n=indexedDB.open(dv,qI);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(ac,{keyPath:fv})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(ac)?e(i):(i.close(),await HI(),e(await nf()))})})}async function ay(n,e,t){const i=Pc(n,!0).put({[fv]:e,value:t});return new ll(i).toPromise()}async function WI(n,e){const t=Pc(n,!1).get(e),i=await new ll(t).toPromise();return i===void 0?null:i.value}function ly(n,e){const t=Pc(n,!0).delete(e);return new ll(t).toPromise()}const KI=800,GI=3;class pv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>GI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cc._getInstance($I()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await zI(),!this.activeServiceWorker)return;this.sender=new UI(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nf();return await ay(e,oc,"1"),await ly(e,oc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ay(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>WI(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ly(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Pc(o,!1).getAll();return new ll(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pv.type="LOCAL";const QI=pv;new ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(n,e){return e?Or(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf extends sv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return vo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function XI(n){return xI(n.auth,new zf(n),n.bypassAuthState)}function YI(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),kI(t,new zf(n),n.bypassAuthState)}async function JI(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),PI(t,new zf(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XI;case"linkViaPopup":case"linkViaRedirect":return JI;case"reauthViaPopup":case"reauthViaRedirect":return YI;default:cr(this.auth,"internal-error")}}resolve(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=new ol(2e3,1e4);async function eS(n,e,t){if(Nr(n.app))return Promise.reject(Hn(n,"operation-not-supported-in-this-environment"));const i=Rc(n);Q1(n,e,Uf);const o=mv(i,t);return new ss(i,"signInViaPopup",e,o).executeNotNull()}class ss extends gv{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,ss.currentPopupAction&&ss.currentPopupAction.cancel(),ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Fr(this.filter.length===1,"Popup operations only handle one event");const e=jf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZI.get())};e()}}ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="pendingRedirect",$u=new Map;class nS extends gv{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=$u.get(this.auth._key());if(!e){try{const i=await rS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}$u.set(this.auth._key(),e)}return this.bypassAuthState||$u.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rS(n,e){const t=oS(e),i=sS(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function iS(n,e){$u.set(n._key(),e)}function sS(n){return Or(n._redirectPersistence)}function oS(n){return Bu(tS,n.config.apiKey,n.name)}async function aS(n,e,t=!1){if(Nr(n.app))return Promise.reject(us(n));const i=Rc(n),o=mv(i,e),c=await new nS(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=10*60*1e3;class uS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cS(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!yv(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Hn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lS&&this.cachedEventUids.clear(),this.cachedEventUids.has(uy(e))}saveEventToCache(e){this.cachedEventUids.add(uy(e)),this.lastProcessedEventTime=Date.now()}}function uy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function yv({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cS(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yv(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hS(n,e={}){return No(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fS=/^https?/;async function pS(n){if(n.config.emulator)return;const{authorizedDomains:e}=await hS(n);for(const t of e)try{if(mS(t))return}catch{}cr(n,"unauthorized-domain")}function mS(n){const e=ef(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!fS.test(t))return!1;if(dS.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=new ol(3e4,6e4);function cy(){const n=or().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function yS(n){return new Promise((e,t)=>{var i,o,l;function c(){cy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cy(),t(Hn(n,"network-request-failed"))},timeout:gS.get()})}if(!((o=(i=or().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=or().gapi)===null||l===void 0)&&l.load)c();else{const f=EI("iframefcb");return or()[f]=()=>{gapi.load?c():t(Hn(n,"network-request-failed"))},vI(`${wI()}?onload=${f}`).catch(m=>t(m))}}).catch(e=>{throw qu=null,e})}let qu=null;function _S(n){return qu=qu||yS(n),qu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=new ol(5e3,15e3),wS="__/auth/iframe",ES="emulator/auth/iframe",TS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SS(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Of(e,ES):`https://${n.config.authDomain}/${wS}`,i={apiKey:e.apiKey,appName:n.name,v:xo},o=IS.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${sl(i).slice(1)}`}async function AS(n){const e=await _S(n),t=or().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:SS(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TS,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=Hn(n,"network-request-failed"),f=or().setTimeout(()=>{l(c)},vS.get());function m(){or().clearTimeout(f),o(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CS=500,PS=600,kS="_blank",xS="http://localhost";class hy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NS(n,e,t,i=CS,o=PS){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m=Object.assign(Object.assign({},RS),{width:i.toString(),height:o.toString(),top:l,left:c}),y=Ht().toLowerCase();t&&(f=Y_(y)?kS:t),Q_(y)&&(e=e||xS,m.scrollbars="yes");const v=Object.entries(m).reduce((A,[F,U])=>`${A}${F}=${U},`,"");if(hI(y)&&f!=="_self")return bS(e||"",f),new hy(null);const T=window.open(e||"",f,v);Ie(T,n,"popup-blocked");try{T.focus()}catch{}return new hy(T)}function bS(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="__/auth/handler",OS="emulator/auth/handler",LS=encodeURIComponent("fac");async function dy(n,e,t,i,o,l){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:xo,eventId:o};if(e instanceof Uf){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",VT(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof al){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await n._getAppCheckToken(),y=m?`#${LS}=${encodeURIComponent(m)}`:"";return`${VS(n)}?${sl(f).slice(1)}${y}`}function VS({config:n}){return n.emulator?Of(n,OS):`https://${n.authDomain}/${DS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="webStorageSupport";class MS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cv,this._completeRedirectFn=aS,this._overrideRedirectResult=iS}async _openPopup(e,t,i,o){var l;Fr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await dy(e,t,i,ef(),o);return NS(e,c,jf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await dy(e,t,i,ef(),o);return jI(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Fr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await AS(e),i=new uS(e);return t.register("authEvent",o=>(Ie(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ld,{type:Ld},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Ld];c!==void 0&&t(!!c),cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=pS(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nv()||X_()||Mf()}}const FS=MS;var fy="@firebase/auth",py="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zS(n){Eo(new fs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Ie(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rv(n)},y=new yI(i,o,l,m);return II(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Eo(new fs("auth-internal",e=>{const t=Rc(e.getProvider("auth").getImmediate());return(i=>new US(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wi(fy,py,jS(n)),wi(fy,py,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=5*60,$S=O_("authIdTokenMaxAge")||BS;let my=null;const qS=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>$S)return;const o=t==null?void 0:t.token;my!==o&&(my=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function HS(n=F_()){const e=xf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=TI(n,{popupRedirectResolver:FS,persistence:[QI,MI,cv]}),i=O_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=qS(l.toString());bI(t,c,()=>c(t.currentUser)),NI(t,f=>c(f))}}const o=b_("auth");return o&&SI(t,`http://${o}`),t}function WS(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}_I({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=Hn("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",WS().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zS("Browser");var KS="firebase",GS="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi(KS,GS,"app");const QS={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},XS=M_(QS),Bf=HS(XS),YS=new xr,JS=()=>{const[n,e]=ge.useState(null),t=async()=>{try{const i=await eS(Bf,YS);console.log("Logged in as:",i.user.displayName),e(null)}catch(i){i instanceof Error?e(i.message):e("An unexpected error occurred. Please try again.")}};return H.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:[H.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Login"}),H.jsx("button",{onClick:t,className:"px-6 py-3 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 transition duration-200",children:"Login with Google"}),n&&H.jsx("p",{className:"text-red-600 mt-4",children:n})]})};var _v={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gy=Ue.createContext&&Ue.createContext(_v),ZS=["attr","size","title"];function eA(n,e){if(n==null)return{};var t=tA(n,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function tA(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function lc(){return lc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},lc.apply(this,arguments)}function yy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function uc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yy(Object(t),!0).forEach(function(i){nA(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yy(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function nA(n,e,t){return e=rA(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rA(n){var e=iA(n,"string");return typeof e=="symbol"?e:e+""}function iA(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function vv(n){return n&&n.map((e,t)=>Ue.createElement(e.tag,uc({key:t},e.attr),vv(e.child)))}function $f(n){return e=>Ue.createElement(sA,lc({attr:uc({},n.attr)},e),vv(n.child))}function sA(n){var e=t=>{var{attr:i,size:o,title:l}=n,c=eA(n,ZS),f=o||t.size||"1em",m;return t.className&&(m=t.className),n.className&&(m=(m?m+" ":"")+n.className),Ue.createElement("svg",lc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:m,style:uc(uc({color:n.color||t.color},t.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Ue.createElement("title",null,l),n.children)};return gy!==void 0?Ue.createElement(gy.Consumer,null,t=>e(t)):e(_v)}function oA(n){return $f({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function aA(n){return $f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M488 64h-8v20c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12V64H96v20c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12V64h-8C10.7 64 0 74.7 0 88v336c0 13.3 10.7 24 24 24h8v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h320v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h8c13.3 0 24-10.7 24-24V88c0-13.3-10.7-24-24-24zM96 372c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm272 208c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm0-168c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm112 152c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40z"},child:[]}]})(n)}function lA(n){return $f({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M592 0H48A48 48 0 0 0 0 48v320a48 48 0 0 0 48 48h240v32H112a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H352v-32h240a48 48 0 0 0 48-48V48a48 48 0 0 0-48-48zm-16 352H64V64h512z"},child:[]}]})(n)}const uA="https://image.tmdb.org/t/p/w200",La=({media:n,type:e,actionLabel:t="Add to List",actionBtnColor:i="bg-green-600",actionBtnHoverColor:o="hover:bg-green-700",onActionClick:l})=>{var c,f;return console.log(n),H.jsxs("div",{className:"relative border rounded-lg shadow-md overflow-hidden mb-6 p-4",children:[H.jsxs("div",{className:"flex",children:[H.jsx("img",{src:n.poster_path?`${uA}${n.poster_path}`:"https://via.placeholder.com/200x300?text=No+Image",alt:e==="movie"?n.title:n.name,className:"w-32 h-48 object-cover border rounded-md flex-shrink-0 mr-4"}),H.jsxs("div",{className:"flex flex-col flex-1",children:[H.jsx("h3",{className:"text-lg font-bold",children:e==="movie"?n.title:n.name}),H.jsx("p",{className:"text-gray-600 font-semibold",children:((c=e==="movie"?n.release_date:n.first_air_date)==null?void 0:c.slice(0,4))||"Unknown"}),H.jsxs("p",{children:[H.jsx("span",{className:"text-yellow-500",children:"★"})," ",H.jsx("span",{className:"text-sm",children:(f=n.vote_average)==null?void 0:f.toFixed(1)})]})]})]}),H.jsxs("span",{className:`absolute bottom-16 right-4 flex gap-1 min-w-20 text-xs font-medium px-2 py-1 items-center justify-center rounded-full ${e==="movie"?"bg-red-400":"bg-blue-400"}`,children:[e==="movie"&&H.jsxs(H.Fragment,{children:[H.jsx(aA,{size:16}),"Movie"]}),e==="tv"&&H.jsxs(H.Fragment,{children:[H.jsx(lA,{size:16}),"TV"]})]}),(!n.owner||n.owner=="self")&&H.jsx("button",{onClick:l,className:`w-full mt-4 px-4 py-2 ${i} text-white rounded-lg ${o} focus:outline-none`,children:t})]})};var _y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cs,wv;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,I){function R(){}R.prototype=I.prototype,P.D=I.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(x,b,O){for(var C=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)C[tt-2]=arguments[tt];return I.prototype[b].apply(x,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,I,R){R||(R=0);var x=Array(16);if(typeof I=="string")for(var b=0;16>b;++b)x[b]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(b=0;16>b;++b)x[b]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=P.g[0],R=P.g[1],b=P.g[2];var O=P.g[3],C=I+(O^R&(b^O))+x[0]+3614090360&4294967295;I=R+(C<<7&4294967295|C>>>25),C=O+(b^I&(R^b))+x[1]+3905402710&4294967295,O=I+(C<<12&4294967295|C>>>20),C=b+(R^O&(I^R))+x[2]+606105819&4294967295,b=O+(C<<17&4294967295|C>>>15),C=R+(I^b&(O^I))+x[3]+3250441966&4294967295,R=b+(C<<22&4294967295|C>>>10),C=I+(O^R&(b^O))+x[4]+4118548399&4294967295,I=R+(C<<7&4294967295|C>>>25),C=O+(b^I&(R^b))+x[5]+1200080426&4294967295,O=I+(C<<12&4294967295|C>>>20),C=b+(R^O&(I^R))+x[6]+2821735955&4294967295,b=O+(C<<17&4294967295|C>>>15),C=R+(I^b&(O^I))+x[7]+4249261313&4294967295,R=b+(C<<22&4294967295|C>>>10),C=I+(O^R&(b^O))+x[8]+1770035416&4294967295,I=R+(C<<7&4294967295|C>>>25),C=O+(b^I&(R^b))+x[9]+2336552879&4294967295,O=I+(C<<12&4294967295|C>>>20),C=b+(R^O&(I^R))+x[10]+4294925233&4294967295,b=O+(C<<17&4294967295|C>>>15),C=R+(I^b&(O^I))+x[11]+2304563134&4294967295,R=b+(C<<22&4294967295|C>>>10),C=I+(O^R&(b^O))+x[12]+1804603682&4294967295,I=R+(C<<7&4294967295|C>>>25),C=O+(b^I&(R^b))+x[13]+4254626195&4294967295,O=I+(C<<12&4294967295|C>>>20),C=b+(R^O&(I^R))+x[14]+2792965006&4294967295,b=O+(C<<17&4294967295|C>>>15),C=R+(I^b&(O^I))+x[15]+1236535329&4294967295,R=b+(C<<22&4294967295|C>>>10),C=I+(b^O&(R^b))+x[1]+4129170786&4294967295,I=R+(C<<5&4294967295|C>>>27),C=O+(R^b&(I^R))+x[6]+3225465664&4294967295,O=I+(C<<9&4294967295|C>>>23),C=b+(I^R&(O^I))+x[11]+643717713&4294967295,b=O+(C<<14&4294967295|C>>>18),C=R+(O^I&(b^O))+x[0]+3921069994&4294967295,R=b+(C<<20&4294967295|C>>>12),C=I+(b^O&(R^b))+x[5]+3593408605&4294967295,I=R+(C<<5&4294967295|C>>>27),C=O+(R^b&(I^R))+x[10]+38016083&4294967295,O=I+(C<<9&4294967295|C>>>23),C=b+(I^R&(O^I))+x[15]+3634488961&4294967295,b=O+(C<<14&4294967295|C>>>18),C=R+(O^I&(b^O))+x[4]+3889429448&4294967295,R=b+(C<<20&4294967295|C>>>12),C=I+(b^O&(R^b))+x[9]+568446438&4294967295,I=R+(C<<5&4294967295|C>>>27),C=O+(R^b&(I^R))+x[14]+3275163606&4294967295,O=I+(C<<9&4294967295|C>>>23),C=b+(I^R&(O^I))+x[3]+4107603335&4294967295,b=O+(C<<14&4294967295|C>>>18),C=R+(O^I&(b^O))+x[8]+1163531501&4294967295,R=b+(C<<20&4294967295|C>>>12),C=I+(b^O&(R^b))+x[13]+2850285829&4294967295,I=R+(C<<5&4294967295|C>>>27),C=O+(R^b&(I^R))+x[2]+4243563512&4294967295,O=I+(C<<9&4294967295|C>>>23),C=b+(I^R&(O^I))+x[7]+1735328473&4294967295,b=O+(C<<14&4294967295|C>>>18),C=R+(O^I&(b^O))+x[12]+2368359562&4294967295,R=b+(C<<20&4294967295|C>>>12),C=I+(R^b^O)+x[5]+4294588738&4294967295,I=R+(C<<4&4294967295|C>>>28),C=O+(I^R^b)+x[8]+2272392833&4294967295,O=I+(C<<11&4294967295|C>>>21),C=b+(O^I^R)+x[11]+1839030562&4294967295,b=O+(C<<16&4294967295|C>>>16),C=R+(b^O^I)+x[14]+4259657740&4294967295,R=b+(C<<23&4294967295|C>>>9),C=I+(R^b^O)+x[1]+2763975236&4294967295,I=R+(C<<4&4294967295|C>>>28),C=O+(I^R^b)+x[4]+1272893353&4294967295,O=I+(C<<11&4294967295|C>>>21),C=b+(O^I^R)+x[7]+4139469664&4294967295,b=O+(C<<16&4294967295|C>>>16),C=R+(b^O^I)+x[10]+3200236656&4294967295,R=b+(C<<23&4294967295|C>>>9),C=I+(R^b^O)+x[13]+681279174&4294967295,I=R+(C<<4&4294967295|C>>>28),C=O+(I^R^b)+x[0]+3936430074&4294967295,O=I+(C<<11&4294967295|C>>>21),C=b+(O^I^R)+x[3]+3572445317&4294967295,b=O+(C<<16&4294967295|C>>>16),C=R+(b^O^I)+x[6]+76029189&4294967295,R=b+(C<<23&4294967295|C>>>9),C=I+(R^b^O)+x[9]+3654602809&4294967295,I=R+(C<<4&4294967295|C>>>28),C=O+(I^R^b)+x[12]+3873151461&4294967295,O=I+(C<<11&4294967295|C>>>21),C=b+(O^I^R)+x[15]+530742520&4294967295,b=O+(C<<16&4294967295|C>>>16),C=R+(b^O^I)+x[2]+3299628645&4294967295,R=b+(C<<23&4294967295|C>>>9),C=I+(b^(R|~O))+x[0]+4096336452&4294967295,I=R+(C<<6&4294967295|C>>>26),C=O+(R^(I|~b))+x[7]+1126891415&4294967295,O=I+(C<<10&4294967295|C>>>22),C=b+(I^(O|~R))+x[14]+2878612391&4294967295,b=O+(C<<15&4294967295|C>>>17),C=R+(O^(b|~I))+x[5]+4237533241&4294967295,R=b+(C<<21&4294967295|C>>>11),C=I+(b^(R|~O))+x[12]+1700485571&4294967295,I=R+(C<<6&4294967295|C>>>26),C=O+(R^(I|~b))+x[3]+2399980690&4294967295,O=I+(C<<10&4294967295|C>>>22),C=b+(I^(O|~R))+x[10]+4293915773&4294967295,b=O+(C<<15&4294967295|C>>>17),C=R+(O^(b|~I))+x[1]+2240044497&4294967295,R=b+(C<<21&4294967295|C>>>11),C=I+(b^(R|~O))+x[8]+1873313359&4294967295,I=R+(C<<6&4294967295|C>>>26),C=O+(R^(I|~b))+x[15]+4264355552&4294967295,O=I+(C<<10&4294967295|C>>>22),C=b+(I^(O|~R))+x[6]+2734768916&4294967295,b=O+(C<<15&4294967295|C>>>17),C=R+(O^(b|~I))+x[13]+1309151649&4294967295,R=b+(C<<21&4294967295|C>>>11),C=I+(b^(R|~O))+x[4]+4149444226&4294967295,I=R+(C<<6&4294967295|C>>>26),C=O+(R^(I|~b))+x[11]+3174756917&4294967295,O=I+(C<<10&4294967295|C>>>22),C=b+(I^(O|~R))+x[2]+718787259&4294967295,b=O+(C<<15&4294967295|C>>>17),C=R+(O^(b|~I))+x[9]+3951481745&4294967295,P.g[0]=P.g[0]+I&4294967295,P.g[1]=P.g[1]+(b+(C<<21&4294967295|C>>>11))&4294967295,P.g[2]=P.g[2]+b&4294967295,P.g[3]=P.g[3]+O&4294967295}i.prototype.u=function(P,I){I===void 0&&(I=P.length);for(var R=I-this.blockSize,x=this.B,b=this.h,O=0;O<I;){if(b==0)for(;O<=R;)o(this,P,O),O+=this.blockSize;if(typeof P=="string"){for(;O<I;)if(x[b++]=P.charCodeAt(O++),b==this.blockSize){o(this,x),b=0;break}}else for(;O<I;)if(x[b++]=P[O++],b==this.blockSize){o(this,x),b=0;break}}this.h=b,this.o+=I},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var I=1;I<P.length-8;++I)P[I]=0;var R=8*this.o;for(I=P.length-8;I<P.length;++I)P[I]=R&255,R/=256;for(this.u(P),P=Array(16),I=R=0;4>I;++I)for(var x=0;32>x;x+=8)P[R++]=this.g[I]>>>x&255;return P};function l(P,I){var R=f;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=I(P)}function c(P,I){this.h=I;for(var R=[],x=!0,b=P.length-1;0<=b;b--){var O=P[b]|0;x&&O==I||(R[b]=O,x=!1)}this.g=R}var f={};function m(P){return-128<=P&&128>P?l(P,function(I){return new c([I|0],0>I?-1:0)}):new c([P|0],0>P?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return T;if(0>P)return D(y(-P));for(var I=[],R=1,x=0;P>=R;x++)I[x]=P/R|0,R*=4294967296;return new c(I,0)}function v(P,I){if(P.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P.charAt(0)=="-")return D(v(P.substring(1),I));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(I,8)),x=T,b=0;b<P.length;b+=8){var O=Math.min(8,P.length-b),C=parseInt(P.substring(b,b+O),I);8>O?(O=y(Math.pow(I,O)),x=x.j(O).add(y(C))):(x=x.j(R),x=x.add(y(C)))}return x}var T=m(0),A=m(1),F=m(16777216);n=c.prototype,n.m=function(){if(z(this))return-D(this).m();for(var P=0,I=1,R=0;R<this.g.length;R++){var x=this.i(R);P+=(0<=x?x:4294967296+x)*I,I*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(U(this))return"0";if(z(this))return"-"+D(this).toString(P);for(var I=y(Math.pow(P,6)),R=this,x="";;){var b=ne(R,I).g;R=ee(R,b.j(I));var O=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=b,U(R))return O+x;for(;6>O.length;)O="0"+O;x=O+x}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function U(P){if(P.h!=0)return!1;for(var I=0;I<P.g.length;I++)if(P.g[I]!=0)return!1;return!0}function z(P){return P.h==-1}n.l=function(P){return P=ee(this,P),z(P)?-1:U(P)?0:1};function D(P){for(var I=P.g.length,R=[],x=0;x<I;x++)R[x]=~P.g[x];return new c(R,~P.h).add(A)}n.abs=function(){return z(this)?D(this):this},n.add=function(P){for(var I=Math.max(this.g.length,P.g.length),R=[],x=0,b=0;b<=I;b++){var O=x+(this.i(b)&65535)+(P.i(b)&65535),C=(O>>>16)+(this.i(b)>>>16)+(P.i(b)>>>16);x=C>>>16,O&=65535,C&=65535,R[b]=C<<16|O}return new c(R,R[R.length-1]&-2147483648?-1:0)};function ee(P,I){return P.add(D(I))}n.j=function(P){if(U(this)||U(P))return T;if(z(this))return z(P)?D(this).j(D(P)):D(D(this).j(P));if(z(P))return D(this.j(D(P)));if(0>this.l(F)&&0>P.l(F))return y(this.m()*P.m());for(var I=this.g.length+P.g.length,R=[],x=0;x<2*I;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var b=0;b<P.g.length;b++){var O=this.i(x)>>>16,C=this.i(x)&65535,tt=P.i(b)>>>16,pt=P.i(b)&65535;R[2*x+2*b]+=C*pt,W(R,2*x+2*b),R[2*x+2*b+1]+=O*pt,W(R,2*x+2*b+1),R[2*x+2*b+1]+=C*tt,W(R,2*x+2*b+1),R[2*x+2*b+2]+=O*tt,W(R,2*x+2*b+2)}for(x=0;x<I;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=I;x<2*I;x++)R[x]=0;return new c(R,0)};function W(P,I){for(;(P[I]&65535)!=P[I];)P[I+1]+=P[I]>>>16,P[I]&=65535,I++}function X(P,I){this.g=P,this.h=I}function ne(P,I){if(U(I))throw Error("division by zero");if(U(P))return new X(T,T);if(z(P))return I=ne(D(P),I),new X(D(I.g),D(I.h));if(z(I))return I=ne(P,D(I)),new X(D(I.g),I.h);if(30<P.g.length){if(z(P)||z(I))throw Error("slowDivide_ only works with positive integers.");for(var R=A,x=I;0>=x.l(P);)R=pe(R),x=pe(x);var b=de(R,1),O=de(x,1);for(x=de(x,2),R=de(R,2);!U(x);){var C=O.add(x);0>=C.l(P)&&(b=b.add(R),O=C),x=de(x,1),R=de(R,1)}return I=ee(P,b.j(I)),new X(b,I)}for(b=T;0<=P.l(I);){for(R=Math.max(1,Math.floor(P.m()/I.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),O=y(R),C=O.j(I);z(C)||0<C.l(P);)R-=x,O=y(R),C=O.j(I);U(O)&&(O=A),b=b.add(O),P=ee(P,C)}return new X(b,P)}n.A=function(P){return ne(this,P).h},n.and=function(P){for(var I=Math.max(this.g.length,P.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)&P.i(x);return new c(R,this.h&P.h)},n.or=function(P){for(var I=Math.max(this.g.length,P.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)|P.i(x);return new c(R,this.h|P.h)},n.xor=function(P){for(var I=Math.max(this.g.length,P.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)^P.i(x);return new c(R,this.h^P.h)};function pe(P){for(var I=P.g.length+1,R=[],x=0;x<I;x++)R[x]=P.i(x)<<1|P.i(x-1)>>>31;return new c(R,P.h)}function de(P,I){var R=I>>5;I%=32;for(var x=P.g.length-R,b=[],O=0;O<x;O++)b[O]=0<I?P.i(O+R)>>>I|P.i(O+R+1)<<32-I:P.i(O+R);return new c(b,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,wv=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=v,cs=c}).apply(typeof _y<"u"?_y:typeof self<"u"?self:typeof window<"u"?window:{});var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ev,Va,Tv,Hu,rf,Iv,Sv,Av;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,_){return u==Array.prototype||u==Object.prototype||(u[p]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vu=="object"&&Vu];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,p){if(p)e:{var _=i;u=u.split(".");for(var E=0;E<u.length-1;E++){var V=u[E];if(!(V in _))break e;_=_[V]}u=u[u.length-1],E=_[u],p=p(E),p!=E&&p!=null&&e(_,u,{configurable:!0,writable:!0,value:p})}}function l(u,p){u instanceof String&&(u+="");var _=0,E=!1,V={next:function(){if(!E&&_<u.length){var $=_++;return{value:p($,u[$]),done:!1}}return E=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}o("Array.prototype.values",function(u){return u||function(){return l(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function y(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function v(u,p,_){return u.call.apply(u.bind,arguments)}function T(u,p,_){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,E),u.apply(p,V)}}return function(){return u.apply(p,arguments)}}function A(u,p,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,A.apply(null,arguments)}function F(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var E=_.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function U(u,p){function _(){}_.prototype=p.prototype,u.aa=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(E,V,$){for(var ie=Array(arguments.length-2),He=2;He<arguments.length;He++)ie[He-2]=arguments[He];return p.prototype[V].apply(E,ie)}}function z(u){const p=u.length;if(0<p){const _=Array(p);for(let E=0;E<p;E++)_[E]=u[E];return _}return[]}function D(u,p){for(let _=1;_<arguments.length;_++){const E=arguments[_];if(m(E)){const V=u.length||0,$=E.length||0;u.length=V+$;for(let ie=0;ie<$;ie++)u[V+ie]=E[ie]}else u.push(E)}}class ee{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function W(u){return/^[\s\xa0]*$/.test(u)}function X(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ne(u){return ne[" "](u),u}ne[" "]=function(){};var pe=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function de(u,p,_){for(const E in u)p.call(_,u[E],E,u)}function P(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function I(u){const p={};for(const _ in u)p[_]=u[_];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,p){let _,E;for(let V=1;V<arguments.length;V++){E=arguments[V];for(_ in E)u[_]=E[_];for(let $=0;$<R.length;$++)_=R[$],Object.prototype.hasOwnProperty.call(E,_)&&(u[_]=E[_])}}function b(u){var p=1;u=u.split(":");const _=[];for(;0<p&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function O(u){f.setTimeout(()=>{throw u},0)}function C(){var u=_e;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class tt{constructor(){this.h=this.g=null}add(p,_){const E=pt.get();E.set(p,_),this.h?this.h.next=E:this.g=E,this.h=E}}var pt=new ee(()=>new mt,u=>u.reset());class mt{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let je,re=!1,_e=new tt,oe=()=>{const u=f.Promise.resolve(void 0);je=()=>{u.then(L)}};var L=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){O(_)}var p=pt;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}re=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};f.addEventListener("test",_,p),f.removeEventListener("test",_,p)}catch{}return u}();function ke(u,p){if(me.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(pe){e:{try{ne(p.nodeName);var V=!0;break e}catch{}V=!1}V||(p=null)}}else _=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement);this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Le[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ke.aa.h.call(this)}}U(ke,me);var Le={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),$e=0;function Ke(u,p,_,E,V){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!E,this.ha=V,this.key=++$e,this.da=this.fa=!1}function It(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function dr(u){this.src=u,this.g={},this.h=0}dr.prototype.add=function(u,p,_,E,V){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var ie=Br(u,p,E,V);return-1<ie?(p=u[ie],_||(p.fa=!1)):(p=new Ke(p,this.src,$,!!E,V),p.fa=_,u.push(p)),p};function ws(u,p){var _=p.type;if(_ in u.g){var E=u.g[_],V=Array.prototype.indexOf.call(E,p,void 0),$;($=0<=V)&&Array.prototype.splice.call(E,V,1),$&&(It(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Br(u,p,_,E){for(var V=0;V<u.length;++V){var $=u[V];if(!$.da&&$.listener==p&&$.capture==!!_&&$.ha==E)return V}return-1}var xi="closure_lm_"+(1e6*Math.random()|0),Es={};function Uo(u,p,_,E,V){if(Array.isArray(p)){for(var $=0;$<p.length;$++)Uo(u,p[$],_,E,V);return null}return _=Bo(_),u&&u[Be]?u.K(p,_,y(E)?!!E.capture:!!E,V):jo(u,p,_,!1,E,V)}function jo(u,p,_,E,V,$){if(!p)throw Error("Invalid event type");var ie=y(V)?!!V.capture:!!V,He=Is(u);if(He||(u[xi]=He=new dr(u)),_=He.add(p,_,E,ie,$),_.proxy)return _;if(E=vl(),_.proxy=E,E.src=u,E.listener=_,u.addEventListener)Pe||(V=ie),V===void 0&&(V=!1),u.addEventListener(p.toString(),E,V);else if(u.attachEvent)u.attachEvent(pr(p.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return _}function vl(){function u(_){return p.call(u.src,u.listener,_)}const p=zo;return u}function Ts(u,p,_,E,V){if(Array.isArray(p))for(var $=0;$<p.length;$++)Ts(u,p[$],_,E,V);else E=y(E)?!!E.capture:!!E,_=Bo(_),u&&u[Be]?(u=u.i,p=String(p).toString(),p in u.g&&($=u.g[p],_=Br($,_,E,V),-1<_&&(It($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete u.g[p],u.h--)))):u&&(u=Is(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Br(p,_,E,V)),(_=-1<u?p[u]:null)&&fr(_))}function fr(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Be])ws(p.i,u);else{var _=u.type,E=u.proxy;p.removeEventListener?p.removeEventListener(_,E,u.capture):p.detachEvent?p.detachEvent(pr(_),E):p.addListener&&p.removeListener&&p.removeListener(E),(_=Is(p))?(ws(_,u),_.h==0&&(_.src=null,p[xi]=null)):It(u)}}}function pr(u){return u in Es?Es[u]:Es[u]="on"+u}function zo(u,p){if(u.da)u=!0;else{p=new ke(p,this);var _=u.listener,E=u.ha||u.src;u.fa&&fr(u),u=_.call(E,p)}return u}function Is(u){return u=u[xi],u instanceof dr?u:null}var Ss="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bo(u){return typeof u=="function"?u:(u[Ss]||(u[Ss]=function(p){return u.handleEvent(p)}),u[Ss])}function gt(){Q.call(this),this.i=new dr(this),this.M=this,this.F=null}U(gt,Q),gt.prototype[Be]=!0,gt.prototype.removeEventListener=function(u,p,_,E){Ts(this,u,p,_,E)};function yt(u,p){var _,E=u.F;if(E)for(_=[];E;E=E.F)_.push(E);if(u=u.M,E=p.type||p,typeof p=="string")p=new me(p,u);else if(p instanceof me)p.target=p.target||u;else{var V=p;p=new me(E,u),x(p,V)}if(V=!0,_)for(var $=_.length-1;0<=$;$--){var ie=p.g=_[$];V=mr(ie,E,!0,p)&&V}if(ie=p.g=u,V=mr(ie,E,!0,p)&&V,V=mr(ie,E,!1,p)&&V,_)for($=0;$<_.length;$++)ie=p.g=_[$],V=mr(ie,E,!1,p)&&V}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var _=u.g[p],E=0;E<_.length;E++)It(_[E]);delete u.g[p],u.h--}}this.F=null},gt.prototype.K=function(u,p,_,E){return this.i.add(String(u),p,!1,_,E)},gt.prototype.L=function(u,p,_,E){return this.i.add(String(u),p,!0,_,E)};function mr(u,p,_,E){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var V=!0,$=0;$<p.length;++$){var ie=p[$];if(ie&&!ie.da&&ie.capture==_){var He=ie.listener,_t=ie.ha||ie.src;ie.fa&&ws(u.i,ie),V=He.call(_t,E)!==!1&&V}}return V&&!E.defaultPrevented}function $o(u,p,_){if(typeof u=="function")_&&(u=A(u,_));else if(u&&typeof u.handleEvent=="function")u=A(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(u,p||0)}function $r(u){u.g=$o(()=>{u.g=null,u.i&&(u.i=!1,$r(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Ni extends Q{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:$r(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bi(u){Q.call(this),this.h=u,this.g={}}U(bi,Q);var qo=[];function Ho(u){de(u.g,function(p,_){this.g.hasOwnProperty(_)&&fr(p)},u),u.g={}}bi.prototype.N=function(){bi.aa.N.call(this),Ho(this)},bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wo=f.JSON.stringify,Ko=f.JSON.parse,Go=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Di(){}Di.prototype.h=null;function As(u){return u.h||(u.h=u.i())}function Rs(){}var vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gn(){me.call(this,"d")}U(Gn,me);function Cs(){me.call(this,"c")}U(Cs,me);var Qn={},Qo=null;function Oi(){return Qo=Qo||new gt}Qn.La="serverreachability";function Xo(u){me.call(this,Qn.La,u)}U(Xo,me);function gr(u){const p=Oi();yt(p,new Xo(p))}Qn.STAT_EVENT="statevent";function Yo(u,p){me.call(this,Qn.STAT_EVENT,u),this.stat=p}U(Yo,me);function at(u){const p=Oi();yt(p,new Yo(p,u))}Qn.Ma="timingevent";function Ps(u,p){me.call(this,Qn.Ma,u),this.size=p}U(Ps,me);function xn(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function Li(){this.g=!0}Li.prototype.xa=function(){this.g=!1};function Vi(u,p,_,E,V,$){u.info(function(){if(u.g)if($)for(var ie="",He=$.split("&"),_t=0;_t<He.length;_t++){var Ve=He[_t].split("=");if(1<Ve.length){var St=Ve[0];Ve=Ve[1];var ct=St.split("_");ie=2<=ct.length&&ct[1]=="type"?ie+(St+"="+Ve+"&"):ie+(St+"=redacted&")}}else ie=null;else ie=$;return"XMLHTTP REQ ("+E+") [attempt "+V+"]: "+p+`
`+_+`
`+ie})}function ks(u,p,_,E,V,$,ie){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+V+"]: "+p+`
`+_+`
`+$+" "+ie})}function Nn(u,p,_,E){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Jc(u,_)+(E?" "+E:"")})}function Jo(u,p){u.info(function(){return"TIMEOUT: "+p})}Li.prototype.info=function(){};function Jc(u,p){if(!u.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var E=_[u];if(!(2>E.length)){var V=E[1];if(Array.isArray(V)&&!(1>V.length)){var $=V[0];if($!="noop"&&$!="stop"&&$!="close")for(var ie=1;ie<V.length;ie++)V[ie]=""}}}}return Wo(_)}catch{return p}}var xs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bn;function Mi(){}U(Mi,Di),Mi.prototype.g=function(){return new XMLHttpRequest},Mi.prototype.i=function(){return{}},bn=new Mi;function Dn(u,p,_,E){this.j=u,this.i=p,this.l=_,this.R=E||1,this.U=new bi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new El}function El(){this.i=null,this.g="",this.h=!1}var Zo={},Ns={};function bs(u,p,_){u.L=1,u.v=Gr(hn(p)),u.m=_,u.P=!0,ea(u,null)}function ea(u,p){u.F=Date.now(),Ge(u),u.A=hn(u.v);var _=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),Xr(_.i,"t",E),u.C=0,_=u.j.J,u.h=new El,u.g=Ul(u.j,_?p:null,!u.m),0<u.O&&(u.M=new Ni(A(u.Y,u,u.g),u.O)),p=u.U,_=u.g,E=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(qo[0]=V.toString()),V=qo);for(var $=0;$<V.length;$++){var ie=Uo(_,V[$],E||p.handleEvent,!1,p.h||p);if(!ie)break;p.g[ie.key]=ie}p=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),gr(),Vi(u.i,u.u,u.A,u.l,u.R,u.m)}Dn.prototype.ca=function(u){u=u.target;const p=this.M;p&&Jt(u)==3?p.j():this.Y(u)},Dn.prototype.Y=function(u){try{if(u==this.g)e:{const ct=Jt(this.g);var p=this.g.Ba();const Tn=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||oa(this.g)))){this.J||ct!=4||p==7||(p==8||0>=Tn?gr(3):gr(2)),Fi(this);var _=this.g.Z();this.X=_;t:if(Tl(this)){var E=oa(this.g);u="";var V=E.length,$=Jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),qr(this);var ie="";break t}this.h.i=new f.TextDecoder}for(p=0;p<V;p++)this.h.h=!0,u+=this.h.i.decode(E[p],{stream:!($&&p==V-1)});E.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,ks(this.i,this.u,this.A,this.l,this.R,ct,_),this.o){if(this.T&&!this.K){t:{if(this.g){var He,_t=this.g;if((He=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(He)){var Ve=He;break t}}Ve=null}if(_=Ve)Nn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ta(this,_);else{this.o=!1,this.s=3,at(12),wn(this),qr(this);break e}}if(this.P){_=!0;let fn;for(;!this.J&&this.C<ie.length;)if(fn=Zc(this,ie),fn==Ns){ct==4&&(this.s=4,at(14),_=!1),Nn(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==Zo){this.s=4,at(15),Nn(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else Nn(this.i,this.l,fn,null),ta(this,fn);if(Tl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||ie.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)Nn(this.i,this.l,ie,"[Invalid Chunked Response]"),wn(this),qr(this);else if(0<ie.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),la(St),St.M=!0,at(11))}}else Nn(this.i,this.l,ie,null),ta(this,ie);ct==4&&wn(this),this.o&&!this.J&&(ct==4?$s(this.j,this):(this.o=!1,Ge(this)))}else Fs(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),wn(this),qr(this)}}}catch{}finally{}};function Tl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Zc(u,p){var _=u.C,E=p.indexOf(`
`,_);return E==-1?Ns:(_=Number(p.substring(_,E)),isNaN(_)?Zo:(E+=1,E+_>p.length?Ns:(p=p.slice(E,E+_),u.C=E+_,p)))}Dn.prototype.cancel=function(){this.J=!0,wn(this)};function Ge(u){u.S=Date.now()+u.I,Il(u,u.I)}function Il(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=xn(A(u.ba,u),p)}function Fi(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Dn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Jo(this.i,this.A),this.L!=2&&(gr(),at(17)),wn(this),this.s=2,qr(this)):Il(this,this.S-u)};function qr(u){u.j.G==0||u.J||$s(u.j,u)}function wn(u){Fi(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Ho(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function ta(u,p){try{var _=u.j;if(_.G!=0&&(_.g==u||Wt(_.h,u))){if(!u.K&&Wt(_.h,u)&&_.G==3){try{var E=_.Da.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var V=E;if(V[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Bs(_),Fn(_);else break e;zs(_),at(18)}}else _.za=V[1],0<_.za-_.T&&37500>V[2]&&_.F&&_.v==0&&!_.C&&(_.C=xn(A(_.Za,_),6e3));if(1>=Al(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Er(_,11)}else if((u.K||_.g==u)&&Bs(_),!W(p))for(V=_.Da.g.parse(p),p=0;p<V.length;p++){let Ve=V[p];if(_.T=Ve[0],Ve=Ve[1],_.G==2)if(Ve[0]=="c"){_.K=Ve[1],_.ia=Ve[2];const St=Ve[3];St!=null&&(_.la=St,_.j.info("VER="+_.la));const ct=Ve[4];ct!=null&&(_.Aa=ct,_.j.info("SVER="+_.Aa));const Tn=Ve[5];Tn!=null&&typeof Tn=="number"&&0<Tn&&(E=1.5*Tn,_.L=E,_.j.info("backChannelRequestTimeoutMs_="+E)),E=_;const fn=u.g;if(fn){const Hi=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hi){var $=E.h;$.g||Hi.indexOf("spdy")==-1&&Hi.indexOf("quic")==-1&&Hi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(na($,$.h),$.h=null))}if(E.D){const Hs=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Hs&&(E.ya=Hs,We(E.I,E.D,Hs))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),E=_;var ie=u;if(E.qa=Fl(E,E.J?E.ia:null,E.W),ie.K){Rl(E.h,ie);var He=ie,_t=E.L;_t&&(He.I=_t),He.B&&(Fi(He),Ge(He)),E.g=ie}else qi(E);0<_.i.length&&Zn(_)}else Ve[0]!="stop"&&Ve[0]!="close"||Er(_,7);else _.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Er(_,7):Nt(_):Ve[0]!="noop"&&_.l&&_.l.ta(Ve),_.v=0)}}gr(4)}catch{}}var Sl=class{constructor(u,p){this.g=u,this.map=p}};function Ui(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Al(u){return u.h?1:u.g?u.g.size:0}function Wt(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function na(u,p){u.g?u.g.add(p):u.h=p}function Rl(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Ui.prototype.cancel=function(){if(this.i=Cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Cl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.D);return p}return z(u.i)}function Ds(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(m(u)){for(var p=[],_=u.length,E=0;E<_;E++)p.push(u[E]);return p}p=[],_=0;for(E in u)p[_++]=u[E];return p}function Os(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(m(u)||typeof u=="string"){var p=[];u=u.length;for(var _=0;_<u;_++)p.push(_);return p}p=[],_=0;for(const E in u)p[_++]=E;return p}}}function Hr(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(m(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var _=Os(u),E=Ds(u),V=E.length,$=0;$<V;$++)p.call(void 0,E[$],_&&_[$],u)}var ji=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eh(u,p){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var E=u[_].indexOf("="),V=null;if(0<=E){var $=u[_].substring(0,E);V=u[_].substring(E+1)}else $=u[_];p($,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function yr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof yr){this.h=u.h,zi(this,u.j),this.o=u.o,this.g=u.g,Wr(this,u.s),this.l=u.l;var p=u.i,_=new Xn;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Kr(this,_),this.m=u.m}else u&&(p=String(u).match(ji))?(this.h=!1,zi(this,p[1]||"",!0),this.o=De(p[2]||""),this.g=De(p[3]||"",!0),Wr(this,p[4]),this.l=De(p[5]||"",!0),Kr(this,p[6]||"",!0),this.m=De(p[7]||"")):(this.h=!1,this.i=new Xn(null,this.h))}yr.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Qr(p,Ls,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Qr(p,Ls,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Qr(_,_.charAt(0)=="/"?xl:kl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Qr(_,ra)),u.join("")};function hn(u){return new yr(u)}function zi(u,p,_){u.j=_?De(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Wr(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Kr(u,p,_){p instanceof Xn?(u.i=p,Yn(u.i,u.h)):(_||(p=Qr(p,Nl)),u.i=new Xn(p,u.h))}function We(u,p,_){u.i.set(p,_)}function Gr(u){return We(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function De(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Qr(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,Pl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Pl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ls=/[#\/\?@]/g,kl=/[#\?:]/g,xl=/[#\?]/g,Nl=/[#\?@]/g,ra=/#/g;function Xn(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function xt(u){u.g||(u.g=new Map,u.h=0,u.i&&eh(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}n=Xn.prototype,n.add=function(u,p){xt(this),this.i=null,u=En(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function On(u,p){xt(u),p=En(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Ln(u,p){return xt(u),p=En(u,p),u.g.has(p)}n.forEach=function(u,p){xt(this),this.g.forEach(function(_,E){_.forEach(function(V){u.call(p,V,E,this)},this)},this)},n.na=function(){xt(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let E=0;E<p.length;E++){const V=u[E];for(let $=0;$<V.length;$++)_.push(p[E])}return _},n.V=function(u){xt(this);let p=[];if(typeof u=="string")Ln(this,u)&&(p=p.concat(this.g.get(En(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)p=p.concat(u[_])}return p},n.set=function(u,p){return xt(this),this.i=null,u=En(this,u),Ln(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},n.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Xr(u,p,_){On(u,p),0<_.length&&(u.i=null,u.g.set(En(u,p),z(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var E=p[_];const $=encodeURIComponent(String(E)),ie=this.V(E);for(E=0;E<ie.length;E++){var V=$;ie[E]!==""&&(V+="="+encodeURIComponent(String(ie[E]))),u.push(V)}}return this.i=u.join("&")};function En(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Yn(u,p){p&&!u.j&&(xt(u),u.i=null,u.g.forEach(function(_,E){var V=E.toLowerCase();E!=V&&(On(this,E),Xr(this,V,_))},u)),u.j=p}function th(u,p){const _=new Li;if(f.Image){const E=new Image;E.onload=F(Yt,_,"TestLoadImage: loaded",!0,p,E),E.onerror=F(Yt,_,"TestLoadImage: error",!1,p,E),E.onabort=F(Yt,_,"TestLoadImage: abort",!1,p,E),E.ontimeout=F(Yt,_,"TestLoadImage: timeout",!1,p,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else p(!1)}function bl(u,p){const _=new Li,E=new AbortController,V=setTimeout(()=>{E.abort(),Yt(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:E.signal}).then($=>{clearTimeout(V),$.ok?Yt(_,"TestPingServer: ok",!0,p):Yt(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),Yt(_,"TestPingServer: error",!1,p)})}function Yt(u,p,_,E,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),E(_)}catch{}}function nh(){this.g=new Go}function Dl(u,p,_){const E=_||"";try{Hr(u,function(V,$){let ie=V;y(V)&&(ie=Wo(V)),p.push(E+$+"="+encodeURIComponent(ie))})}catch(V){throw p.push(E+"type="+encodeURIComponent("_badmap")),V}}function _r(u){this.l=u.Ub||null,this.j=u.eb||!1}U(_r,Di),_r.prototype.g=function(){return new Bi(this.l,this.j)},_r.prototype.i=function(u){return function(){return u}}({});function Bi(u,p){gt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Bi,gt),n=Bi.prototype,n.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Mn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Mn(this)),this.g&&(this.readyState=3,Mn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ol(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ol(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Vn(this):Mn(this),this.readyState==3&&Ol(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Vn(this))},n.Qa=function(u){this.g&&(this.response=u,Vn(this))},n.ga=function(){this.g&&Vn(this)};function Vn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Mn(u)}n.setRequestHeader=function(u,p){this.u.append(u,p)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function Mn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function vr(u){let p="";return de(u,function(_,E){p+=E,p+=":",p+=_,p+=`\r
`}),p}function Yr(u,p,_){e:{for(E in _){var E=!1;break e}E=!0}E||(_=vr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):We(u,p,_))}function Ze(u){gt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Ze,gt);var rh=/^https?$/i,ia=["POST","PUT"];n=Ze.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,p,_,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bn.g(),this.v=this.o?As(this.o):As(bn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch($){$i(this,$);return}if(u=_||"",_=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var V in E)_.set(V,E[V]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const $ of E.keys())_.set($,E.get($));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),V=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ia,p,void 0))||E||V||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ie]of _)this.g.setRequestHeader($,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ms(this),this.u=!0,this.g.send(u),this.u=!1}catch($){$i(this,$)}};function $i(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Vs(u),dn(u)}function Vs(u){u.A||(u.A=!0,yt(u,"complete"),yt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,yt(this,"complete"),yt(this,"abort"),dn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dn(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?sa(this):this.bb())},n.bb=function(){sa(this)};function sa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Jt(u)!=4||u.Z()!=2)){if(u.u&&Jt(u)==4)$o(u.Ea,0,u);else if(yt(u,"readystatechange"),Jt(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var E;if(E=ie===0){var V=String(u.D).match(ji)[1]||null;!V&&f.self&&f.self.location&&(V=f.self.location.protocol.slice(0,-1)),E=!rh.test(V?V.toLowerCase():"")}_=E}if(_)yt(u,"complete"),yt(u,"success");else{u.m=6;try{var $=2<Jt(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",Vs(u)}}finally{dn(u)}}}}function dn(u,p){if(u.g){Ms(u);const _=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||yt(u,"ready");try{_.onreadystatechange=E}catch{}}}function Ms(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Jt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Jt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Ko(p)}};function oa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fs(u){const p={};u=(u.g&&2<=Jt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(W(u[E]))continue;var _=b(u[E]);const V=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=p[V]||[];p[V]=$,$.push(_)}P(p,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jn(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function aa(u){this.Aa=0,this.i=[],this.j=new Li,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jn("baseRetryDelayMs",5e3,u),this.cb=Jn("retryDelaySeedMs",1e4,u),this.Wa=Jn("forwardChannelMaxRetries",2,u),this.wa=Jn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ui(u&&u.concurrentRequestLimit),this.Da=new nh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=aa.prototype,n.la=8,n.G=1,n.connect=function(u,p,_,E){at(0),this.W=u,this.H=p||{},_&&E!==void 0&&(this.H.OSID=_,this.H.OAID=E),this.F=this.X,this.I=Fl(this,null,this.W),Zn(this)};function Nt(u){if(Us(u),u.G==3){var p=u.U++,_=hn(u.I);if(We(_,"SID",u.K),We(_,"RID",p),We(_,"TYPE","terminate"),wr(u,_),p=new Dn(u,u.j,p),p.L=2,p.v=Gr(hn(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=p.v,_=!0),_||(p.g=Ul(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ge(p)}Ml(u)}function Fn(u){u.g&&(la(u),u.g.cancel(),u.g=null)}function Us(u){Fn(u),u.u&&(f.clearTimeout(u.u),u.u=null),Bs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function Zn(u){if(!cn(u.h)&&!u.s){u.s=!0;var p=u.Ga;je||oe(),re||(je(),re=!0),_e.add(p,u),u.B=0}}function ih(u,p){return Al(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=xn(A(u.Ga,u,p),Vl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new Dn(this,this.j,u);let $=this.o;if(this.S&&($?($=I($),x($,this.S)):$=this.S),this.m!==null||this.O||(V.H=$,$=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var E=this.i[_];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=Jr(this,V,p),_=hn(this.I),We(_,"RID",u),We(_,"CVER",22),this.D&&We(_,"X-HTTP-Session-Id",this.D),wr(this,_),$&&(this.O?p="headers="+encodeURIComponent(String(vr($)))+"&"+p:this.m&&Yr(_,this.m,$)),na(this.h,V),this.Ua&&We(_,"TYPE","init"),this.P?(We(_,"$req",p),We(_,"SID","null"),V.T=!0,bs(V,_,null)):bs(V,_,p),this.G=2}}else this.G==3&&(u?js(this,u):this.i.length==0||cn(this.h)||js(this))};function js(u,p){var _;p?_=p.l:_=u.U++;const E=hn(u.I);We(E,"SID",u.K),We(E,"RID",_),We(E,"AID",u.T),wr(u,E),u.m&&u.o&&Yr(E,u.m,u.o),_=new Dn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Jr(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),na(u.h,_),bs(_,E,p)}function wr(u,p){u.H&&de(u.H,function(_,E){We(p,E,_)}),u.l&&Hr({},function(_,E){We(p,E,_)})}function Jr(u,p,_){_=Math.min(u.i.length,_);var E=u.l?A(u.l.Na,u.l,u):null;e:{var V=u.i;let $=-1;for(;;){const ie=["count="+_];$==-1?0<_?($=V[0].g,ie.push("ofs="+$)):$=0:ie.push("ofs="+$);let He=!0;for(let _t=0;_t<_;_t++){let Ve=V[_t].g;const St=V[_t].map;if(Ve-=$,0>Ve)$=Math.max(0,V[_t].g-100),He=!1;else try{Dl(St,ie,"req"+Ve+"_")}catch{E&&E(St)}}if(He){E=ie.join("&");break e}}}return u=u.i.splice(0,_),p.D=u,E}function qi(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;je||oe(),re||(je(),re=!0),_e.add(p,u),u.v=0}}function zs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=xn(A(u.Fa,u),Vl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Ll(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=xn(A(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Fn(this),Ll(this))};function la(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Ll(u){u.g=new Dn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=hn(u.qa);We(p,"RID","rpc"),We(p,"SID",u.K),We(p,"AID",u.T),We(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&We(p,"TO",u.ja),We(p,"TYPE","xmlhttp"),wr(u,p),u.m&&u.o&&Yr(p,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Gr(hn(p)),_.m=null,_.P=!0,ea(_,u)}n.Za=function(){this.C!=null&&(this.C=null,Fn(this),zs(this),at(19))};function Bs(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function $s(u,p){var _=null;if(u.g==p){Bs(u),la(u),u.g=null;var E=2}else if(Wt(u.h,p))_=p.D,Rl(u.h,p),E=1;else return;if(u.G!=0){if(p.o)if(E==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var V=u.B;E=Oi(),yt(E,new Ps(E,_)),Zn(u)}else qi(u);else if(V=p.s,V==3||V==0&&0<p.X||!(E==1&&ih(u,p)||E==2&&zs(u)))switch(_&&0<_.length&&(p=u.h,p.i=p.i.concat(_)),V){case 1:Er(u,5);break;case 4:Er(u,10);break;case 3:Er(u,6);break;default:Er(u,2)}}}function Vl(u,p){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*p}function Er(u,p){if(u.j.info("Error code "+p),p==2){var _=A(u.fb,u),E=u.Xa;const V=!E;E=new yr(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||zi(E,"https"),Gr(E),V?th(E.toString(),_):bl(E.toString(),_)}else at(2);u.G=0,u.l&&u.l.sa(p),Ml(u),Us(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Ml(u){if(u.G=0,u.ka=[],u.l){const p=Cl(u.h);(p.length!=0||u.i.length!=0)&&(D(u.ka,p),D(u.ka,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.ra()}}function Fl(u,p,_){var E=_ instanceof yr?hn(_):new yr(_);if(E.g!="")p&&(E.g=p+"."+E.g),Wr(E,E.s);else{var V=f.location;E=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;var $=new yr(null);E&&zi($,E),p&&($.g=p),V&&Wr($,V),_&&($.l=_),E=$}return _=u.D,p=u.ya,_&&p&&We(E,_,p),We(E,"VER",u.la),wr(u,E),E}function Ul(u,p,_){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Ze(new _r({eb:_})):new Ze(u.pa),p.Ha(u.J),p}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ua(){}n=ua.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function qs(){}qs.prototype.g=function(u,p){return new Kt(u,p)};function Kt(u,p){gt.call(this),this.g=new aa(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!W(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!W(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new er(this)}U(Kt,gt),Kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){Nt(this.g)},Kt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Wo(u),u=_);p.i.push(new Sl(p.Ya++,u)),p.G==3&&Zn(p)},Kt.prototype.N=function(){this.g.l=null,delete this.j,Nt(this.g),delete this.g,Kt.aa.N.call(this)};function jl(u){Gn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const _ in p){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}U(jl,Gn);function zl(){Cs.call(this),this.status=1}U(zl,Cs);function er(u){this.g=u}U(er,ua),er.prototype.ua=function(){yt(this.g,"a")},er.prototype.ta=function(u){yt(this.g,new jl(u))},er.prototype.sa=function(u){yt(this.g,new zl)},er.prototype.ra=function(){yt(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,Av=function(){return new qs},Sv=function(){return Oi()},Iv=Qn,rf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xs.NO_ERROR=0,xs.TIMEOUT=8,xs.HTTP_ERROR=6,Hu=xs,wl.COMPLETE="complete",Tv=wl,Rs.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Va=Rs,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,Ev=Ze}).apply(typeof Vu<"u"?Vu:typeof self<"u"?self:typeof window<"u"?window:{});const vy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new Pf("@firebase/firestore");function fo(){return ms.logLevel}function ae(n,...e){if(ms.logLevel<=Ne.DEBUG){const t=e.map(qf);ms.debug(`Firestore (${bo}): ${n}`,...t)}}function Ur(n,...e){if(ms.logLevel<=Ne.ERROR){const t=e.map(qf);ms.error(`Firestore (${bo}): ${n}`,...t)}}function Io(n,...e){if(ms.logLevel<=Ne.WARN){const t=e.map(qf);ms.warn(`Firestore (${bo}): ${n}`,...t)}}function qf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n="Unexpected state"){const e=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: `+n;throw Ur(e),new Error(e)}function qe(n,e){n||Te()}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends zr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bt.UNAUTHENTICATED))}shutdown(){}}class hA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class dA{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0);let i=this.i;const o=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Lr,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},f=m=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Lr)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(qe(typeof i.accessToken=="string"),new Rv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Bt(e)}}class fA{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class pA{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new fA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){qe(this.o===void 0);const i=l=>{l.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ae("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qe(typeof t.token=="string"),this.R=t.token,new mA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=yA(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function Oe(n,e){return n<e?-1:n>e?1:0}function So(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Et(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new le(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Et(0,0))}static max(){return new Se(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,t,i){t===void 0?t=0:t>e.length&&Te(),i===void 0?i=e.length-t:i>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ga.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ga?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),c=t.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Je extends Ga{construct(e,t,i){return new Je(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new le(K.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Je(t)}static emptyPath(){return new Je([])}}const _A=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends Ga{construct(e,t,i){return new Lt(e,t,i)}static isValidIdentifier(e){return _A.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Lt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new le(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new le(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new le(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(i+=f,o++):(l(),o++)}if(l(),c)throw new le(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(t)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Je.fromString(e))}static fromName(e){return new ye(Je.fromString(e).popFirst(5))}static empty(){return new ye(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Je(e.slice()))}}function vA(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(i===1e9?new Et(t+1,0):new Et(t,i));return new Ti(o,ye.empty(),e)}function wA(n){return new Ti(n.readTime,n.key,-1)}class Ti{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ti(Se.min(),ye.empty(),-1)}static max(){return new Ti(Se.max(),ye.empty(),-1)}}function EA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Oe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(n){if(n.code!==K.FAILED_PRECONDITION||n.message!==TA)throw n;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,i)=>{t(e)})}static reject(e){return new G((t,i)=>{i(e)})}static waitFor(e){return new G((t,i)=>{let o=0,l=0,c=!1;e.forEach(f=>{++o,f.next(()=>{++l,c&&l===o&&t()},m=>i(m))}),c=!0,l===o&&t()})}static or(e){let t=G.resolve(!1);for(const i of e)t=t.next(o=>o?G.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new G((i,o)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const y=m;t(e[y]).next(v=>{c[y]=v,++f,f===l&&i(c)},v=>o(v))}})}static doWhile(e,t){return new G((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function SA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Oo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}kc.oe=-1;function xc(n){return n==null}function cc(n){return n===0&&1/n==-1/0}function AA(n){return typeof n=="number"&&Number.isInteger(n)&&!cc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=wy(e)),e=CA(n.get(t),e);return wy(e)}function CA(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function wy(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Pi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Pv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t){this.comparator=e,this.root=t||Ot.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mu(this.root,e,this.comparator,!0)}}class Mu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Ot.RED,this.left=o??Ot.EMPTY,this.right=l??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Ot(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ot.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ty(this.data.getIterator())}getIteratorFrom(e){return new Ty(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Tt(this.comparator);return t.data=e,t}}class Ty{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new yn([])}unionWith(e){let t=new Tt(Lt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new kv("Invalid base64 string: "+l):l}}(e);return new Vt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const PA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ii(n){if(qe(!!n),typeof n=="string"){let e=0;const t=PA.exec(n);if(qe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Si(n){return typeof n=="string"?Vt.fromBase64String(n):Vt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Nc(n){const e=n.mapValue.fields.__previous_value__;return Hf(e)?Nc(e):e}function Qa(n){const e=Ii(n.mapValue.fields.__local_write_time__.timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,t,i,o,l,c,f,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=y}}class Xa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Xa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Xa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ai(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Hf(n)?4:NA(n)?9007199254740991:xA(n)?10:11:Te()}function hr(n,e){if(n===e)return!0;const t=Ai(n);if(t!==Ai(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qa(n).isEqual(Qa(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Ii(o.timestampValue),f=Ii(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Si(o.bytesValue).isEqual(Si(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return ut(o.geoPointValue.latitude)===ut(l.geoPointValue.latitude)&&ut(o.geoPointValue.longitude)===ut(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ut(o.integerValue)===ut(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=ut(o.doubleValue),f=ut(l.doubleValue);return c===f?cc(c)===cc(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return So(n.arrayValue.values||[],e.arrayValue.values||[],hr);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},f=l.mapValue.fields||{};if(Ey(c)!==Ey(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!hr(c[m],f[m])))return!1;return!0}(n,e);default:return Te()}}function Ya(n,e){return(n.values||[]).find(t=>hr(t,e))!==void 0}function Ao(n,e){if(n===e)return 0;const t=Ai(n),i=Ai(e);if(t!==i)return Oe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(n.booleanValue,e.booleanValue);case 2:return function(l,c){const f=ut(l.integerValue||l.doubleValue),m=ut(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(n,e);case 3:return Iy(n.timestampValue,e.timestampValue);case 4:return Iy(Qa(n),Qa(e));case 5:return Oe(n.stringValue,e.stringValue);case 6:return function(l,c){const f=Si(l),m=Si(c);return f.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),m=c.split("/");for(let y=0;y<f.length&&y<m.length;y++){const v=Oe(f[y],m[y]);if(v!==0)return v}return Oe(f.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const f=Oe(ut(l.latitude),ut(c.latitude));return f!==0?f:Oe(ut(l.longitude),ut(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Sy(n.arrayValue,e.arrayValue);case 10:return function(l,c){var f,m,y,v;const T=l.fields||{},A=c.fields||{},F=(f=T.value)===null||f===void 0?void 0:f.arrayValue,U=(m=A.value)===null||m===void 0?void 0:m.arrayValue,z=Oe(((y=F==null?void 0:F.values)===null||y===void 0?void 0:y.length)||0,((v=U==null?void 0:U.values)===null||v===void 0?void 0:v.length)||0);return z!==0?z:Sy(F,U)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Fu.mapValue&&c===Fu.mapValue)return 0;if(l===Fu.mapValue)return 1;if(c===Fu.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),y=c.fields||{},v=Object.keys(y);m.sort(),v.sort();for(let T=0;T<m.length&&T<v.length;++T){const A=Oe(m[T],v[T]);if(A!==0)return A;const F=Ao(f[m[T]],y[v[T]]);if(F!==0)return F}return Oe(m.length,v.length)}(n.mapValue,e.mapValue);default:throw Te()}}function Iy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Oe(n,e);const t=Ii(n),i=Ii(e),o=Oe(t.seconds,i.seconds);return o!==0?o:Oe(t.nanos,i.nanos)}function Sy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Ao(t[o],i[o]);if(l)return l}return Oe(t.length,i.length)}function Ro(n){return sf(n)}function sf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ii(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Si(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=sf(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${sf(t.fields[c])}`;return o+"}"}(n.mapValue):Te()}function Wu(n){switch(Ai(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nc(n);return e?16+Wu(e):16;case 5:return 2*n.stringValue.length;case 6:return Si(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+Wu(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Pi(i.fields,(l,c)=>{o+=l.length+Wu(c)}),o}(n.mapValue);default:throw Te()}}function Ay(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function of(n){return!!n&&"integerValue"in n}function Wf(n){return!!n&&"arrayValue"in n}function Ry(n){return!!n&&"nullValue"in n}function Cy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ku(n){return!!n&&"mapValue"in n}function xA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function za(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Pi(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=za(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=za(n.arrayValue.values[t]);return e}return Object.assign({},n)}function NA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ku(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=za(t)}setAll(e){let t=Lt.emptyPath(),i={},o=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,i,o),i={},o=[],t=f.popLast()}c?i[f.lastSegment()]=za(c):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Ku(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Ku(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Pi(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new an(za(this.value))}}function xv(n){const e=[];return Pi(n.fields,(t,i)=>{const o=new Lt([t]);if(Ku(i)){const l=xv(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,t,i,o,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new $t(e,0,Se.min(),Se.min(),Se.min(),an.empty(),0)}static newFoundDocument(e,t,i,o){return new $t(e,1,t,Se.min(),i,o,0)}static newNoDocument(e,t){return new $t(e,2,t,Se.min(),Se.min(),an.empty(),0)}static newUnknownDocument(e,t){return new $t(e,3,t,Se.min(),Se.min(),an.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t){this.position=e,this.inclusive=t}}function Py(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=ye.comparator(ye.fromName(c.referenceValue),t.key):i=Ao(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function ky(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!hr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t="asc"){this.field=e,this.dir=t}}function bA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{}class ft extends Nv{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new OA(e,t,i):t==="array-contains"?new MA(e,i):t==="in"?new FA(e,i):t==="not-in"?new UA(e,i):t==="array-contains-any"?new jA(e,i):new ft(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new LA(e,i):new VA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ao(t,this.value)):t!==null&&Ai(this.value)===Ai(t)&&this.matchesComparison(Ao(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends Nv{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Wn(e,t)}matches(e){return bv(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function bv(n){return n.op==="and"}function Dv(n){return DA(n)&&bv(n)}function DA(n){for(const e of n.filters)if(e instanceof Wn)return!1;return!0}function af(n){if(n instanceof ft)return n.field.canonicalString()+n.op.toString()+Ro(n.value);if(Dv(n))return n.filters.map(e=>af(e)).join(",");{const e=n.filters.map(t=>af(t)).join(",");return`${n.op}(${e})`}}function Ov(n,e){return n instanceof ft?function(i,o){return o instanceof ft&&i.op===o.op&&i.field.isEqual(o.field)&&hr(i.value,o.value)}(n,e):n instanceof Wn?function(i,o){return o instanceof Wn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,f)=>l&&Ov(c,o.filters[f]),!0):!1}(n,e):void Te()}function Lv(n){return n instanceof ft?function(t){return`${t.field.canonicalString()} ${t.op} ${Ro(t.value)}`}(n):n instanceof Wn?function(t){return t.op.toString()+" {"+t.getFilters().map(Lv).join(" ,")+"}"}(n):"Filter"}class OA extends ft{constructor(e,t,i){super(e,t,i),this.key=ye.fromName(i.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class LA extends ft{constructor(e,t){super(e,"in",t),this.keys=Vv("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class VA extends ft{constructor(e,t){super(e,"not-in",t),this.keys=Vv("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Vv(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ye.fromName(i.referenceValue))}class MA extends ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wf(t)&&Ya(t.arrayValue,this.value)}}class FA extends ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ya(this.value.arrayValue,t)}}class UA extends ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ya(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ya(this.value.arrayValue,t)}}class jA extends ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ya(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,t=null,i=[],o=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=f,this.ue=null}}function xy(n,e=null,t=[],i=[],o=null,l=null,c=null){return new zA(n,e,t,i,o,l,c)}function Kf(n){const e=Ae(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>af(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),xc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ro(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ro(i)).join(",")),e.ue=t}return e.ue}function Gf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!bA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ov(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ky(n.startAt,e.startAt)&&ky(n.endAt,e.endAt)}function lf(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,t=null,i=[],o=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function BA(n,e,t,i,o,l,c,f){return new ul(n,e,t,i,o,l,c,f)}function Qf(n){return new ul(n)}function Ny(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Mv(n){return n.collectionGroup!==null}function Ba(n){const e=Ae(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Tt(Lt.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new dc(l,i))}),t.has(Lt.keyField().canonicalString())||e.ce.push(new dc(Lt.keyField(),i))}return e.ce}function ar(n){const e=Ae(n);return e.le||(e.le=$A(e,Ba(n))),e.le}function $A(n,e){if(n.limitType==="F")return xy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new dc(o.field,l)});const t=n.endAt?new hc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new hc(n.startAt.position,n.startAt.inclusive):null;return xy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function uf(n,e){const t=n.filters.concat([e]);return new ul(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function cf(n,e,t){return new ul(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bc(n,e){return Gf(ar(n),ar(e))&&n.limitType===e.limitType}function Fv(n){return`${Kf(ar(n))}|lt:${n.limitType}`}function po(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>Lv(o)).join(", ")}]`),xc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Ro(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Ro(o)).join(",")),`Target(${i})`}(ar(n))}; limitType=${n.limitType})`}function Dc(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ye.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of Ba(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,f,m){const y=Py(c,f,m);return c.inclusive?y<=0:y<0}(i.startAt,Ba(i),o)||i.endAt&&!function(c,f,m){const y=Py(c,f,m);return c.inclusive?y>=0:y>0}(i.endAt,Ba(i),o))}(n,e)}function qA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Uv(n){return(e,t)=>{let i=!1;for(const o of Ba(n)){const l=HA(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function HA(n,e,t){const i=n.field.isKeyField()?ye.comparator(e.key,t.key):function(l,c,f){const m=c.data.field(l),y=f.data.field(l);return m!==null&&y!==null?Ao(m,y):Te()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Pi(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return Pv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=new st(ye.comparator);function jr(){return WA}const jv=new st(ye.comparator);function Ma(...n){let e=jv;for(const t of n)e=e.insert(t.key,t);return e}function zv(n){let e=jv;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function os(){return $a()}function Bv(){return $a()}function $a(){return new ys(n=>n.toString(),(n,e)=>n.isEqual(e))}const KA=new st(ye.comparator),GA=new Tt(ye.comparator);function be(...n){let e=GA;for(const t of n)e=e.add(t);return e}const QA=new Tt(Oe);function XA(){return QA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(e)?"-0":e}}function $v(n){return{integerValue:""+n}}function YA(n,e){return AA(e)?$v(e):Xf(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(){this._=void 0}}function JA(n,e,t){return n instanceof fc?function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Hf(l)&&(l=Nc(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(t,e):n instanceof Ja?Hv(n,e):n instanceof Za?Wv(n,e):function(o,l){const c=qv(o,l),f=by(c)+by(o.Pe);return of(c)&&of(o.Pe)?$v(f):Xf(o.serializer,f)}(n,e)}function ZA(n,e,t){return n instanceof Ja?Hv(n,e):n instanceof Za?Wv(n,e):t}function qv(n,e){return n instanceof pc?function(i){return of(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class fc extends Oc{}class Ja extends Oc{constructor(e){super(),this.elements=e}}function Hv(n,e){const t=Kv(e);for(const i of n.elements)t.some(o=>hr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Za extends Oc{constructor(e){super(),this.elements=e}}function Wv(n,e){let t=Kv(e);for(const i of n.elements)t=t.filter(o=>!hr(o,i));return{arrayValue:{values:t}}}class pc extends Oc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function by(n){return ut(n.integerValue||n.doubleValue)}function Kv(n){return Wf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function eR(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Ja&&o instanceof Ja||i instanceof Za&&o instanceof Za?So(i.elements,o.elements,hr):i instanceof pc&&o instanceof pc?hr(i.Pe,o.Pe):i instanceof fc&&o instanceof fc}(n.transform,e.transform)}class tR{constructor(e,t){this.version=e,this.transformResults=t}}class kn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gu(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Lc{}function Gv(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Yf(n.key,kn.none()):new cl(n.key,n.data,kn.none());{const t=n.data,i=an.empty();let o=new Tt(Lt.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new ki(n.key,i,new yn(o.toArray()),kn.none())}}function nR(n,e,t){n instanceof cl?function(o,l,c){const f=o.value.clone(),m=Oy(o.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof ki?function(o,l,c){if(!Gu(o.precondition,l))return void l.convertToUnknownDocument(c.version);const f=Oy(o.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(Qv(o)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function qa(n,e,t,i){return n instanceof cl?function(l,c,f,m){if(!Gu(l.precondition,c))return f;const y=l.value.clone(),v=Ly(l.fieldTransforms,m,c);return y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof ki?function(l,c,f,m){if(!Gu(l.precondition,c))return f;const y=Ly(l.fieldTransforms,m,c),v=c.data;return v.setAll(Qv(l)),v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,c,f){return Gu(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function rR(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=qv(i.transform,o||null);l!=null&&(t===null&&(t=an.empty()),t.set(i.field,l))}return t||null}function Dy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&So(i,o,(l,c)=>eR(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class cl extends Lc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ki extends Lc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Qv(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Oy(n,e,t){const i=new Map;qe(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,f=e.data.field(l.field);i.set(l.field,ZA(c,f,t[o]))}return i}function Ly(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,JA(l,c,e))}return i}class Yf extends Lc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iR extends Lc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&nR(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=qa(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=qa(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Bv();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(o.key)?null:f;const m=Gv(c,f);m!==null&&i.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(Se.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),be())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,(t,i)=>Dy(t,i))&&So(this.baseMutations,e.baseMutations,(t,i)=>Dy(t,i))}}class Jf{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){qe(e.mutations.length===i.length);let o=function(){return KA}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new Jf(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Me;function lR(n){switch(n){default:return Te();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function Xv(n){if(n===void 0)return Ur("GRPC error has no .code"),K.UNKNOWN;switch(n){case dt.OK:return K.OK;case dt.CANCELLED:return K.CANCELLED;case dt.UNKNOWN:return K.UNKNOWN;case dt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case dt.INTERNAL:return K.INTERNAL;case dt.UNAVAILABLE:return K.UNAVAILABLE;case dt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case dt.NOT_FOUND:return K.NOT_FOUND;case dt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case dt.ABORTED:return K.ABORTED;case dt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case dt.DATA_LOSS:return K.DATA_LOSS;default:return Te()}}(Me=dt||(dt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=new cs([4294967295,4294967295],0);function Vy(n){const e=uR().encode(n),t=new wv;return t.update(e),new Uint8Array(t.digest())}function My(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new cs([t,i],0),new cs([o,l],0)]}class Zf{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Fa(`Invalid padding: ${t}`);if(i<0)throw new Fa(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Fa(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Fa(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=cs.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(cs.fromNumber(i)));return o.compare(cR)===1&&(o=new cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Vy(e),[i,o]=My(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Zf(l,o,t);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.Te===0)return;const t=Vy(e),[i,o]=My(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Fa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,hl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Vc(Se.min(),o,new st(Oe),jr(),be())}}class hl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new hl(i,t,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class Yv{constructor(e,t){this.targetId=e,this.me=t}}class Jv{constructor(e,t,i=Vt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Fy{constructor(){this.fe=0,this.ge=Uy(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=be(),t=be(),i=be();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Te()}}),new hl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Uy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hR{constructor(e){this.Le=e,this.Be=new Map,this.ke=jr(),this.qe=Uu(),this.Qe=Uu(),this.Ke=new st(Oe)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(lf(l))if(i===0){const c=new ye(l.path);this.We(t,c,$t.newNoDocument(c,Se.min()))}else qe(i===1);else{const c=this.Ze(t);if(c!==i){const f=this.Xe(e),m=f?this.et(f,e,c):1;if(m!==0){this.He(t);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,f;try{c=Si(i).toUint8Array()}catch(m){if(m instanceof kv)return Io("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Zf(c,o,l)}catch(m){return Io(m instanceof Fa?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.Te===0?null:f}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.Le.nt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,c)=>{const f=this.Ye(c);if(f){if(l.current&&lf(f.target)){const m=new ye(f.target.path);this.st(m).has(c)||this.ot(c,m)||this.We(c,m,$t.newNoDocument(m,e))}l.be&&(t.set(c,l.ve()),l.Ce())}});let i=be();this.Qe.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const y=this.Ye(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.ke.forEach((l,c)=>c.setReadTime(e));const o=new Vc(e,t,this.Ke,this.ke,i);return this.ke=jr(),this.qe=Uu(),this.Qe=Uu(),this.Ke=new st(Oe),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Fy,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Tt(Oe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Tt(Oe),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Fy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Uu(){return new st(ye.comparator)}function Uy(){return new st(ye.comparator)}const dR={asc:"ASCENDING",desc:"DESCENDING"},fR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pR={and:"AND",or:"OR"};class mR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hf(n,e){return n.useProto3Json||xc(e)?e:{value:e}}function mc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zv(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function gR(n,e){return mc(n,e.toTimestamp())}function lr(n){return qe(!!n),Se.fromTimestamp(function(t){const i=Ii(t);return new Et(i.seconds,i.nanos)}(n))}function ep(n,e){return df(n,e).canonicalString()}function df(n,e){const t=function(o){return new Je(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function e0(n){const e=Je.fromString(n);return qe(s0(e)),e}function ff(n,e){return ep(n.databaseId,e.path)}function Vd(n,e){const t=e0(e);if(t.get(1)!==n.databaseId.projectId)throw new le(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new le(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(n0(t))}function t0(n,e){return ep(n.databaseId,e)}function yR(n){const e=e0(n);return e.length===4?Je.emptyPath():n0(e)}function pf(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function n0(n){return qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function jy(n,e,t){return{name:ff(n,e),fields:t.value.mapValue.fields}}function _R(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,v){return y.useProto3Json?(qe(v===void 0||typeof v=="string"),Vt.fromBase64String(v||"")):(qe(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Vt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(y){const v=y.code===void 0?K.UNKNOWN:Xv(y.code);return new le(v,y.message||"")}(c);t=new Jv(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Vd(n,i.document.name),l=lr(i.document.updateTime),c=i.document.createTime?lr(i.document.createTime):Se.min(),f=new an({mapValue:{fields:i.document.fields}}),m=$t.newFoundDocument(o,l,c,f),y=i.targetIds||[],v=i.removedTargetIds||[];t=new Qu(y,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Vd(n,i.document),l=i.readTime?lr(i.readTime):Se.min(),c=$t.newNoDocument(o,l),f=i.removedTargetIds||[];t=new Qu([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Vd(n,i.document),l=i.removedTargetIds||[];t=new Qu([],l,o,null)}else{if(!("filter"in e))return Te();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new aR(o,l),f=i.targetId;t=new Yv(f,c)}}return t}function vR(n,e){let t;if(e instanceof cl)t={update:jy(n,e.key,e.value)};else if(e instanceof Yf)t={delete:ff(n,e.key)};else if(e instanceof ki)t={update:jy(n,e.key,e.data),updateMask:PR(e.fieldMask)};else{if(!(e instanceof iR))return Te();t={verify:ff(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const f=c.transform;if(f instanceof fc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ja)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Za)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof pc)return{fieldPath:c.field.canonicalString(),increment:f.Pe};throw Te()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:gR(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te()}(n,e.precondition)),t}function wR(n,e){return n&&n.length>0?(qe(e!==void 0),n.map(t=>function(o,l){let c=o.updateTime?lr(o.updateTime):lr(l);return c.isEqual(Se.min())&&(c=lr(l)),new tR(c,o.transformResults||[])}(t,e))):[]}function ER(n,e){return{documents:[t0(n,e.path)]}}function TR(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=t0(n,o);const l=function(y){if(y.length!==0)return i0(Wn.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(y){if(y.length!==0)return y.map(v=>function(A){return{field:mo(A.field),direction:AR(A.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=hf(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function IR(n){let e=yR(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){qe(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(T){const A=r0(T);return A instanceof Wn&&Dv(A)?A.getFilters():[A]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(A=>function(U){return new dc(go(U.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(A))}(t.orderBy));let f=null;t.limit&&(f=function(T){let A;return A=typeof T=="object"?T.value:T,xc(A)?null:A}(t.limit));let m=null;t.startAt&&(m=function(T){const A=!!T.before,F=T.values||[];return new hc(F,A)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const A=!T.before,F=T.values||[];return new hc(F,A)}(t.endAt)),BA(e,o,c,l,f,"F",m,y)}function SR(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function r0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=go(t.unaryFilter.field);return ft.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=go(t.unaryFilter.field);return ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=go(t.unaryFilter.field);return ft.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=go(t.unaryFilter.field);return ft.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):n.fieldFilter!==void 0?function(t){return ft.create(go(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Wn.create(t.compositeFilter.filters.map(i=>r0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te()}function AR(n){return dR[n]}function RR(n){return fR[n]}function CR(n){return pR[n]}function mo(n){return{fieldPath:n.canonicalString()}}function go(n){return Lt.fromServerFormat(n.fieldPath)}function i0(n){return n instanceof ft?function(t){if(t.op==="=="){if(Cy(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NAN"}};if(Ry(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Cy(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NOT_NAN"}};if(Ry(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(t.field),op:RR(t.op),value:t.value}}}(n):n instanceof Wn?function(t){const i=t.getFilters().map(o=>i0(o));return i.length===1?i[0]:{compositeFilter:{op:CR(t.op),filters:i}}}(n):Te()}function PR(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function s0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,t,i,o,l=Se.min(),c=Se.min(),f=Vt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.ht=e}}function xR(n){const e=IR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?cf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.ln=new bR}addToCollectionParentIndex(e,t){return this.ln.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(Ti.min())}updateCollectionGroup(e,t,i){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class bR{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Tt(Je.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Tt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(41943040,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Co(0)}static Qn(){return new Co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By([n,e],[t,i]){const o=Oe(n,t);return o===0?Oe(e,i):o}class DR{constructor(e){this.Gn=e,this.buffer=new Tt(By),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();By(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class OR{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Oo(t)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Do(t)}await this.Yn(3e5)})}}class LR{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return G.resolve(kc.oe);const i=new DR(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(zy)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,c,f,m,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(i=T,f=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(y=Date.now(),fo()<=Ne.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${T} documents in `+(y-m)+`ms
Total Duration: ${y-v}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function VR(n,e){return new LR(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.changes=new ys(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?G.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&qa(i.mutation,o,yn.empty(),Et.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,be()).next(()=>i))}getLocalViewOfDocuments(e,t,i=be()){const o=os();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=Ma();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=os();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,be()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,o){let l=jr();const c=$a(),f=function(){return $a()}();return t.forEach((m,y)=>{const v=i.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof ki)?l=l.insert(y.key,y):v!==void 0?(c.set(y.key,v.mutation.getFieldMask()),qa(v.mutation,y,v.mutation.getFieldMask(),Et.now())):c.set(y.key,yn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((y,v)=>c.set(y,v)),t.forEach((y,v)=>{var T;return f.set(y,new FR(v,(T=c.get(y))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(e,t){const i=$a();let o=new st((c,f)=>c-f),l=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(m=>{const y=t.get(m);if(y===null)return;let v=i.get(m)||yn.empty();v=f.applyToLocalView(y,v),i.set(m,v);const T=(o.get(f.batchId)||be()).add(m);o=o.insert(f.batchId,T)})}).next(()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),y=m.key,v=m.value,T=Bv();v.forEach(A=>{if(!l.has(A)){const F=Gv(t.get(A),i.get(A));F!==null&&T.set(A,F),l=l.add(A)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,T))}return G.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Mv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):G.resolve(os());let f=-1,m=l;return c.next(y=>G.forEach(y,(v,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(v)?G.resolve():this.remoteDocumentCache.getEntry(e,v).next(A=>{m=m.insert(v,A)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,m,y,be())).next(v=>({batchId:f,changes:zv(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(i=>{let o=Ma();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=Ma();return this.indexManager.getCollectionParents(e,l).next(f=>G.forEach(f,m=>{const y=function(T,A){return new ul(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(v=>{v.forEach((T,A)=>{c=c.insert(T,A)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((m,y)=>{const v=y.getKey();c.get(v)===null&&(c=c.insert(v,$t.newInvalidDocument(v)))});let f=Ma();return c.forEach((m,y)=>{const v=l.get(m);v!==void 0&&qa(v.mutation,y,yn.empty(),Et.now()),Dc(t,y)&&(f=f.insert(m,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return G.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:lr(o.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:xR(o.bundledQuery),readTime:lr(o.readTime)}}(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.overlays=new st(ye.comparator),this.Er=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const i=os();return G.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),G.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(i)),G.resolve()}getOverlaysForCollection(e,t,i){const o=os(),l=t.length+1,c=new ye(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,y=m.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&m.largestBatchId>i&&o.set(m.getKey(),m)}return G.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new st((y,v)=>y-v);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let v=l.get(y.largestBatchId);v===null&&(v=os(),l=l.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const f=os(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((y,v)=>f.set(y,v)),!(f.size()>=o)););return G.resolve(f)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new oR(t,i));let l=this.Er.get(t);l===void 0&&(l=be(),this.Er.set(t,l)),this.Er.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(){this.dr=new Tt(Pt.Ar),this.Rr=new Tt(Pt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Pt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Pt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new ye(new Je([])),i=new Pt(t,e),o=new Pt(t,e+1),l=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),l.push(c.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ye(new Je([])),i=new Pt(t,e),o=new Pt(t,e+1);let l=be();return this.Rr.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Pt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ye.comparator(e.key,t.key)||Oe(e.br,t.br)}static Vr(e,t){return Oe(e.br,t.br)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Tt(Pt.Ar)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new sR(l,t,i,o);this.mutationQueue.push(c);for(const f of o)this.vr=this.vr.add(new Pt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return G.resolve(c)}lookupMutationBatch(e,t){return G.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return G.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],c=>{const f=this.Cr(c.br);l.push(f)}),G.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Tt(Oe);return t.forEach(o=>{const l=new Pt(o,0),c=new Pt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,c],f=>{i=i.add(f.br)})}),G.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ye.isDocumentKey(l)||(l=l.child(""));const c=new Pt(new ye(l),0);let f=new Tt(Oe);return this.vr.forEachWhile(m=>{const y=m.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(m.br)),!0)},c),G.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){qe(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return G.forEach(t.mutations,o=>{const l=new Pt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Pt(t,0),o=this.vr.firstAfterOrEqual(i);return G.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.Nr=e,this.docs=function(){return new st(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return G.resolve(i?i.document.mutableCopy():$t.newInvalidDocument(t))}getEntries(e,t){let i=jr();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():$t.newInvalidDocument(o))}),G.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=jr();const c=t.path,f=new ye(c.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:y,value:{document:v}}=m.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||EA(wA(v),i)<=0||(o.has(v.key)||Dc(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return G.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Te()}Lr(e,t){return G.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new HR(this)}getSize(e){return G.resolve(this.size)}}class HR extends MR{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),G.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.persistence=e,this.Br=new ys(t=>Kf(t),Gf),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.kr=0,this.qr=new tp,this.targetCount=0,this.Qr=Co.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),G.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Co(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.Un(t),G.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Br.forEach((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Br.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),G.waitFor(l).next(()=>o)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return G.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),G.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),G.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return G.resolve(i)}containsKey(e,t){return G.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,t){this.Kr={},this.overlays={},this.$r=new kc(0),this.Ur=!1,this.Ur=!0,this.Wr=new BR,this.referenceDelegate=e(this),this.Gr=new WR(this),this.indexManager=new NR,this.remoteDocumentCache=function(o){return new qR(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new kR(t),this.jr=new jR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new $R(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ae("MemoryPersistence","Starting transaction:",e);const o=new KR(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return G.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class KR extends IA{constructor(e){super(),this.currentSequenceNumber=e}}class np{constructor(e){this.persistence=e,this.Zr=new tp,this.Xr=null}static ei(e){return new np(e)}get ti(){if(this.Xr)return this.Xr;throw Te()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),G.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),G.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ti,i=>{const o=ye.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Se.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return G.or([()=>G.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class gc{constructor(e,t){this.persistence=e,this.ri=new ys(i=>RA(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=VR(this,t)}static ei(e,t){return new gc(e,t)}Hr(){}Jr(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return G.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?G.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,c=>this.ir(e,c,t).next(f=>{f||(i++,l.removeEntry(c,Se.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),G.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),G.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Wu(e.data.value)),t}ir(e,t,i){return G.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return G.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=be(),o=be();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new rp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return xT()?8:SA(Ht())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new GR;return this.ts(e,t,c).next(f=>{if(l.result=f,this.Hi)return this.ns(e,t,c,f.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(fo()<=Ne.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",po(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),G.resolve()):(fo()<=Ne.DEBUG&&ae("QueryEngine","Query:",po(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(fo()<=Ne.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",po(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(t))):G.resolve())}Xi(e,t){if(Ny(t))return G.resolve(null);let i=ar(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=cf(t,null,"F"),i=ar(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=be(...l);return this.Zi.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(m=>{const y=this.rs(t,f);return this.ss(t,y,c,m.readTime)?this.Xi(e,cf(t,null,"F")):this.os(e,y,t,m)}))})))}es(e,t,i,o){return Ny(t)||o.isEqual(Se.min())?G.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const c=this.rs(t,l);return this.ss(t,c,i,o)?G.resolve(null):(fo()<=Ne.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(t)),this.os(e,c,t,vA(o,-1)).next(f=>f))})}rs(e,t){let i=new Tt(Uv(e));return t.forEach((o,l)=>{Dc(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return fo()<=Ne.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",po(t)),this.Zi.getDocumentsMatchingQuery(e,t,Ti.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new st(Oe),this.cs=new ys(l=>Kf(l),Gf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UR(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function YR(n,e,t,i){return new XR(n,e,t,i)}async function a0(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],f=[];let m=be();for(const y of o){c.push(y.batchId);for(const v of y.mutations)m=m.add(v.key)}for(const y of l){f.push(y.batchId);for(const v of y.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(i,m).next(y=>({Ts:y,removedBatchIds:c,addedBatchIds:f}))})})}function JR(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,m,y,v){const T=y.batch,A=T.keys();let F=G.resolve();return A.forEach(U=>{F=F.next(()=>v.getEntry(m,U)).next(z=>{const D=y.docVersions.get(U);qe(D!==null),z.version.compareTo(D)<0&&(T.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),v.addEntry(z)))})}),F.next(()=>f.mutationQueue.removeMutationBatch(m,T))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let m=be();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(m=m.add(f.batch.mutations[y].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function l0(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function ZR(n,e){const t=Ae(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((v,T)=>{const A=o.get(T);if(!A)return;f.push(t.Gr.removeMatchingKeys(l,v.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(l,v.addedDocuments,T)));let F=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?F=F.withResumeToken(Vt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(v.resumeToken,i)),o=o.insert(T,F),function(z,D,ee){return z.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0}(A,F,v)&&f.push(t.Gr.updateTargetData(l,F))});let m=jr(),y=be();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),f.push(eC(l,c,e.documentUpdates).next(v=>{m=v.Is,y=v.Es})),!i.isEqual(Se.min())){const v=t.Gr.getLastRemoteSnapshotVersion(l).next(T=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(v)}return G.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,y)).next(()=>m)}).then(l=>(t.us=o,l))}function eC(n,e,t){let i=be(),o=be();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=jr();return t.forEach((f,m)=>{const y=l.get(f);m.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),m.isNoDocument()&&m.version.isEqual(Se.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):ae("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",m.version)}),{Is:c,Es:o}})}function tC(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function nC(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,G.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new yi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function mf(n,e,t){const i=Ae(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Oo(c))throw c;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function $y(n,e,t){const i=Ae(n);let o=Se.min(),l=be();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,y,v){const T=Ae(m),A=T.cs.get(v);return A!==void 0?G.resolve(T.us.get(A)):T.Gr.getTargetData(y,v)}(i,c,ar(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:Se.min(),t?l:be())).next(f=>(rC(i,qA(e),f),{documents:f,ds:l})))}function rC(n,e,t){let i=n.ls.get(e)||Se.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class qy{constructor(){this.activeTargetIds=XA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iC{constructor(){this._o=new qy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new qy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=null;function Md(){return ju===null?ju=function(){return 268435456+Math.round(2147483648*Math.random())}():ju++,"0x"+ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class lC extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,c){const f=Md(),m=this.No(t,i.toUriEncodedString());ae("RestConnection",`Sending RPC '${t}' ${f}:`,m,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,c),this.Bo(t,m,y,o).then(v=>(ae("RestConnection",`Received RPC '${t}' ${f}: `,v),v),v=>{throw Io("RestConnection",`RPC '${t}' ${f} failed with error: `,v,"url: ",m,"request:",o),v})}ko(t,i,o,l,c,f){return this.Oo(t,i,o,l,c)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),o&&o.headers.forEach((l,c)=>t[c]=l)}No(t,i){const o=oC[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const l=Md();return new Promise((c,f)=>{const m=new Ev;m.setWithCredentials(!0),m.listenOnce(Tv.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Hu.NO_ERROR:const v=m.getResponseJson();ae(zt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case Hu.TIMEOUT:ae(zt,`RPC '${e}' ${l} timed out`),f(new le(K.DEADLINE_EXCEEDED,"Request time out"));break;case Hu.HTTP_ERROR:const T=m.getStatus();if(ae(zt,`RPC '${e}' ${l} failed with status:`,T,"response text:",m.getResponseText()),T>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const F=A==null?void 0:A.error;if(F&&F.status&&F.message){const U=function(D){const ee=D.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(ee)>=0?ee:K.UNKNOWN}(F.status);f(new le(U,F.message))}else f(new le(K.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new le(K.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ae(zt,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);ae(zt,`RPC '${e}' ${l} sending request:`,o),m.send(t,"POST",y,i,15)})}qo(e,t,i){const o=Md(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Av(),f=Sv(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Lo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const v=l.join("");ae(zt,`Creating RPC '${e}' stream ${o}: ${v}`,m);const T=c.createWebChannel(v,m);let A=!1,F=!1;const U=new aC({Eo:D=>{F?ae(zt,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(A||(ae(zt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),ae(zt,`RPC '${e}' stream ${o} sending:`,D),T.send(D))},Ao:()=>T.close()}),z=(D,ee,W)=>{D.listen(ee,X=>{try{W(X)}catch(ne){setTimeout(()=>{throw ne},0)}})};return z(T,Va.EventType.OPEN,()=>{F||(ae(zt,`RPC '${e}' stream ${o} transport opened.`),U.So())}),z(T,Va.EventType.CLOSE,()=>{F||(F=!0,ae(zt,`RPC '${e}' stream ${o} transport closed`),U.Do())}),z(T,Va.EventType.ERROR,D=>{F||(F=!0,Io(zt,`RPC '${e}' stream ${o} transport errored:`,D),U.Do(new le(K.UNAVAILABLE,"The operation could not be completed")))}),z(T,Va.EventType.MESSAGE,D=>{var ee;if(!F){const W=D.data[0];qe(!!W);const X=W,ne=(X==null?void 0:X.error)||((ee=X[0])===null||ee===void 0?void 0:ee.error);if(ne){ae(zt,`RPC '${e}' stream ${o} received error:`,ne);const pe=ne.status;let de=function(R){const x=dt[R];if(x!==void 0)return Xv(x)}(pe),P=ne.message;de===void 0&&(de=K.INTERNAL,P="Unknown error status: "+pe+" with message "+ne.message),F=!0,U.Do(new le(de,P)),T.close()}else ae(zt,`RPC '${e}' stream ${o} received:`,W),U.vo(W)}}),z(f,Iv.STAT_EVENT,D=>{D.stat===rf.PROXY?ae(zt,`RPC '${e}' stream ${o} detected buffering proxy`):D.stat===rf.NOPROXY&&ae(zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.bo()},0),U}}function Fd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(n){return new mR(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,t,i,o,l,c,f,m){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new u0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===K.RESOURCE_EXHAUSTED?(Ur(t.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new le(K.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uC extends c0{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=_R(this.serializer,e),i=function(l){if(!("targetChange"in l))return Se.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Se.min():c.readTime?lr(c.readTime):Se.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=pf(this.serializer),t.addTarget=function(l,c){let f;const m=c.target;if(f=lf(m)?{documents:ER(l,m)}:{query:TR(l,m).ct},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Zv(l,c.resumeToken);const y=hf(l,c.expectedCount);y!==null&&(f.expectedCount=y)}else if(c.snapshotVersion.compareTo(Se.min())>0){f.readTime=mc(l,c.snapshotVersion.toTimestamp());const y=hf(l,c.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const i=SR(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=pf(this.serializer),t.removeTarget=e,this.c_(t)}}class cC extends c0{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=wR(e.writeResults,e.commitTime),i=lr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=pf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>vR(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new le(K.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Oo(e,df(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new le(K.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.ko(e,df(t,i),o,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(K.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class dC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ur(t),this.C_=!1):ae("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{_s(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(m){const y=Ae(m);y.k_.add(4),await dl(y),y.K_.set("Unknown"),y.k_.delete(4),await Fc(y)}(this))})}),this.K_=new dC(i,o)}}async function Fc(n){if(_s(n))for(const e of n.q_)await e(!0)}async function dl(n){for(const e of n.q_)await e(!1)}function h0(n,e){const t=Ae(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),ap(t)?op(t):Lo(t).s_()&&sp(t,e))}function ip(n,e){const t=Ae(n),i=Lo(t);t.B_.delete(e),i.s_()&&d0(t,e),t.B_.size===0&&(i.s_()?i.a_():_s(t)&&t.K_.set("Unknown"))}function sp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Lo(n).V_(e)}function d0(n,e){n.U_.xe(e),Lo(n).m_(e)}function op(n){n.U_=new hR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Lo(n).start(),n.K_.F_()}function ap(n){return _s(n)&&!Lo(n).i_()&&n.B_.size>0}function _s(n){return Ae(n).k_.size===0}function f0(n){n.U_=void 0}async function pC(n){n.K_.set("Online")}async function mC(n){n.B_.forEach((e,t)=>{sp(n,e)})}async function gC(n,e){f0(n),ap(n)?(n.K_.O_(e),op(n)):n.K_.set("Unknown")}async function yC(n,e,t){if(n.K_.set("Online"),e instanceof Jv&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const f of l.targetIds)o.B_.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.B_.delete(f),o.U_.removeTarget(f))}(n,e)}catch(i){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await yc(n,i)}else if(e instanceof Qu?n.U_.$e(e):e instanceof Yv?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Se.min()))try{const i=await l0(n.localStore);t.compareTo(i)>=0&&await function(l,c){const f=l.U_.it(c);return f.targetChanges.forEach((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.B_.get(y);v&&l.B_.set(y,v.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,y)=>{const v=l.B_.get(m);if(!v)return;l.B_.set(m,v.withResumeToken(Vt.EMPTY_BYTE_STRING,v.snapshotVersion)),d0(l,m);const T=new yi(v.target,m,y,v.sequenceNumber);sp(l,T)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){ae("RemoteStore","Failed to raise snapshot:",i),await yc(n,i)}}async function yc(n,e,t){if(!Oo(e))throw e;n.k_.add(1),await dl(n),n.K_.set("Offline"),t||(t=()=>l0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Fc(n)})}function p0(n,e){return e().catch(t=>yc(n,t,e))}async function Uc(n){const e=Ae(n),t=Ri(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;_C(e);)try{const o=await tC(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,vC(e,o)}catch(o){await yc(e,o)}m0(e)&&g0(e)}function _C(n){return _s(n)&&n.L_.length<10}function vC(n,e){n.L_.push(e);const t=Ri(n);t.s_()&&t.f_&&t.g_(e.mutations)}function m0(n){return _s(n)&&!Ri(n).i_()&&n.L_.length>0}function g0(n){Ri(n).start()}async function wC(n){Ri(n).w_()}async function EC(n){const e=Ri(n);for(const t of n.L_)e.g_(t.mutations)}async function TC(n,e,t){const i=n.L_.shift(),o=Jf.from(i,e,t);await p0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Uc(n)}async function IC(n,e){e&&Ri(n).f_&&await async function(i,o){if(function(c){return lR(c)&&c!==K.ABORTED}(o.code)){const l=i.L_.shift();Ri(i).__(),await p0(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Uc(i)}}(n,e),m0(n)&&g0(n)}async function Wy(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const i=_s(t);t.k_.add(3),await dl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Fc(t)}async function SC(n,e){const t=Ae(n);e?(t.k_.delete(2),await Fc(t)):e||(t.k_.add(2),await dl(t),t.K_.set("Unknown"))}function Lo(n){return n.W_||(n.W_=function(t,i,o){const l=Ae(t);return l.b_(),new uC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:pC.bind(null,n),mo:mC.bind(null,n),po:gC.bind(null,n),R_:yC.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),ap(n)?op(n):n.K_.set("Unknown")):(await n.W_.stop(),f0(n))})),n.W_}function Ri(n){return n.G_||(n.G_=function(t,i,o){const l=Ae(t);return l.b_(),new cC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:wC.bind(null,n),po:IC.bind(null,n),p_:EC.bind(null,n),y_:TC.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Uc(n)):(await n.G_.stop(),n.L_.length>0&&(ae("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,f=new lp(e,t,c,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function up(n,e){if(Ur("AsyncQueue",`${e}: ${n}`),Oo(n))return new le(K.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{static emptySet(e){return new wo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ye.comparator(t.key,i.key):(t,i)=>ye.comparator(t.key,i.key),this.keyedMap=Ma(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new wo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(){this.z_=new st(ye.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Te():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Po{constructor(e,t,i,o,l,c,f,m,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Po(e,t,wo.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class RC{constructor(){this.queries=Gy(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Ae(t),l=o.queries;o.queries=Gy(),l.forEach((c,f)=>{for(const m of f.J_)m.onError(i)})})(this,new le(K.ABORTED,"Firestore shutting down"))}}function Gy(){return new ys(n=>Fv(n),bc)}async function y0(n,e){const t=Ae(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new AC,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=up(c,`Initialization of query '${po(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&cp(t)}async function _0(n,e){const t=Ae(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.J_.indexOf(e);c>=0&&(l.J_.splice(c,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function CC(n,e){const t=Ae(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const f of c.J_)f.ta(o)&&(i=!0);c.H_=o}}i&&cp(t)}function PC(n,e,t){const i=Ae(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function cp(n){n.X_.forEach(e=>{e.next()})}var gf,Qy;(Qy=gf||(gf={})).na="default",Qy.Cache="cache";class v0{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Po(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==gf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e){this.key=e}}class E0{constructor(e){this.key=e}}class kC{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=be(),this.mutatedKeys=be(),this.Va=Uv(e),this.ma=new wo(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new Ky,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,T)=>{const A=o.get(v),F=Dc(this.query,T)?T:null,U=!!A&&this.mutatedKeys.has(A.key),z=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let D=!1;A&&F?A.data.isEqual(F.data)?U!==z&&(i.track({type:3,doc:F}),D=!0):this.ya(A,F)||(i.track({type:2,doc:F}),D=!0,(m&&this.Va(F,m)>0||y&&this.Va(F,y)<0)&&(f=!0)):!A&&F?(i.track({type:0,doc:F}),D=!0):A&&!F&&(i.track({type:1,doc:A}),D=!0,(m||y)&&(f=!0)),D&&(F?(c=c.add(F),l=z?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{ma:c,pa:i,ss:f,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((v,T)=>function(F,U){const z=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return z(F)-z(U)}(v.type,T.type)||this.Va(v.doc,T.doc)),this.wa(i),o=o!=null&&o;const f=t&&!o?this.Sa():[],m=this.Ra.size===0&&this.current&&!o?1:0,y=m!==this.Aa;return this.Aa=m,c.length!==0||y?{snapshot:new Po(this.query,e.ma,l,c,e.mutatedKeys,m===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Ky,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=be(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new E0(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new w0(i))}),t}va(e){this.da=e.ds,this.Ra=be();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Po.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class xC{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class NC{constructor(e){this.key=e,this.Fa=!1}}class bC{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new ys(f=>Fv(f),bc),this.Oa=new Map,this.Na=new Set,this.La=new st(ye.comparator),this.Ba=new Map,this.ka=new tp,this.qa={},this.Qa=new Map,this.Ka=Co.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function DC(n,e,t=!0){const i=C0(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await T0(i,e,t,!0),o}async function OC(n,e){const t=C0(n);await T0(t,e,!0,!1)}async function T0(n,e,t,i){const o=await nC(n.localStore,ar(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await LC(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&h0(n.remoteStore,o),f}async function LC(n,e,t,i,o){n.Ua=(T,A,F)=>async function(z,D,ee,W){let X=D.view.ga(ee);X.ss&&(X=await $y(z.localStore,D.query,!1).then(({documents:P})=>D.view.ga(P,X)));const ne=W&&W.targetChanges.get(D.targetId),pe=W&&W.targetMismatches.get(D.targetId)!=null,de=D.view.applyChanges(X,z.isPrimaryClient,ne,pe);return Yy(z,D.targetId,de.ba),de.snapshot}(n,T,A,F);const l=await $y(n.localStore,e,!0),c=new kC(e,l.ds),f=c.ga(l.documents),m=hl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(f,n.isPrimaryClient,m);Yy(n,t,y.ba);const v=new xC(e,t,c);return n.xa.set(e,v),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function VC(n,e,t){const i=Ae(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(c=>!bc(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await mf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&ip(i.remoteStore,o.targetId),yf(i,o.targetId)}).catch(Do)):(yf(i,o.targetId),await mf(i.localStore,o.targetId,!0))}async function MC(n,e){const t=Ae(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),ip(t.remoteStore,i.targetId))}async function FC(n,e,t){const i=HC(n);try{const o=await function(c,f){const m=Ae(c),y=Et.now(),v=f.reduce((F,U)=>F.add(U.key),be());let T,A;return m.persistence.runTransaction("Locally write mutations","readwrite",F=>{let U=jr(),z=be();return m.hs.getEntries(F,v).next(D=>{U=D,U.forEach((ee,W)=>{W.isValidDocument()||(z=z.add(ee))})}).next(()=>m.localDocuments.getOverlayedDocuments(F,U)).next(D=>{T=D;const ee=[];for(const W of f){const X=rR(W,T.get(W.key).overlayedDocument);X!=null&&ee.push(new ki(W.key,X,xv(X.value.mapValue),kn.exists(!0)))}return m.mutationQueue.addMutationBatch(F,y,ee,f)}).next(D=>{A=D;const ee=D.applyToLocalDocumentSet(T,z);return m.documentOverlayCache.saveOverlays(F,D.batchId,ee)})}).then(()=>({batchId:A.batchId,changes:zv(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,f,m){let y=c.qa[c.currentUser.toKey()];y||(y=new st(Oe)),y=y.insert(f,m),c.qa[c.currentUser.toKey()]=y}(i,o.batchId,t),await fl(i,o.changes),await Uc(i.remoteStore)}catch(o){const l=up(o,"Failed to persist write");t.reject(l)}}async function I0(n,e){const t=Ae(n);try{const i=await ZR(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Ba.get(l);c&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?qe(c.Fa):o.removedDocuments.size>0&&(qe(c.Fa),c.Fa=!1))}),await fl(t,i,e)}catch(i){await Do(i)}}function Xy(n,e,t){const i=Ae(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,c)=>{const f=c.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(c,f){const m=Ae(c);m.onlineState=f;let y=!1;m.queries.forEach((v,T)=>{for(const A of T.J_)A.ea(f)&&(y=!0)}),y&&cp(m)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function UC(n,e,t){const i=Ae(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),l=o&&o.key;if(l){let c=new st(ye.comparator);c=c.insert(l,$t.newNoDocument(l,Se.min()));const f=be().add(l),m=new Vc(Se.min(),new Map,new st(Oe),c,f);await I0(i,m),i.La=i.La.remove(l),i.Ba.delete(e),hp(i)}else await mf(i.localStore,e,!1).then(()=>yf(i,e,t)).catch(Do)}async function jC(n,e){const t=Ae(n),i=e.batch.batchId;try{const o=await JR(t.localStore,e);A0(t,i,null),S0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await fl(t,o)}catch(o){await Do(o)}}async function zC(n,e,t){const i=Ae(n);try{const o=await function(c,f){const m=Ae(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return m.mutationQueue.lookupMutationBatch(y,f).next(T=>(qe(T!==null),v=T.keys(),m.mutationQueue.removeMutationBatch(y,T))).next(()=>m.mutationQueue.performConsistencyCheck(y)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(y,v,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>m.localDocuments.getDocuments(y,v))})}(i.localStore,e);A0(i,e,t),S0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await fl(i,o)}catch(o){await Do(o)}}function S0(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function A0(n,e,t){const i=Ae(n);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function yf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||R0(n,i)})}function R0(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(ip(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),hp(n))}function Yy(n,e,t){for(const i of t)i instanceof w0?(n.ka.addReference(i.key,e),BC(n,i)):i instanceof E0?(ae("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||R0(n,i.key)):Te()}function BC(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(ae("SyncEngine","New document in limbo: "+t),n.Na.add(i),hp(n))}function hp(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new ye(Je.fromString(e)),i=n.Ka.next();n.Ba.set(i,new NC(t)),n.La=n.La.insert(t,i),h0(n.remoteStore,new yi(ar(Qf(t.path)),i,"TargetPurposeLimboResolution",kc.oe))}}async function fl(n,e,t){const i=Ae(n),o=[],l=[],c=[];i.xa.isEmpty()||(i.xa.forEach((f,m)=>{c.push(i.Ua(m,e,t).then(y=>{var v;if((y||t)&&i.isPrimaryClient){const T=y?!y.fromCache:(v=t==null?void 0:t.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(y){o.push(y);const T=rp.zi(m.targetId,y);l.push(T)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(m,y){const v=Ae(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>G.forEach(y,A=>G.forEach(A.Wi,F=>v.persistence.referenceDelegate.addReference(T,A.targetId,F)).next(()=>G.forEach(A.Gi,F=>v.persistence.referenceDelegate.removeReference(T,A.targetId,F)))))}catch(T){if(!Oo(T))throw T;ae("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const A=T.targetId;if(!T.fromCache){const F=v.us.get(A),U=F.snapshotVersion,z=F.withLastLimboFreeSnapshotVersion(U);v.us=v.us.insert(A,z)}}}(i.localStore,l))}async function $C(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const i=await a0(t.localStore,e);t.currentUser=e,function(l,c){l.Qa.forEach(f=>{f.forEach(m=>{m.reject(new le(K.CANCELLED,c))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await fl(t,i.Ts)}}function qC(n,e){const t=Ae(n),i=t.Ba.get(e);if(i&&i.Fa)return be().add(i.key);{let o=be();const l=t.Oa.get(e);if(!l)return o;for(const c of l){const f=t.xa.get(c);o=o.unionWith(f.view.fa)}return o}}function C0(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=I0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UC.bind(null,e),e.Ma.R_=CC.bind(null,e.eventManager),e.Ma.Wa=PC.bind(null,e.eventManager),e}function HC(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zC.bind(null,e),e}class _c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return YR(this.persistence,new QR,e.initialUser,this.serializer)}ja(e){return new o0(np.ei,this.serializer)}za(e){return new iC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_c.provider={build:()=>new _c};class WC extends _c{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){qe(this.persistence.referenceDelegate instanceof gc);const i=this.persistence.referenceDelegate.garbageCollector;return new OR(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new o0(i=>gc.ei(i,t),this.serializer)}}class _f{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Xy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$C.bind(null,this.syncEngine),await SC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RC}()}createDatastore(e){const t=Mc(e.databaseInfo.databaseId),i=function(l){return new lC(l)}(e.databaseInfo);return function(l,c,f,m){return new hC(l,c,f,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,f){return new fC(i,o,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Xy(this.syncEngine,t,0),function(){return Hy.p()?new Hy:new sC}())}createSyncEngine(e,t){return function(o,l,c,f,m,y,v){const T=new bC(o,l,c,f,m,y);return v&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ae(o);ae("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await dl(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}_f.provider={build:()=>new _f};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Bt.UNAUTHENTICATED,this.clientId=Cv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ae("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ae("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=up(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Ud(n,e){n.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await a0(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Jy(n,e){n.asyncQueue.verifyOperationInProgress();const t=await GC(n);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Wy(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Wy(e.remoteStore,o)),n._onlineComponents=e}async function GC(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ud(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Io("Error using user provided cache. Falling back to memory cache: "+t),await Ud(n,new _c)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Ud(n,new WC(void 0));return n._offlineComponents}async function k0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await Jy(n,n._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await Jy(n,new _f))),n._onlineComponents}function QC(n){return k0(n).then(e=>e.syncEngine)}async function x0(n){const e=await k0(n),t=e.eventManager;return t.onListen=DC.bind(null,e.syncEngine),t.onUnlisten=VC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=OC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=MC.bind(null,e.syncEngine),t}function XC(n,e,t={}){const i=new Lr;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,y){const v=new P0({next:A=>{v.eu(),c.enqueueAndForget(()=>_0(l,T));const F=A.docs.has(f);!F&&A.fromCache?y.reject(new le(K.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&A.fromCache&&m&&m.source==="server"?y.reject(new le(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),T=new v0(Qf(f.path),v,{includeMetadataChanges:!0,ua:!0});return y0(l,T)}(await x0(n),n.asyncQueue,e,t,i)),i.promise}function YC(n,e,t={}){const i=new Lr;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,y){const v=new P0({next:A=>{v.eu(),c.enqueueAndForget(()=>_0(l,T)),A.fromCache&&m.source==="server"?y.reject(new le(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),T=new v0(f,v,{includeMetadataChanges:!0,ua:!0});return y0(l,T)}(await x0(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(n,e,t){if(!t)throw new le(K.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function JC(n,e,t,i){if(e===!0&&i===!0)throw new le(K.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function e_(n){if(!ye.isDocumentKey(n))throw new le(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function t_(n){if(ye.isDocumentKey(n))throw new le(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jc(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te()}function Ci(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new le(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jc(n);throw new le(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new le(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new le(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n_(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new cA;switch(i.type){case"firstParty":return new pA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new le(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Zy.get(t);i&&(ae("ComponentProvider","Removing Datastore"),Zy.delete(t),i.terminate())}(this),Promise.resolve()}}function ZC(n,e,t,i={}){var o;const l=(n=Ci(n,zc))._getSettings(),c=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let f,m;if(typeof i.mockUserToken=="string")f=i.mockUserToken,m=Bt.MOCK_USER;else{f=IT(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new le(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Bt(y)}n._authCredentials=new hA(new Rv(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Vo(this.firestore,e,this._query)}}class ln{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}}class Ei extends Vo{constructor(e,t,i){super(e,t,Qf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new ye(e))}withConverter(e){return new Ei(this.firestore,e,this._path)}}function eP(n,e,...t){if(n=kt(n),b0("collection","path",e),n instanceof zc){const i=Je.fromString(e,...t);return t_(i),new Ei(n,null,i)}{if(!(n instanceof ln||n instanceof Ei))throw new le(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Je.fromString(e,...t));return t_(i),new Ei(n.firestore,null,i)}}function ur(n,e,...t){if(n=kt(n),arguments.length===1&&(e=Cv.newId()),b0("doc","path",e),n instanceof zc){const i=Je.fromString(e,...t);return e_(i),new ln(n,null,new ye(i))}{if(!(n instanceof ln||n instanceof Ei))throw new le(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Je.fromString(e,...t));return e_(i),new ln(n.firestore,n instanceof Ei?n.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new u0(this,"async_queue_retry"),this.fu=()=>{const i=Fd();i&&ae("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Fd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Fd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Lr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Oo(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(i);throw Ur("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=lp.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Te()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class pl extends zc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new r_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new r_(e),this._firestoreClient=void 0,await e}}}function ml(n,e){const t=F_(),i="(default)",o=xf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=ET("firestore");l&&ZC(o,...l)}return o}function Bc(n){if(n._terminated)throw new le(K.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||tP(n),n._firestoreClient}function tP(n){var e,t,i;const o=n._freezeSettings(),l=function(f,m,y,v){return new kA(f,m,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,N0(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new KC(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ko(Vt.fromBase64String(e))}catch(t){throw new le(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ko(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=/^__.*__$/;class rP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ki(e,this.data,this.fieldMask,t,this.fieldTransforms):new cl(e,this.data,t,this.fieldTransforms)}}class D0{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ki(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function O0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class mp{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new mp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return vc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(O0(this.Mu)&&nP.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class iP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Mc(e)}$u(e,t,i,o=!1){return new mp({Mu:e,methodName:t,Ku:i,path:Lt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gp(n){const e=n._freezeSettings(),t=Mc(n._databaseId);return new iP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function L0(n,e,t,i,o,l={}){const c=n.$u(l.merge||l.mergeFields?2:0,e,t,o);yp("Data must be an object, but it was:",c,i);const f=V0(i,c);let m,y;if(l.merge)m=new yn(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const A=vf(e,T,t);if(!c.contains(A))throw new le(K.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);F0(v,A)||v.push(A)}m=new yn(v),y=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,y=c.fieldTransforms;return new rP(new an(f),m,y)}class qc extends dp{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qc}}function sP(n,e,t,i){const o=n.$u(1,e,t);yp("Data must be an object, but it was:",o,i);const l=[],c=an.empty();Pi(i,(m,y)=>{const v=_p(e,m,t);y=kt(y);const T=o.Bu(v);if(y instanceof qc)l.push(v);else{const A=gl(y,T);A!=null&&(l.push(v),c.set(v,A))}});const f=new yn(l);return new D0(c,f,o.fieldTransforms)}function oP(n,e,t,i,o,l){const c=n.$u(1,e,t),f=[vf(e,i,t)],m=[o];if(l.length%2!=0)throw new le(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<l.length;A+=2)f.push(vf(e,l[A])),m.push(l[A+1]);const y=[],v=an.empty();for(let A=f.length-1;A>=0;--A)if(!F0(y,f[A])){const F=f[A];let U=m[A];U=kt(U);const z=c.Bu(F);if(U instanceof qc)y.push(F);else{const D=gl(U,z);D!=null&&(y.push(F),v.set(F,D))}}const T=new yn(y);return new D0(v,T,c.fieldTransforms)}function aP(n,e,t,i=!1){return gl(t,n.$u(i?4:3,e))}function gl(n,e){if(M0(n=kt(n)))return yp("Unsupported field value:",e,n),V0(n,e);if(n instanceof dp)return function(i,o){if(!O0(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const f of i){let m=gl(f,o.ku(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=kt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return YA(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Et.fromDate(i);return{timestampValue:mc(o.serializer,l)}}if(i instanceof Et){const l=new Et(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:mc(o.serializer,l)}}if(i instanceof fp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ko)return{bytesValue:Zv(o.serializer,i._byteString)};if(i instanceof ln){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ep(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof pp)return function(c,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw f.qu("VectorValues must only contain numeric values.");return Xf(f.serializer,m)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${jc(i)}`)}(n,e)}function V0(n,e){const t={};return Pv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pi(n,(i,o)=>{const l=gl(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function M0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Et||n instanceof fp||n instanceof ko||n instanceof ln||n instanceof dp||n instanceof pp)}function yp(n,e,t){if(!M0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=jc(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function vf(n,e,t){if((e=kt(e))instanceof $c)return e._internalPath;if(typeof e=="string")return _p(n,e);throw vc("Field path arguments must be of type string or ",n,!1,void 0,t)}const lP=new RegExp("[~\\*/\\[\\]]");function _p(n,e,t){if(e.search(lP)>=0)throw vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $c(...e.split("."))._internalPath}catch{throw vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vc(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${o}`),m+=")"),new le(K.INVALID_ARGUMENT,f+n+m)}function F0(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class uP extends U0{data(){return super.data()}}function vp(n,e){return typeof e=="string"?_p(n,e):e instanceof $c?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new le(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wp{}class hP extends wp{}function dP(n,e,...t){let i=[];e instanceof wp&&i.push(e),i=i.concat(t),function(l){const c=l.filter(m=>m instanceof Ep).length,f=l.filter(m=>m instanceof Hc).length;if(c>1||c>0&&f>0)throw new le(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Hc extends hP{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Hc(e,t,i)}_apply(e){const t=this._parse(e);return j0(e._query,t),new Vo(e.firestore,e.converter,uf(e._query,t))}_parse(e){const t=gp(e.firestore);return function(l,c,f,m,y,v,T){let A;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new le(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){s_(T,v);const F=[];for(const U of T)F.push(i_(m,l,U));A={arrayValue:{values:F}}}else A=i_(m,l,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||s_(T,v),A=aP(f,c,T,v==="in"||v==="not-in");return ft.create(y,v,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function fP(n,e,t){const i=e,o=vp("where",n);return Hc._create(o,i,t)}class Ep extends wp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ep(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Wn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let c=o;const f=l.getFlattenedFilters();for(const m of f)j0(c,m),c=uf(c,m)}(e._query,t),new Vo(e.firestore,e.converter,uf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function i_(n,e,t){if(typeof(t=kt(t))=="string"){if(t==="")throw new le(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mv(e)&&t.indexOf("/")!==-1)throw new le(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Je.fromString(t));if(!ye.isDocumentKey(i))throw new le(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ay(n,new ye(i))}if(t instanceof ln)return Ay(n,t._key);throw new le(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jc(t)}.`)}function s_(n,e){if(!Array.isArray(n)||n.length===0)throw new le(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function j0(n,e){const t=function(o,l){for(const c of o)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new le(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class pP{convertValue(e,t="none"){switch(Ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Pi(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>ut(c.doubleValue));return new pp(l)}convertGeoPoint(e){return new fp(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Nc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Qa(e));default:return null}}convertTimestamp(e){const t=Ii(e);return new Et(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Je.fromString(e);qe(s0(i));const o=new Xa(i.get(1),i.get(3)),l=new ye(i.popFirst(5));return o.isEqual(t)||Ur(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class B0 extends U0{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(vp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Xu extends B0{data(e={}){return super.data(e)}}class mP{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ua(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Xu(this._firestore,this._userDataWriter,i.key,i,new Ua(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(f=>{const m=new Xu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ua(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new Xu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ua(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return f.type!==0&&(y=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:gP(f.type),doc:m,oldIndex:y,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function gP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(n){n=Ci(n,ln);const e=Ci(n.firestore,pl);return XC(Bc(e),n._key).then(t=>_P(e,n,t))}class $0 extends pP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ko(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,t)}}function yP(n){n=Ci(n,Vo);const e=Ci(n.firestore,pl),t=Bc(e),i=new $0(e);return cP(n._query),YC(t,n._query).then(o=>new mP(e,i,n,o))}function wf(n,e,t){n=Ci(n,ln);const i=Ci(n.firestore,pl),o=z0(n.converter,e,t);return q0(i,[L0(gp(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,kn.none())])}function q0(n,e){return function(i,o){const l=new Lr;return i.asyncQueue.enqueueAndForget(async()=>FC(await QC(i),o,l)),l.promise}(Bc(n),e)}function _P(n,e,t){const i=t.docs.get(e._key),o=new $0(n);return new B0(n,o,e._key,i,new Ua(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=gp(e)}set(e,t,i){this._verifyNotCommitted();const o=jd(e,this._firestore),l=z0(o.converter,t,i),c=L0(this._dataReader,"WriteBatch.set",o._key,l,o.converter!==null,i);return this._mutations.push(c.toMutation(o._key,kn.none())),this}update(e,t,i,...o){this._verifyNotCommitted();const l=jd(e,this._firestore);let c;return c=typeof(t=kt(t))=="string"||t instanceof $c?oP(this._dataReader,"WriteBatch.update",l._key,t,i,o):sP(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,kn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=jd(e,this._firestore);return this._mutations=this._mutations.concat(new Yf(t._key,kn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(K.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function jd(n,e){if((n=kt(n)).firestore!==e)throw new le(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(n){return Bc(n=Ci(n,pl)),new vP(n,e=>q0(n,e))}(function(e,t=!0){(function(o){bo=o})(xo),Eo(new fs("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new pl(new dA(i.getProvider("auth-internal")),new gA(i.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new le(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xa(y.options.projectId,v)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),wi(vy,"4.7.5",e),wi(vy,"4.7.5","esm2017")})();const wP=ml(),EP=async(n,e,t)=>{var i,o;try{const l=ur(wP,"users",n),f=ur(l,t==="movie"?"movies":"tv",e.id.toString());if((await el(f)).exists()){Ce.error(`${t==="movie"?"Movie":"TV Show"} is already on your list!`);return}const y=t==="movie"?e.title:e.name,v=t==="movie"?(i=e.release_date)==null?void 0:i.slice(0,4):(o=e.first_air_date)==null?void 0:o.slice(0,4);await wf(f,{id:e.id,type:t,name:y||"Unknown",year:v||"Unknown",rating:e.vote_average,poster_path:e.poster_path,updatedDate:new Date().toISOString().split("T")[0]}),Ce.success(`${t==="movie"?"Movie":"TV Show"} added to your list!`)}catch(l){Ce.error("Error fetching results. Please refresh and try again."),console.error("Error adding media to list:",l)}},W0=ge.createContext(void 0),TP=()=>{const n=ge.useContext(W0);if(!n)throw new Error("useSearchResults must be used within a SearchResultsProvider");return n},K0=ge.createContext({currentUser:null,isAuthorizing:!0}),vs=()=>{const n=ge.useContext(K0);if(!n)throw new Error("useAuthContext must be used within an AuthProvider");return n},Tp=()=>H.jsx("div",{className:"flex items-center justify-center h-screen",children:H.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent border-solid rounded-full animate-spin"})}),IP=()=>{const{currentUser:n}=vs(),{searchOptions:e,setSearchOptions:t,handleSearch:i,isLoadingSearchResults:o,results:l}=TP(),[c,f]=ge.useState(!1);ge.useEffect(()=>{c&&(i(),f(!1))},[e.page,c]);const m=T=>{t({page:T}),f(!0)},y=async(T,A)=>{if(!n){Ce.error("You must be logged in to add items to your list.");return}try{await EP(n.uid,T,A)}catch(F){console.error("Error adding media to list:",F)}};console.log(e.page);const v=T=>T.map(A=>{if(A.media_type){if(A.media_type==="movie")return H.jsx(La,{media:A,type:"movie",actionLabel:"Add to My List",onActionClick:()=>y(A,"movie")},A.id);if(A.media_type==="tv")return H.jsx(La,{media:A,type:"tv",actionLabel:"Add to My List",onActionClick:()=>y(A,"tv")},A.id);if(A.media_type==="person")return null}return"title"in A?H.jsx(La,{media:A,type:"movie",actionLabel:"Add to My List",onActionClick:()=>y(A,"movie")},A.id):"name"in A&&"first_air_date"in A?H.jsx(La,{media:A,type:"tv",actionLabel:"Add to My List",onActionClick:()=>y(A,"tv")},A.id):null});return H.jsxs("div",{className:"max-w-full md:max-w-3xl lg:max-w-4xl mx-auto p-6",children:[H.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Search"}),H.jsx("div",{className:"mb-6 w-full",children:H.jsx("input",{type:"text",value:e.query,onChange:T=>t({query:T.target.value}),placeholder:"Search for movies, TV shows, or people...",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-300",onKeyDown:T=>{T.key==="Enter"&&e.query&&i()}})}),H.jsxs("div",{className:"mb-6",children:[H.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Filters"}),H.jsxs("div",{className:"flex items-center text-gray-600",children:[H.jsx("div",{className:"mb-4",children:H.jsxs("label",{className:"flex items-center space-x-3",children:[H.jsx("span",{children:"Include Adult Content:"}),H.jsx("input",{type:"checkbox",checked:e.includeAdult,onChange:T=>t({includeAdult:T.target.checked}),className:"w-4 h-4"})]})}),H.jsx("div",{className:"mb-4",children:H.jsxs("label",{className:"flex items-center space-x-3",children:[H.jsx("span",{children:"Exclude Incomplete Results:"}),H.jsx("input",{type:"checkbox",checked:e.excludeIncomplete,onChange:T=>t({excludeIncomplete:T.target.checked}),className:"w-4 h-4"})]})})]}),H.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Search Type"}),H.jsxs("select",{value:e.searchType,onChange:T=>t({searchType:T.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-300",children:[H.jsx("option",{value:"movie",children:"Movies"}),H.jsx("option",{value:"tv",children:"TV Shows"}),H.jsx("option",{value:"person",children:"People"}),H.jsx("option",{value:"multi",children:"All"})]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Language"}),H.jsx("input",{type:"text",value:e.language,onChange:T=>t({language:T.target.value}),placeholder:"e.g., en-US",className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-300"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Primary Release Year"}),H.jsx("input",{type:"text",value:e.primaryReleaseYear,onChange:T=>t({primaryReleaseYear:T.target.value}),placeholder:"e.g., 2023",className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-300"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Year"}),H.jsx("input",{type:"text",value:e.year,onChange:T=>t({year:T.target.value}),placeholder:"e.g., 2023",className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-300"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Region"}),H.jsx("input",{type:"text",value:e.region,onChange:T=>t({region:T.target.value}),placeholder:"e.g., US",className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-300"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Page"}),H.jsx("input",{type:"number",value:e.page,onChange:T=>m(Number(T.target.value)),min:"1",className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-300"})]})]})]}),H.jsx("button",{onClick:i,className:"px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 transition",children:"Search"}),H.jsx("div",{className:"mt-6",children:o?H.jsx(Tp,{}):l.length>0?v(l):H.jsx("p",{className:"text-gray-600",children:"No results found. Try searching with different filters!"})})]})},G0=ge.createContext(void 0),SP=()=>{const n=ge.useContext(G0);if(!n)throw new Error("useMyList must be used within a MyListProvider");return n},Q0=ge.createContext(void 0),AP=()=>{const n=ge.useContext(Q0);if(!n)throw new Error("useMyList must be used within a MyListProvider");return n},RP=()=>{const{currentUser:n}=vs(),{myList:e,refreshMyList:t,isLoadingMyList:i}=SP(),{duoPartnerList:o,refreshDuoPartnerList:l,isLoadingDuoPartnerList:c}=AP(),[f,m]=ge.useState("myList"),[y,v]=ge.useState([]);return ge.useEffect(()=>{t(),l()},[]),ge.useEffect(()=>{if(f==="myList")v(e);else if(f==="partnerList")v(o);else if(f==="ourList"){const T=e.filter(A=>o.some(F=>F.id===A.id&&F.media_type===A.media_type));v(T)}},[f,e,o]),i||c?H.jsx(Tp,{}):H.jsxs("div",{children:[H.jsxs("div",{className:"flex justify-center mb-4",children:[H.jsx("button",{className:`px-4 py-2 mx-2 rounded ${f==="myList"?"bg-blue-500 text-white":"bg-gray-200"}`,onClick:()=>m("myList"),children:"My List"}),(n==null?void 0:n.partnerUid)&&H.jsxs(H.Fragment,{children:[H.jsx("button",{className:`px-4 py-2 mx-2 rounded ${f==="partnerList"?"bg-blue-500 text-white":"bg-gray-200"}`,onClick:()=>m("partnerList"),children:"Duo Partner's List"}),H.jsx("button",{className:`px-4 py-2 mx-2 rounded ${f==="ourList"?"bg-blue-500 text-white":"bg-gray-200"}`,onClick:()=>m("ourList"),children:"Our List"})]})]}),y.length===0?H.jsx("p",{children:"No items to display in this list."}):H.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:y.map(T=>H.jsx(La,{media:T,type:T.media_type,actionLabel:"Remove from My List",actionBtnColor:"bg-red-500",actionBtnHoverColor:"hover:bg-red-700",onActionClick:()=>console.log(`Removed ${T.media_type}: ${T.id}`)},T.id))})]})},CP=async(n,e)=>{const t=ml(),i=eP(t,"users"),o=dP(i,fP("partnerCode","==",e)),l=await yP(o);if(l.empty)throw new Error("Partner code not found.");const c=l.docs[0];if(c.data().partnerUid)throw new Error("This partner is already connected with someone else.");const m=H0(t),y=ur(i,n),v=ur(i,c.id);m.update(y,{partnerUid:c.id}),m.update(v,{partnerUid:n}),await m.commit()},PP=async n=>{const e=ml(),t=ur(e,"users",n),i=await el(t);if(!i.exists())throw new Error("User not found.");const{partnerUid:o}=i.data();if(!o)throw new Error("No partner to disconnect.");const l=ur(e,"users",o),c=H0(e);c.update(t,{partnerUid:null}),c.update(l,{partnerUid:null}),await c.commit()},kP=()=>{const{currentUser:n}=vs(),[e,t]=ge.useState(""),[i,o]=ge.useState(!1),l=()=>{n&&navigator.clipboard.writeText(n.partnerCode||"").then(()=>Ce.success("Partner code copied to clipboard!")).catch(()=>Ce.error("Failed to copy code."))},c=async()=>{if(!e.trim()){Ce.error("Please enter a valid partner code.");return}try{o(!0),await CP((n==null?void 0:n.uid)||"",e),Ce.success("Connected with partner successfully!"),t("")}catch(m){Ce.error("Failed to connect with partner. Please try again."),console.error("Error connecting with partner:",m)}finally{o(!1)}},f=async()=>{try{await PP((n==null?void 0:n.uid)||""),Ce.success("Disconnected from partner.")}catch(m){Ce.error("Failed to disconnect from partner."),console.error("Error disconnecting from partner:",m)}};return H.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white shadow-md rounded-md",children:[H.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Settings"}),H.jsxs("div",{className:"mb-6",children:[H.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Partner Management"}),H.jsxs("div",{className:"mb-4",children:[H.jsx("p",{className:"text-gray-700",children:"Share this code with your partner to connect your accounts:"}),H.jsx("div",{className:"flex flex-wrap items-center mt-4 max-w-full",children:H.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-center mt-4 max-w-full",children:[H.jsx("input",{type:"text",readOnly:!0,value:(n==null?void 0:n.partnerCode)||"Loading...",className:"w-full sm:flex-grow p-2 border border-gray-300 rounded-t-lg sm:rounded-l-lg sm:rounded-t-none focus:outline-none bg-gray-100"}),H.jsx("button",{onClick:l,className:"w-full sm:w-auto px-4 py-2 bg-blue-600 text-white font-medium rounded-b-lg sm:rounded-r-lg sm:rounded-b-none hover:bg-blue-700 focus:outline-none whitespace-nowrap",children:"Copy Code"})]})})]}),!(n!=null&&n.partnerUid)&&H.jsxs("div",{className:"mb-4 mt-8",children:[H.jsx("p",{className:"text-gray-700",children:"Enter your partner's code to connect:"}),H.jsxs("div",{className:"flex items-center mt-2",children:[H.jsx("input",{type:"text",value:e,onChange:m=>t(m.target.value),placeholder:"Enter partner code",className:"w-full p-2 border border-gray-300 rounded-l-lg focus:outline-none"}),H.jsx("button",{onClick:c,disabled:i,className:`px-4 py-2 ${i?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"} text-white font-medium rounded-r-lg focus:outline-none`,children:i?"Connecting...":"Connect"})]})]}),(n==null?void 0:n.partnerUid)&&H.jsxs("div",{className:"mb-4 mt-8",children:[H.jsx("p",{className:"text-gray-700",children:"You are currently connected with a partner."}),H.jsx("button",{onClick:f,className:"px-4 py-2 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 focus:outline-none mt-2",children:"Disconnect Partner"})]})]})]})},xP=()=>{var y;const{currentUser:n,isAuthorizing:e}=vs(),[t,i]=ge.useState("list"),[o,l]=ge.useState(!1),c=ge.useRef(null);if(ge.useEffect(()=>{const v=T=>{c.current&&!c.current.contains(T.target)&&l(!1)};return o?document.addEventListener("mousedown",v):document.removeEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[o]),e)return H.jsx(Tp,{});if(!n)return H.jsx(JS,{});const f=((y=n.displayName)==null?void 0:y.split(" ")[0])||"User",m=async()=>{try{await OI(Bf),console.log("User signed out successfully")}catch(v){console.error("Error signing out:",v)}};return H.jsxs("div",{className:"min-h-screen bg-gray-100",children:[H.jsxs("nav",{className:"bg-gray-800 text-white p-4 flex items-center justify-between",children:[H.jsxs("div",{className:"flex gap-4",children:[H.jsx("button",{className:`px-4 py-2 rounded ${t==="list"?"bg-gray-600":"hover:bg-gray-700"}`,onClick:()=>i("list"),children:"Media Lists"}),H.jsx("button",{className:`px-4 py-2 rounded ${t==="search"?"bg-gray-600":"hover:bg-gray-700"}`,onClick:()=>i("search"),children:"Search"})]}),H.jsxs("div",{className:"flex items-center gap-2 relative",ref:c,children:[H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("img",{src:n.photoURL||"https://via.placeholder.com/32",alt:f,className:"w-8 h-8 rounded-full",referrerPolicy:"no-referrer",loading:"lazy"}),H.jsx("span",{className:"text-sm",children:f})]}),H.jsx("button",{className:"text-white p-2 hover:bg-gray-700 rounded-full focus:outline-none",onClick:()=>l(v=>!v),children:H.jsx(oA,{size:24})}),o&&H.jsxs("div",{className:"absolute right-0 mt-32 w-48 bg-white text-gray-800 shadow-lg rounded-md",children:[H.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100",onClick:()=>{i("settings"),l(!1)},children:"Settings"}),H.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-red-600",onClick:m,children:"Logout"})]})]})]}),H.jsx(fT,{}),H.jsxs("div",{className:"p-4",children:[t==="list"&&H.jsx(RP,{}),t==="search"&&H.jsx(IP,{}),t==="settings"&&H.jsx(kP,{})]})]})},o_=()=>Math.random().toString(36).substring(2,10),NP=async n=>{const e=ml(),t=ur(e,"users",n.uid);try{if((await el(t)).exists())console.log("User already exists in the database.");else{let o=o_(),l=!1;for(;!l;)(await el(ur(e,"partnerCodes",o))).exists()?o=o_():l=!0;const c={uid:n.uid,displayName:n.displayName||"Anonymous",email:n.email||"No Email",partnerCode:o,partner:null,createdAt:new Date().toISOString()};await wf(t,c),console.log("User initialized in the database."),await wf(ur(e,"partnerCodes",o),{uid:n.uid})}}catch(i){throw console.error("Error initializing user in database:",i),i}},bP=({children:n})=>{const[e,t]=ge.useState(null),[i,o]=ge.useState(!0);return ge.useEffect(()=>{const l=DI(Bf,async c=>{if(c){console.log(c);try{await NP(c);const f=ml(),m=ur(f,"users",c.uid),y=await el(m);if(y.exists()){const v=y.data();t({...c,partnerCode:v.partnerCode||"",partnerUid:v.partnerUid||null,createdAt:v.createdAt||c.metadata.creationTime||""})}else console.warn(`No Firestore document found for user ${c.uid}`),t({...c,partnerCode:"",partnerUid:null,createdAt:c.metadata.creationTime||""})}catch(f){console.error("Error initializing user or fetching data:",f),t(null)}}else t(null);o(!1)});return()=>l()},[]),i?H.jsx("div",{children:"Loading..."}):H.jsx(K0.Provider,{value:{currentUser:e,isAuthorizing:i},children:n})},DP=({children:n})=>{const{currentUser:e}=vs(),[t,i]=ge.useState([]),[o,l]=ge.useState(!0),c=async()=>{var f;if(e)try{const m=(f=e==null?void 0:e.stsTokenManager)==null?void 0:f.accessToken,y=await fetch("https://watchlist-duo-backend.onrender.com/api/mylist",{method:"GET",headers:{Authorization:`Bearer ${m}`,"Content-Type":"application/json"}});if(!y.ok)throw new Error(`Failed to fetch: ${y.statusText}`);const v=await y.json();i(v),l(!1)}catch(m){console.error("Error fetching My List:",m)}};return ge.useEffect(()=>{c()},[e]),H.jsx(G0.Provider,{value:{isLoadingMyList:o,myList:t,setMyList:i,refreshMyList:c},children:n})};function X0(n,e){return function(){return n.apply(e,arguments)}}const{toString:OP}=Object.prototype,{getPrototypeOf:Ip}=Object,Wc=(n=>e=>{const t=OP.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Kn=n=>(n=n.toLowerCase(),e=>Wc(e)===n),Kc=n=>e=>typeof e===n,{isArray:Mo}=Array,tl=Kc("undefined");function LP(n){return n!==null&&!tl(n)&&n.constructor!==null&&!tl(n.constructor)&&_n(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Y0=Kn("ArrayBuffer");function VP(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Y0(n.buffer),e}const MP=Kc("string"),_n=Kc("function"),J0=Kc("number"),Gc=n=>n!==null&&typeof n=="object",FP=n=>n===!0||n===!1,Yu=n=>{if(Wc(n)!=="object")return!1;const e=Ip(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},UP=Kn("Date"),jP=Kn("File"),zP=Kn("Blob"),BP=Kn("FileList"),$P=n=>Gc(n)&&_n(n.pipe),qP=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||_n(n.append)&&((e=Wc(n))==="formdata"||e==="object"&&_n(n.toString)&&n.toString()==="[object FormData]"))},HP=Kn("URLSearchParams"),[WP,KP,GP,QP]=["ReadableStream","Request","Response","Headers"].map(Kn),XP=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yl(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,o;if(typeof n!="object"&&(n=[n]),Mo(n))for(i=0,o=n.length;i<o;i++)e.call(null,n[i],i,n);else{const l=t?Object.getOwnPropertyNames(n):Object.keys(n),c=l.length;let f;for(i=0;i<c;i++)f=l[i],e.call(null,n[f],f,n)}}function Z0(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,o;for(;i-- >0;)if(o=t[i],e===o.toLowerCase())return o;return null}const as=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ew=n=>!tl(n)&&n!==as;function Ef(){const{caseless:n}=ew(this)&&this||{},e={},t=(i,o)=>{const l=n&&Z0(e,o)||o;Yu(e[l])&&Yu(i)?e[l]=Ef(e[l],i):Yu(i)?e[l]=Ef({},i):Mo(i)?e[l]=i.slice():e[l]=i};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&yl(arguments[i],t);return e}const YP=(n,e,t,{allOwnKeys:i}={})=>(yl(e,(o,l)=>{t&&_n(o)?n[l]=X0(o,t):n[l]=o},{allOwnKeys:i}),n),JP=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),ZP=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},ek=(n,e,t,i)=>{let o,l,c;const f={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),l=o.length;l-- >0;)c=o[l],(!i||i(c,n,e))&&!f[c]&&(e[c]=n[c],f[c]=!0);n=t!==!1&&Ip(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},tk=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},nk=n=>{if(!n)return null;if(Mo(n))return n;let e=n.length;if(!J0(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},rk=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Ip(Uint8Array)),ik=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let o;for(;(o=i.next())&&!o.done;){const l=o.value;e.call(n,l[0],l[1])}},sk=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},ok=Kn("HTMLFormElement"),ak=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,o){return i.toUpperCase()+o}),a_=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),lk=Kn("RegExp"),tw=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};yl(t,(o,l)=>{let c;(c=e(o,l,n))!==!1&&(i[l]=c||o)}),Object.defineProperties(n,i)},uk=n=>{tw(n,(e,t)=>{if(_n(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(_n(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},ck=(n,e)=>{const t={},i=o=>{o.forEach(l=>{t[l]=!0})};return Mo(n)?i(n):i(String(n).split(e)),t},hk=()=>{},dk=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,zd="abcdefghijklmnopqrstuvwxyz",l_="0123456789",nw={DIGIT:l_,ALPHA:zd,ALPHA_DIGIT:zd+zd.toUpperCase()+l_},fk=(n=16,e=nw.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;n--;)t+=e[Math.random()*i|0];return t};function pk(n){return!!(n&&_n(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const mk=n=>{const e=new Array(10),t=(i,o)=>{if(Gc(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[o]=i;const l=Mo(i)?[]:{};return yl(i,(c,f)=>{const m=t(c,o+1);!tl(m)&&(l[f]=m)}),e[o]=void 0,l}}return i};return t(n,0)},gk=Kn("AsyncFunction"),yk=n=>n&&(Gc(n)||_n(n))&&_n(n.then)&&_n(n.catch),rw=((n,e)=>n?setImmediate:e?((t,i)=>(as.addEventListener("message",({source:o,data:l})=>{o===as&&l===t&&i.length&&i.shift()()},!1),o=>{i.push(o),as.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",_n(as.postMessage)),_k=typeof queueMicrotask<"u"?queueMicrotask.bind(as):typeof process<"u"&&process.nextTick||rw,q={isArray:Mo,isArrayBuffer:Y0,isBuffer:LP,isFormData:qP,isArrayBufferView:VP,isString:MP,isNumber:J0,isBoolean:FP,isObject:Gc,isPlainObject:Yu,isReadableStream:WP,isRequest:KP,isResponse:GP,isHeaders:QP,isUndefined:tl,isDate:UP,isFile:jP,isBlob:zP,isRegExp:lk,isFunction:_n,isStream:$P,isURLSearchParams:HP,isTypedArray:rk,isFileList:BP,forEach:yl,merge:Ef,extend:YP,trim:XP,stripBOM:JP,inherits:ZP,toFlatObject:ek,kindOf:Wc,kindOfTest:Kn,endsWith:tk,toArray:nk,forEachEntry:ik,matchAll:sk,isHTMLForm:ok,hasOwnProperty:a_,hasOwnProp:a_,reduceDescriptors:tw,freezeMethods:uk,toObjectSet:ck,toCamelCase:ak,noop:hk,toFiniteNumber:dk,findKey:Z0,global:as,isContextDefined:ew,ALPHABET:nw,generateString:fk,isSpecCompliantForm:pk,toJSONObject:mk,isAsyncFn:gk,isThenable:yk,setImmediate:rw,asap:_k};function Re(n,e,t,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}q.inherits(Re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const iw=Re.prototype,sw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{sw[n]={value:n}});Object.defineProperties(Re,sw);Object.defineProperty(iw,"isAxiosError",{value:!0});Re.from=(n,e,t,i,o,l)=>{const c=Object.create(iw);return q.toFlatObject(n,c,function(m){return m!==Error.prototype},f=>f!=="isAxiosError"),Re.call(c,n.message,e,t,i,o),c.cause=n,c.name=n.name,l&&Object.assign(c,l),c};const vk=null;function Tf(n){return q.isPlainObject(n)||q.isArray(n)}function ow(n){return q.endsWith(n,"[]")?n.slice(0,-2):n}function u_(n,e,t){return n?n.concat(e).map(function(o,l){return o=ow(o),!t&&l?"["+o+"]":o}).join(t?".":""):e}function wk(n){return q.isArray(n)&&!n.some(Tf)}const Ek=q.toFlatObject(q,{},null,function(e){return/^is[A-Z]/.test(e)});function Qc(n,e,t){if(!q.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=q.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(z,D){return!q.isUndefined(D[z])});const i=t.metaTokens,o=t.visitor||v,l=t.dots,c=t.indexes,m=(t.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(e);if(!q.isFunction(o))throw new TypeError("visitor must be a function");function y(U){if(U===null)return"";if(q.isDate(U))return U.toISOString();if(!m&&q.isBlob(U))throw new Re("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(U)||q.isTypedArray(U)?m&&typeof Blob=="function"?new Blob([U]):Buffer.from(U):U}function v(U,z,D){let ee=U;if(U&&!D&&typeof U=="object"){if(q.endsWith(z,"{}"))z=i?z:z.slice(0,-2),U=JSON.stringify(U);else if(q.isArray(U)&&wk(U)||(q.isFileList(U)||q.endsWith(z,"[]"))&&(ee=q.toArray(U)))return z=ow(z),ee.forEach(function(X,ne){!(q.isUndefined(X)||X===null)&&e.append(c===!0?u_([z],ne,l):c===null?z:z+"[]",y(X))}),!1}return Tf(U)?!0:(e.append(u_(D,z,l),y(U)),!1)}const T=[],A=Object.assign(Ek,{defaultVisitor:v,convertValue:y,isVisitable:Tf});function F(U,z){if(!q.isUndefined(U)){if(T.indexOf(U)!==-1)throw Error("Circular reference detected in "+z.join("."));T.push(U),q.forEach(U,function(ee,W){(!(q.isUndefined(ee)||ee===null)&&o.call(e,ee,q.isString(W)?W.trim():W,z,A))===!0&&F(ee,z?z.concat(W):[W])}),T.pop()}}if(!q.isObject(n))throw new TypeError("data must be an object");return F(n),e}function c_(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Sp(n,e){this._pairs=[],n&&Qc(n,this,e)}const aw=Sp.prototype;aw.append=function(e,t){this._pairs.push([e,t])};aw.toString=function(e){const t=e?function(i){return e.call(this,i,c_)}:c_;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function Tk(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lw(n,e,t){if(!e)return n;const i=t&&t.encode||Tk;q.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let l;if(o?l=o(e,t):l=q.isURLSearchParams(e)?e.toString():new Sp(e,t).toString(i),l){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+l}return n}class h_{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,function(i){i!==null&&e(i)})}}const uw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ik=typeof URLSearchParams<"u"?URLSearchParams:Sp,Sk=typeof FormData<"u"?FormData:null,Ak=typeof Blob<"u"?Blob:null,Rk={isBrowser:!0,classes:{URLSearchParams:Ik,FormData:Sk,Blob:Ak},protocols:["http","https","file","blob","url","data"]},Ap=typeof window<"u"&&typeof document<"u",If=typeof navigator=="object"&&navigator||void 0,Ck=Ap&&(!If||["ReactNative","NativeScript","NS"].indexOf(If.product)<0),Pk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kk=Ap&&window.location.href||"http://localhost",xk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ap,hasStandardBrowserEnv:Ck,hasStandardBrowserWebWorkerEnv:Pk,navigator:If,origin:kk},Symbol.toStringTag,{value:"Module"})),qt={...xk,...Rk};function Nk(n,e){return Qc(n,new qt.classes.URLSearchParams,Object.assign({visitor:function(t,i,o,l){return qt.isNode&&q.isBuffer(t)?(this.append(i,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function bk(n){return q.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Dk(n){const e={},t=Object.keys(n);let i;const o=t.length;let l;for(i=0;i<o;i++)l=t[i],e[l]=n[l];return e}function cw(n){function e(t,i,o,l){let c=t[l++];if(c==="__proto__")return!0;const f=Number.isFinite(+c),m=l>=t.length;return c=!c&&q.isArray(o)?o.length:c,m?(q.hasOwnProp(o,c)?o[c]=[o[c],i]:o[c]=i,!f):((!o[c]||!q.isObject(o[c]))&&(o[c]=[]),e(t,i,o[c],l)&&q.isArray(o[c])&&(o[c]=Dk(o[c])),!f)}if(q.isFormData(n)&&q.isFunction(n.entries)){const t={};return q.forEachEntry(n,(i,o)=>{e(bk(i),o,t,0)}),t}return null}function Ok(n,e,t){if(q.isString(n))try{return(e||JSON.parse)(n),q.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(0,JSON.stringify)(n)}const _l={transitional:uw,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",o=i.indexOf("application/json")>-1,l=q.isObject(e);if(l&&q.isHTMLForm(e)&&(e=new FormData(e)),q.isFormData(e))return o?JSON.stringify(cw(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e)||q.isReadableStream(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Nk(e,this.formSerializer).toString();if((f=q.isFileList(e))||i.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Qc(f?{"files[]":e}:e,m&&new m,this.formSerializer)}}return l||o?(t.setContentType("application/json",!1),Ok(e)):e}],transformResponse:[function(e){const t=this.transitional||_l.transitional,i=t&&t.forcedJSONParsing,o=this.responseType==="json";if(q.isResponse(e)||q.isReadableStream(e))return e;if(e&&q.isString(e)&&(i&&!this.responseType||o)){const c=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(f){if(c)throw f.name==="SyntaxError"?Re.from(f,Re.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qt.classes.FormData,Blob:qt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],n=>{_l.headers[n]={}});const Lk=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Vk=n=>{const e={};let t,i,o;return n&&n.split(`
`).forEach(function(c){o=c.indexOf(":"),t=c.substring(0,o).trim().toLowerCase(),i=c.substring(o+1).trim(),!(!t||e[t]&&Lk[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},d_=Symbol("internals");function Oa(n){return n&&String(n).trim().toLowerCase()}function Ju(n){return n===!1||n==null?n:q.isArray(n)?n.map(Ju):String(n)}function Mk(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const Fk=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Bd(n,e,t,i,o){if(q.isFunction(i))return i.call(this,e,t);if(o&&(e=t),!!q.isString(e)){if(q.isString(i))return e.indexOf(i)!==-1;if(q.isRegExp(i))return i.test(e)}}function Uk(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function jk(n,e){const t=q.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(o,l,c){return this[i].call(this,e,o,l,c)},configurable:!0})})}class un{constructor(e){e&&this.set(e)}set(e,t,i){const o=this;function l(f,m,y){const v=Oa(m);if(!v)throw new Error("header name must be a non-empty string");const T=q.findKey(o,v);(!T||o[T]===void 0||y===!0||y===void 0&&o[T]!==!1)&&(o[T||m]=Ju(f))}const c=(f,m)=>q.forEach(f,(y,v)=>l(y,v,m));if(q.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(q.isString(e)&&(e=e.trim())&&!Fk(e))c(Vk(e),t);else if(q.isHeaders(e))for(const[f,m]of e.entries())l(m,f,i);else e!=null&&l(t,e,i);return this}get(e,t){if(e=Oa(e),e){const i=q.findKey(this,e);if(i){const o=this[i];if(!t)return o;if(t===!0)return Mk(o);if(q.isFunction(t))return t.call(this,o,i);if(q.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Oa(e),e){const i=q.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||Bd(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let o=!1;function l(c){if(c=Oa(c),c){const f=q.findKey(i,c);f&&(!t||Bd(i,i[f],f,t))&&(delete i[f],o=!0)}}return q.isArray(e)?e.forEach(l):l(e),o}clear(e){const t=Object.keys(this);let i=t.length,o=!1;for(;i--;){const l=t[i];(!e||Bd(this,this[l],l,e,!0))&&(delete this[l],o=!0)}return o}normalize(e){const t=this,i={};return q.forEach(this,(o,l)=>{const c=q.findKey(i,l);if(c){t[c]=Ju(o),delete t[l];return}const f=e?Uk(l):String(l).trim();f!==l&&delete t[l],t[f]=Ju(o),i[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return q.forEach(this,(i,o)=>{i!=null&&i!==!1&&(t[o]=e&&q.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(o=>i.set(o)),i}static accessor(e){const i=(this[d_]=this[d_]={accessors:{}}).accessors,o=this.prototype;function l(c){const f=Oa(c);i[f]||(jk(o,c),i[f]=!0)}return q.isArray(e)?e.forEach(l):l(e),this}}un.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(un.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});q.freezeMethods(un);function $d(n,e){const t=this||_l,i=e||t,o=un.from(i.headers);let l=i.data;return q.forEach(n,function(f){l=f.call(t,l,o.normalize(),e?e.status:void 0)}),o.normalize(),l}function hw(n){return!!(n&&n.__CANCEL__)}function Fo(n,e,t){Re.call(this,n??"canceled",Re.ERR_CANCELED,e,t),this.name="CanceledError"}q.inherits(Fo,Re,{__CANCEL__:!0});function dw(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new Re("Request failed with status code "+t.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function zk(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Bk(n,e){n=n||10;const t=new Array(n),i=new Array(n);let o=0,l=0,c;return e=e!==void 0?e:1e3,function(m){const y=Date.now(),v=i[l];c||(c=y),t[o]=m,i[o]=y;let T=l,A=0;for(;T!==o;)A+=t[T++],T=T%n;if(o=(o+1)%n,o===l&&(l=(l+1)%n),y-c<e)return;const F=v&&y-v;return F?Math.round(A*1e3/F):void 0}}function $k(n,e){let t=0,i=1e3/e,o,l;const c=(y,v=Date.now())=>{t=v,o=null,l&&(clearTimeout(l),l=null),n.apply(null,y)};return[(...y)=>{const v=Date.now(),T=v-t;T>=i?c(y,v):(o=y,l||(l=setTimeout(()=>{l=null,c(o)},i-T)))},()=>o&&c(o)]}const wc=(n,e,t=3)=>{let i=0;const o=Bk(50,250);return $k(l=>{const c=l.loaded,f=l.lengthComputable?l.total:void 0,m=c-i,y=o(m),v=c<=f;i=c;const T={loaded:c,total:f,progress:f?c/f:void 0,bytes:m,rate:y||void 0,estimated:y&&f&&v?(f-c)/y:void 0,event:l,lengthComputable:f!=null,[e?"download":"upload"]:!0};n(T)},t)},f_=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},p_=n=>(...e)=>q.asap(()=>n(...e)),qk=qt.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,qt.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(qt.origin),qt.navigator&&/(msie|trident)/i.test(qt.navigator.userAgent)):()=>!0,Hk=qt.hasStandardBrowserEnv?{write(n,e,t,i,o,l){const c=[n+"="+encodeURIComponent(e)];q.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),q.isString(i)&&c.push("path="+i),q.isString(o)&&c.push("domain="+o),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Wk(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Kk(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function fw(n,e){return n&&!Wk(e)?Kk(n,e):e}const m_=n=>n instanceof un?{...n}:n;function gs(n,e){e=e||{};const t={};function i(y,v,T,A){return q.isPlainObject(y)&&q.isPlainObject(v)?q.merge.call({caseless:A},y,v):q.isPlainObject(v)?q.merge({},v):q.isArray(v)?v.slice():v}function o(y,v,T,A){if(q.isUndefined(v)){if(!q.isUndefined(y))return i(void 0,y,T,A)}else return i(y,v,T,A)}function l(y,v){if(!q.isUndefined(v))return i(void 0,v)}function c(y,v){if(q.isUndefined(v)){if(!q.isUndefined(y))return i(void 0,y)}else return i(void 0,v)}function f(y,v,T){if(T in e)return i(y,v);if(T in n)return i(void 0,y)}const m={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:f,headers:(y,v,T)=>o(m_(y),m_(v),T,!0)};return q.forEach(Object.keys(Object.assign({},n,e)),function(v){const T=m[v]||o,A=T(n[v],e[v],v);q.isUndefined(A)&&T!==f||(t[v]=A)}),t}const pw=n=>{const e=gs({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:l,headers:c,auth:f}=e;e.headers=c=un.from(c),e.url=lw(fw(e.baseURL,e.url),n.params,n.paramsSerializer),f&&c.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let m;if(q.isFormData(t)){if(qt.hasStandardBrowserEnv||qt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((m=c.getContentType())!==!1){const[y,...v]=m?m.split(";").map(T=>T.trim()).filter(Boolean):[];c.setContentType([y||"multipart/form-data",...v].join("; "))}}if(qt.hasStandardBrowserEnv&&(i&&q.isFunction(i)&&(i=i(e)),i||i!==!1&&qk(e.url))){const y=o&&l&&Hk.read(l);y&&c.set(o,y)}return e},Gk=typeof XMLHttpRequest<"u",Qk=Gk&&function(n){return new Promise(function(t,i){const o=pw(n);let l=o.data;const c=un.from(o.headers).normalize();let{responseType:f,onUploadProgress:m,onDownloadProgress:y}=o,v,T,A,F,U;function z(){F&&F(),U&&U(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let D=new XMLHttpRequest;D.open(o.method.toUpperCase(),o.url,!0),D.timeout=o.timeout;function ee(){if(!D)return;const X=un.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),pe={data:!f||f==="text"||f==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:X,config:n,request:D};dw(function(P){t(P),z()},function(P){i(P),z()},pe),D=null}"onloadend"in D?D.onloadend=ee:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(ee)},D.onabort=function(){D&&(i(new Re("Request aborted",Re.ECONNABORTED,n,D)),D=null)},D.onerror=function(){i(new Re("Network Error",Re.ERR_NETWORK,n,D)),D=null},D.ontimeout=function(){let ne=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const pe=o.transitional||uw;o.timeoutErrorMessage&&(ne=o.timeoutErrorMessage),i(new Re(ne,pe.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,n,D)),D=null},l===void 0&&c.setContentType(null),"setRequestHeader"in D&&q.forEach(c.toJSON(),function(ne,pe){D.setRequestHeader(pe,ne)}),q.isUndefined(o.withCredentials)||(D.withCredentials=!!o.withCredentials),f&&f!=="json"&&(D.responseType=o.responseType),y&&([A,U]=wc(y,!0),D.addEventListener("progress",A)),m&&D.upload&&([T,F]=wc(m),D.upload.addEventListener("progress",T),D.upload.addEventListener("loadend",F)),(o.cancelToken||o.signal)&&(v=X=>{D&&(i(!X||X.type?new Fo(null,n,D):X),D.abort(),D=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const W=zk(o.url);if(W&&qt.protocols.indexOf(W)===-1){i(new Re("Unsupported protocol "+W+":",Re.ERR_BAD_REQUEST,n));return}D.send(l||null)})},Xk=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,o;const l=function(y){if(!o){o=!0,f();const v=y instanceof Error?y:this.reason;i.abort(v instanceof Re?v:new Fo(v instanceof Error?v.message:v))}};let c=e&&setTimeout(()=>{c=null,l(new Re(`timeout ${e} of ms exceeded`,Re.ETIMEDOUT))},e);const f=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(y=>{y.unsubscribe?y.unsubscribe(l):y.removeEventListener("abort",l)}),n=null)};n.forEach(y=>y.addEventListener("abort",l));const{signal:m}=i;return m.unsubscribe=()=>q.asap(f),m}},Yk=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,o;for(;i<t;)o=i+e,yield n.slice(i,o),i=o},Jk=async function*(n,e){for await(const t of Zk(n))yield*Yk(t,e)},Zk=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},g_=(n,e,t,i)=>{const o=Jk(n,e);let l=0,c,f=m=>{c||(c=!0,i&&i(m))};return new ReadableStream({async pull(m){try{const{done:y,value:v}=await o.next();if(y){f(),m.close();return}let T=v.byteLength;if(t){let A=l+=T;t(A)}m.enqueue(new Uint8Array(v))}catch(y){throw f(y),y}},cancel(m){return f(m),o.return()}},{highWaterMark:2})},Xc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",mw=Xc&&typeof ReadableStream=="function",ex=Xc&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),gw=(n,...e)=>{try{return!!n(...e)}catch{return!1}},tx=mw&&gw(()=>{let n=!1;const e=new Request(qt.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),y_=64*1024,Sf=mw&&gw(()=>q.isReadableStream(new Response("").body)),Ec={stream:Sf&&(n=>n.body)};Xc&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ec[e]&&(Ec[e]=q.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new Re(`Response type '${e}' is not supported`,Re.ERR_NOT_SUPPORT,i)})})})(new Response);const nx=async n=>{if(n==null)return 0;if(q.isBlob(n))return n.size;if(q.isSpecCompliantForm(n))return(await new Request(qt.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(q.isArrayBufferView(n)||q.isArrayBuffer(n))return n.byteLength;if(q.isURLSearchParams(n)&&(n=n+""),q.isString(n))return(await ex(n)).byteLength},rx=async(n,e)=>{const t=q.toFiniteNumber(n.getContentLength());return t??nx(e)},ix=Xc&&(async n=>{let{url:e,method:t,data:i,signal:o,cancelToken:l,timeout:c,onDownloadProgress:f,onUploadProgress:m,responseType:y,headers:v,withCredentials:T="same-origin",fetchOptions:A}=pw(n);y=y?(y+"").toLowerCase():"text";let F=Xk([o,l&&l.toAbortSignal()],c),U;const z=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let D;try{if(m&&tx&&t!=="get"&&t!=="head"&&(D=await rx(v,i))!==0){let pe=new Request(e,{method:"POST",body:i,duplex:"half"}),de;if(q.isFormData(i)&&(de=pe.headers.get("content-type"))&&v.setContentType(de),pe.body){const[P,I]=f_(D,wc(p_(m)));i=g_(pe.body,y_,P,I)}}q.isString(T)||(T=T?"include":"omit");const ee="credentials"in Request.prototype;U=new Request(e,{...A,signal:F,method:t.toUpperCase(),headers:v.normalize().toJSON(),body:i,duplex:"half",credentials:ee?T:void 0});let W=await fetch(U);const X=Sf&&(y==="stream"||y==="response");if(Sf&&(f||X&&z)){const pe={};["status","statusText","headers"].forEach(R=>{pe[R]=W[R]});const de=q.toFiniteNumber(W.headers.get("content-length")),[P,I]=f&&f_(de,wc(p_(f),!0))||[];W=new Response(g_(W.body,y_,P,()=>{I&&I(),z&&z()}),pe)}y=y||"text";let ne=await Ec[q.findKey(Ec,y)||"text"](W,n);return!X&&z&&z(),await new Promise((pe,de)=>{dw(pe,de,{data:ne,headers:un.from(W.headers),status:W.status,statusText:W.statusText,config:n,request:U})})}catch(ee){throw z&&z(),ee&&ee.name==="TypeError"&&/fetch/i.test(ee.message)?Object.assign(new Re("Network Error",Re.ERR_NETWORK,n,U),{cause:ee.cause||ee}):Re.from(ee,ee&&ee.code,n,U)}}),Af={http:vk,xhr:Qk,fetch:ix};q.forEach(Af,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const __=n=>`- ${n}`,sx=n=>q.isFunction(n)||n===null||n===!1,yw={getAdapter:n=>{n=q.isArray(n)?n:[n];const{length:e}=n;let t,i;const o={};for(let l=0;l<e;l++){t=n[l];let c;if(i=t,!sx(t)&&(i=Af[(c=String(t)).toLowerCase()],i===void 0))throw new Re(`Unknown adapter '${c}'`);if(i)break;o[c||"#"+l]=i}if(!i){const l=Object.entries(o).map(([f,m])=>`adapter ${f} `+(m===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(__).join(`
`):" "+__(l[0]):"as no adapter specified";throw new Re("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:Af};function qd(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Fo(null,n)}function v_(n){return qd(n),n.headers=un.from(n.headers),n.data=$d.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),yw.getAdapter(n.adapter||_l.adapter)(n).then(function(i){return qd(n),i.data=$d.call(n,n.transformResponse,i),i.headers=un.from(i.headers),i},function(i){return hw(i)||(qd(n),i&&i.response&&(i.response.data=$d.call(n,n.transformResponse,i.response),i.response.headers=un.from(i.response.headers))),Promise.reject(i)})}const _w="1.7.9",Yc={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Yc[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const w_={};Yc.transitional=function(e,t,i){function o(l,c){return"[Axios v"+_w+"] Transitional option '"+l+"'"+c+(i?". "+i:"")}return(l,c,f)=>{if(e===!1)throw new Re(o(c," has been removed"+(t?" in "+t:"")),Re.ERR_DEPRECATED);return t&&!w_[c]&&(w_[c]=!0,console.warn(o(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,c,f):!0}};Yc.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function ox(n,e,t){if(typeof n!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let o=i.length;for(;o-- >0;){const l=i[o],c=e[l];if(c){const f=n[l],m=f===void 0||c(f,l,n);if(m!==!0)throw new Re("option "+l+" must be "+m,Re.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Re("Unknown option "+l,Re.ERR_BAD_OPTION)}}const Zu={assertOptions:ox,validators:Yc},sr=Zu.validators;class hs{constructor(e){this.defaults=e,this.interceptors={request:new h_,response:new h_}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=gs(this.defaults,t);const{transitional:i,paramsSerializer:o,headers:l}=t;i!==void 0&&Zu.assertOptions(i,{silentJSONParsing:sr.transitional(sr.boolean),forcedJSONParsing:sr.transitional(sr.boolean),clarifyTimeoutError:sr.transitional(sr.boolean)},!1),o!=null&&(q.isFunction(o)?t.paramsSerializer={serialize:o}:Zu.assertOptions(o,{encode:sr.function,serialize:sr.function},!0)),Zu.assertOptions(t,{baseUrl:sr.spelling("baseURL"),withXsrfToken:sr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=l&&q.merge(l.common,l[t.method]);l&&q.forEach(["delete","get","head","post","put","patch","common"],U=>{delete l[U]}),t.headers=un.concat(c,l);const f=[];let m=!0;this.interceptors.request.forEach(function(z){typeof z.runWhen=="function"&&z.runWhen(t)===!1||(m=m&&z.synchronous,f.unshift(z.fulfilled,z.rejected))});const y=[];this.interceptors.response.forEach(function(z){y.push(z.fulfilled,z.rejected)});let v,T=0,A;if(!m){const U=[v_.bind(this),void 0];for(U.unshift.apply(U,f),U.push.apply(U,y),A=U.length,v=Promise.resolve(t);T<A;)v=v.then(U[T++],U[T++]);return v}A=f.length;let F=t;for(T=0;T<A;){const U=f[T++],z=f[T++];try{F=U(F)}catch(D){z.call(this,D);break}}try{v=v_.call(this,F)}catch(U){return Promise.reject(U)}for(T=0,A=y.length;T<A;)v=v.then(y[T++],y[T++]);return v}getUri(e){e=gs(this.defaults,e);const t=fw(e.baseURL,e.url);return lw(t,e.params,e.paramsSerializer)}}q.forEach(["delete","get","head","options"],function(e){hs.prototype[e]=function(t,i){return this.request(gs(i||{},{method:e,url:t,data:(i||{}).data}))}});q.forEach(["post","put","patch"],function(e){function t(i){return function(l,c,f){return this.request(gs(f||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}hs.prototype[e]=t(),hs.prototype[e+"Form"]=t(!0)});class Rp{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const i=this;this.promise.then(o=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](o);i._listeners=null}),this.promise.then=o=>{let l;const c=new Promise(f=>{i.subscribe(f),l=f}).then(o);return c.cancel=function(){i.unsubscribe(l)},c},e(function(l,c,f){i.reason||(i.reason=new Fo(l,c,f),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Rp(function(o){e=o}),cancel:e}}}function ax(n){return function(t){return n.apply(null,t)}}function lx(n){return q.isObject(n)&&n.isAxiosError===!0}const Rf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Rf).forEach(([n,e])=>{Rf[e]=n});function vw(n){const e=new hs(n),t=X0(hs.prototype.request,e);return q.extend(t,hs.prototype,e,{allOwnKeys:!0}),q.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return vw(gs(n,o))},t}const it=vw(_l);it.Axios=hs;it.CanceledError=Fo;it.CancelToken=Rp;it.isCancel=hw;it.VERSION=_w;it.toFormData=Qc;it.AxiosError=Re;it.Cancel=it.CanceledError;it.all=function(e){return Promise.all(e)};it.spread=ax;it.isAxiosError=lx;it.mergeConfig=gs;it.AxiosHeaders=un;it.formToJSON=n=>cw(q.isHTMLForm(n)?new FormData(n):n);it.getAdapter=yw.getAdapter;it.HttpStatusCode=Rf;it.default=it;const ux=({children:n})=>{const{currentUser:e}=vs(),[t,i]=ge.useState([]),[o,l]=ge.useState(!1),[c,f]=ge.useState({query:"",includeAdult:!1,language:"en-US",primaryReleaseYear:"",year:"",region:"",searchType:"multi",excludeIncomplete:!1,page:1}),m=async()=>{var v;if(!c.query)return;const y="https://watchlist-duo-backend.onrender.com/api/search";try{if(!e){Ce.error("User not authenticated. Please log in.");return}const T=(v=e==null?void 0:e.stsTokenManager)==null?void 0:v.accessToken;l(!0);let A;c.searchType==="movie"?A=await it.get(y,{headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"},params:{query:c.query.trim(),includeAdult:c.includeAdult,language:c.language,primaryReleaseYear:c.primaryReleaseYear||void 0,year:c.year||void 0,region:c.region||void 0,searchType:c.searchType,page:c.page}}):c.searchType==="tv"?A=await it.get(y,{headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"},params:{query:c.query.trim(),includeAdult:c.includeAdult,language:c.language,primaryReleaseYear:c.primaryReleaseYear||void 0,year:c.year||void 0,region:c.region||void 0,searchType:c.searchType,page:c.page}}):c.searchType==="person"?A=await it.get(y,{headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"},params:{query:c.query.trim(),includeAdult:c.includeAdult,language:c.language,searchType:c.searchType,page:c.page}}):A=await it.get(y,{headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"},params:{query:c.query.trim(),includeAdult:c.includeAdult,language:c.language,primaryReleaseYear:c.primaryReleaseYear||void 0,year:c.year||void 0,region:c.region||void 0,searchType:c.searchType,page:c.page}}),console.log(A.data.results),i(A.data.results)}catch(T){Ce.error("Error fetching results. Please refresh and try again."),console.error("Error fetching results:",T)}finally{l(!1)}};return H.jsx(W0.Provider,{value:{isLoadingSearchResults:o,results:t,searchOptions:c,setSearchOptions:y=>f(v=>({...v,...y})),handleSearch:m},children:n})},cx=({children:n})=>{const{currentUser:e}=vs(),[t,i]=ge.useState([]),[o,l]=ge.useState(!0),c=async()=>{var f;if(e)try{const m=(f=e==null?void 0:e.stsTokenManager)==null?void 0:f.accessToken,v=await(await fetch("https://watchlist-duo-backend.onrender.com/api/duoPartnerList",{headers:{Authorization:`Bearer ${m}`,"Content-Type":"application/json"}})).json();i(v),l(!1)}catch(m){console.error("Error fetching My List:",m)}};return ge.useEffect(()=>{c()},[e]),H.jsx(Q0.Provider,{value:{isLoadingDuoPartnerList:o,duoPartnerList:t,setDuoPartnerList:i,refreshDuoPartnerList:c},children:n})};bE.createRoot(document.getElementById("root")).render(H.jsx(Ue.StrictMode,{children:H.jsx(bP,{children:H.jsx(DP,{children:H.jsx(cx,{children:H.jsx(ux,{children:H.jsx(xP,{})})})})})}));
